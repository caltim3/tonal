<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="The CDN for everything on npm"/><link rel="icon" type="image/jpeg" href="/favicon.jpg"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/styles-D6XP7YEC.css"/><link rel="stylesheet" href="https://app.unpkg.com/_assets/code-light-B2LHUSJR.css"/><script type="importmap">{"imports":{"preact":"https://unpkg.com/preact@10.25.4/dist/preact.module.js","preact/hooks":"https://unpkg.com/preact@10.25.4/hooks/dist/hooks.module.js","preact/jsx-runtime":"https://unpkg.com/preact@10.25.4/jsx-runtime/dist/jsxRuntime.module.js"}}</script><script type="module" src="https://app.unpkg.com/_assets/scripts-5LWG6LQM.js" defer></script><title>UNPKG</title><script async src="https://www.googletagmanager.com/gtag/js?id=UA-140352188-1"></script><script>window.dataLayer = window.dataLayer || [];
function gtag(){dataLayer.push(arguments);}
gtag('js', new Date());
gtag('config', 'UA-140352188-1');</script></head><body><header class="border-b border-slate-300 bg-slate-100 text-slate-950"><div class="p-4 mx-auto flex justify-between items-center lg:max-w-screen-xl"><h1 class="text-2xl font-bold inline-block"><a href="https://unpkg.com">UNPKG</a></h1><span class="inline-block h-full"><a href="https://github.com/unpkg"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg></a></span></div></header><main class="px-4 pb-24 mx-auto lg:max-w-screen-xl lg:pb-44"><header class="pt-6 pb-4 lg:pt-16"><div class="mb-6 flex justify-between items-center"><h1 class="text-black text-3xl leading-tight font-semibold">tonal</h1><div class="text-right w-48"><span>Version: </span><span data-hydrate="{&quot;key&quot;:&quot;VersionSelector&quot;,&quot;props&quot;:{&quot;availableTags&quot;:{&quot;alpha-1&quot;:&quot;0.60.0&quot;,&quot;alpha&quot;:&quot;3.0.0-alpha2&quot;,&quot;latest&quot;:&quot;6.4.1&quot;},&quot;availableVersions&quot;:[&quot;6.4.1&quot;,&quot;6.4.0&quot;,&quot;6.3.0&quot;,&quot;6.2.0&quot;,&quot;6.1.0&quot;,&quot;6.0.1&quot;,&quot;6.0.0&quot;,&quot;5.2.1&quot;,&quot;5.2.0&quot;,&quot;5.1.3&quot;,&quot;5.1.2&quot;,&quot;5.1.0&quot;,&quot;5.0.1&quot;,&quot;5.0.0&quot;,&quot;4.14.2&quot;,&quot;4.14.1&quot;,&quot;4.14.0&quot;,&quot;4.13.0&quot;,&quot;4.12.0&quot;,&quot;4.11.0&quot;,&quot;4.10.0&quot;,&quot;4.9.0&quot;,&quot;4.8.1&quot;,&quot;4.8.0&quot;,&quot;4.7.3&quot;,&quot;4.7.2&quot;,&quot;4.7.1&quot;,&quot;4.7.0&quot;,&quot;4.6.10&quot;,&quot;3.0.0-alpha2&quot;,&quot;3.0.0-alpha1&quot;,&quot;3.0.0-alpha0&quot;,&quot;2.2.2&quot;,&quot;2.2.1&quot;,&quot;2.2.0&quot;,&quot;2.1.2&quot;,&quot;2.1.1&quot;,&quot;2.1.0&quot;,&quot;2.0.0&quot;,&quot;1.1.5&quot;,&quot;1.1.3&quot;,&quot;1.1.2&quot;,&quot;1.1.0&quot;,&quot;1.0.0&quot;,&quot;1.0.0-pre6&quot;,&quot;1.0.0-pre5&quot;,&quot;1.0.0-pre4&quot;,&quot;1.0.0-pre3&quot;,&quot;1.0.0-pre2&quot;,&quot;1.0.0-1&quot;,&quot;1.0.0-0&quot;,&quot;0.69.9&quot;,&quot;0.69.8&quot;,&quot;0.69.7&quot;,&quot;0.69.6&quot;,&quot;0.69.5&quot;,&quot;0.69.4&quot;,&quot;0.69.3&quot;,&quot;0.69.2&quot;,&quot;0.69.1&quot;,&quot;0.69.0&quot;,&quot;0.68.1&quot;,&quot;0.68.0&quot;,&quot;0.67.0&quot;,&quot;0.66.0&quot;,&quot;0.65.0&quot;,&quot;0.64.1&quot;,&quot;0.64.0&quot;,&quot;0.63.1&quot;,&quot;0.63.0&quot;,&quot;0.62.0&quot;,&quot;0.61.0&quot;,&quot;0.60.0&quot;,&quot;0.50.4&quot;,&quot;0.50.3&quot;,&quot;0.50.2&quot;,&quot;0.50.1&quot;,&quot;0.50.0&quot;,&quot;0.32.1&quot;,&quot;0.32.0&quot;,&quot;0.20.0&quot;,&quot;0.11.0&quot;,&quot;0.10.0&quot;,&quot;0.9.0&quot;,&quot;0.8.0&quot;,&quot;0.7.0&quot;,&quot;0.6.0&quot;,&quot;0.5.0&quot;,&quot;0.4.0&quot;,&quot;0.2.0&quot;,&quot;0.1.0&quot;],&quot;currentVersion&quot;:&quot;6.4.1&quot;,&quot;pathnameFormat&quot;:&quot;/tonal@%s/files/browser/tonal.min.js&quot;,&quot;class&quot;:&quot;w-28 p-1 border border-slate-300 bg-slate-100 text-sm&quot;}}"><select name="version" class="w-28 p-1 border border-slate-300 bg-slate-100 text-sm"><optgroup label="Tags"><option value="3.0.0-alpha2">alpha (3.0.0-alpha2)</option><option value="0.60.0">alpha-1 (0.60.0)</option><option selected value="6.4.1">latest (6.4.1)</option></optgroup><optgroup label="Versions"><option selected value="6.4.1">6.4.1</option><option value="6.4.0">6.4.0</option><option value="6.3.0">6.3.0</option><option value="6.2.0">6.2.0</option><option value="6.1.0">6.1.0</option><option value="6.0.1">6.0.1</option><option value="6.0.0">6.0.0</option><option value="5.2.1">5.2.1</option><option value="5.2.0">5.2.0</option><option value="5.1.3">5.1.3</option><option value="5.1.2">5.1.2</option><option value="5.1.0">5.1.0</option><option value="5.0.1">5.0.1</option><option value="5.0.0">5.0.0</option><option value="4.14.2">4.14.2</option><option value="4.14.1">4.14.1</option><option value="4.14.0">4.14.0</option><option value="4.13.0">4.13.0</option><option value="4.12.0">4.12.0</option><option value="4.11.0">4.11.0</option><option value="4.10.0">4.10.0</option><option value="4.9.0">4.9.0</option><option value="4.8.1">4.8.1</option><option value="4.8.0">4.8.0</option><option value="4.7.3">4.7.3</option><option value="4.7.2">4.7.2</option><option value="4.7.1">4.7.1</option><option value="4.7.0">4.7.0</option><option value="4.6.10">4.6.10</option><option value="3.0.0-alpha2">3.0.0-alpha2</option><option value="3.0.0-alpha1">3.0.0-alpha1</option><option value="3.0.0-alpha0">3.0.0-alpha0</option><option value="2.2.2">2.2.2</option><option value="2.2.1">2.2.1</option><option value="2.2.0">2.2.0</option><option value="2.1.2">2.1.2</option><option value="2.1.1">2.1.1</option><option value="2.1.0">2.1.0</option><option value="2.0.0">2.0.0</option><option value="1.1.5">1.1.5</option><option value="1.1.3">1.1.3</option><option value="1.1.2">1.1.2</option><option value="1.1.0">1.1.0</option><option value="1.0.0">1.0.0</option><option value="1.0.0-pre6">1.0.0-pre6</option><option value="1.0.0-pre5">1.0.0-pre5</option><option value="1.0.0-pre4">1.0.0-pre4</option><option value="1.0.0-pre3">1.0.0-pre3</option><option value="1.0.0-pre2">1.0.0-pre2</option><option value="1.0.0-1">1.0.0-1</option><option value="1.0.0-0">1.0.0-0</option><option value="0.69.9">0.69.9</option><option value="0.69.8">0.69.8</option><option value="0.69.7">0.69.7</option><option value="0.69.6">0.69.6</option><option value="0.69.5">0.69.5</option><option value="0.69.4">0.69.4</option><option value="0.69.3">0.69.3</option><option value="0.69.2">0.69.2</option><option value="0.69.1">0.69.1</option><option value="0.69.0">0.69.0</option><option value="0.68.1">0.68.1</option><option value="0.68.0">0.68.0</option><option value="0.67.0">0.67.0</option><option value="0.66.0">0.66.0</option><option value="0.65.0">0.65.0</option><option value="0.64.1">0.64.1</option><option value="0.64.0">0.64.0</option><option value="0.63.1">0.63.1</option><option value="0.63.0">0.63.0</option><option value="0.62.0">0.62.0</option><option value="0.61.0">0.61.0</option><option value="0.60.0">0.60.0</option><option value="0.50.4">0.50.4</option><option value="0.50.3">0.50.3</option><option value="0.50.2">0.50.2</option><option value="0.50.1">0.50.1</option><option value="0.50.0">0.50.0</option><option value="0.32.1">0.32.1</option><option value="0.32.0">0.32.0</option><option value="0.20.0">0.20.0</option><option value="0.11.0">0.11.0</option><option value="0.10.0">0.10.0</option><option value="0.9.0">0.9.0</option><option value="0.8.0">0.8.0</option><option value="0.7.0">0.7.0</option><option value="0.6.0">0.6.0</option><option value="0.5.0">0.5.0</option><option value="0.4.0">0.4.0</option><option value="0.2.0">0.2.0</option><option value="0.1.0">0.1.0</option></optgroup></select></span></div></div><div class="mt-2"><p class="mb-3 leading-tight"><span>tonaljs music theory library</span></p><div class="lg:hidden"><p class="mt-1 text-sm leading-4"><a href="https://github.com/tonaljs/tonal#readme" title="Visit the tonal website" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="none" viewBox="0 0 24 24" class="w-6 h-6"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.213 9.787a3.391 3.391 0 0 0-4.795 0l-3.425 3.426a3.39 3.39 0 0 0 4.795 4.794l.321-.304m-.321-4.49a3.39 3.39 0 0 0 4.795 0l3.424-3.426a3.39 3.39 0 0 0-4.794-4.795l-1.028.961"></path></svg><span class="ml-1">github.com/tonaljs/tonal</span></a></p><p class="mt-1 text-sm leading-4"><a href="https://github.com/tonaljs/tonal" title="View the tonal repository on GitHub" class="inline-flex items-center hover:text-slate-950 hover:underline"><svg aria-hidden="true" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path fill-rule="evenodd" d="M12.006 2a9.847 9.847 0 0 0-6.484 2.44 10.32 10.32 0 0 0-3.393 6.17 10.48 10.48 0 0 0 1.317 6.955 10.045 10.045 0 0 0 5.4 4.418c.504.095.683-.223.683-.494 0-.245-.01-1.052-.014-1.908-2.78.62-3.366-1.21-3.366-1.21a2.711 2.711 0 0 0-1.11-1.5c-.907-.637.07-.621.07-.621.317.044.62.163.885.346.266.183.487.426.647.71.135.253.318.476.538.655a2.079 2.079 0 0 0 2.37.196c.045-.52.27-1.006.635-1.37-2.219-.259-4.554-1.138-4.554-5.07a4.022 4.022 0 0 1 1.031-2.75 3.77 3.77 0 0 1 .096-2.713s.839-.275 2.749 1.05a9.26 9.26 0 0 1 5.004 0c1.906-1.325 2.74-1.05 2.74-1.05.37.858.406 1.828.101 2.713a4.017 4.017 0 0 1 1.029 2.75c0 3.939-2.339 4.805-4.564 5.058a2.471 2.471 0 0 1 .679 1.897c0 1.372-.012 2.477-.012 2.814 0 .272.18.592.687.492a10.05 10.05 0 0 0 5.388-4.421 10.473 10.473 0 0 0 1.313-6.948 10.32 10.32 0 0 0-3.39-6.165A9.847 9.847 0 0 0 12.007 2Z" clip-rule="evenodd"></path></svg><span class="ml-1">tonaljs/tonal</span></a></p></div></div></header><nav class="py-2"><span><a href="https://app.unpkg.com/tonal@6.4.1" class="text-blue-600 hover:underline">tonal</a></span><span> / </span><span><a href="https://app.unpkg.com/tonal@6.4.1/files/browser" class="text-blue-600 hover:underline">browser</a></span><span> / </span><span>tonal.min.js</span></nav><div class="p-3 border border-slate-300 bg-slate-100 text-sm flex justify-between select-none"><div class="w-64"><span><span>3 lines </span><span>(2 loc) </span><span>• </span></span><span>43.1 kB</span></div><div class="hidden flex-grow sm:block text-center">JavaScript</div><div class="w-64 hidden sm:block text-right"><a href="https://unpkg.com/tonal@6.4.1/browser/tonal.min.js" class="py-1 px-2 border border-slate-300 bg-slate-100 hover:bg-slate-200 rounded-sm">View Raw</a></div></div><div data-hydrate="{&quot;key&quot;:&quot;CodeViewer&quot;,&quot;props&quot;:{&quot;html&quot;:&quot;&lt;span class=\&quot;hljs-meta\&quot;>&amp;quot;use strict&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Tonal&lt;/span>=(&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Vt&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>defineProperty&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ho=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>getOwnPropertyDescriptor&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> vo=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>getOwnPropertyNames&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> yo=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>&lt;span class=\&quot;hljs-keyword\&quot;>prototype&lt;/span>&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>hasOwnProperty&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;{&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> e &lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> n)&lt;span class=\&quot;hljs-title class_\&quot;>Vt&lt;/span>(t,e,{&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:n[e],&lt;span class=\&quot;hljs-attr\&quot;>enumerable&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>})},bo=&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e,r&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> n==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;object&amp;quot;&lt;/span>||&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> n==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;function&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o &lt;span class=\&quot;hljs-keyword\&quot;>of&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>vo&lt;/span>(n))!yo.&lt;span class=\&quot;hljs-title function_\&quot;>call&lt;/span>(t,o)&amp;amp;&amp;amp;o!==e&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-title class_\&quot;>Vt&lt;/span>(t,o,{&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>n[o],&lt;span class=\&quot;hljs-attr\&quot;>enumerable&lt;/span>:!(r=&lt;span class=\&quot;hljs-title function_\&quot;>ho&lt;/span>(n,o))||r.&lt;span class=\&quot;hljs-property\&quot;>enumerable&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ao&lt;/span>=t=&amp;gt;&lt;span class=\&quot;hljs-title function_\&quot;>bo&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Vt&lt;/span>({},&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;__esModule&amp;quot;&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>value&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>}),t);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> bi={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(bi,{&lt;span class=\&quot;hljs-title class_\&quot;>AbcNotation&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Kt&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ut&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Chord&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>on,&lt;span class=\&quot;hljs-title class_\&quot;>ChordDictionary&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>vi,&lt;span class=\&quot;hljs-title class_\&quot;>ChordType&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>dt,&lt;span class=\&quot;hljs-title class_\&quot;>Collection&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Qt&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Core&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>$t,&lt;span class=\&quot;hljs-title class_\&quot;>DurationValue&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>an,&lt;span class=\&quot;hljs-title class_\&quot;>Interval&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>nn,&lt;span class=\&quot;hljs-title class_\&quot;>Key&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>vn,&lt;span class=\&quot;hljs-title class_\&quot;>Midi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>cn,&lt;span class=\&quot;hljs-title class_\&quot;>Mode&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Sn&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Note&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>dn,&lt;span class=\&quot;hljs-title class_\&quot;>PcSet&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>hi,&lt;span class=\&quot;hljs-title class_\&quot;>Pcset&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ft,&lt;span class=\&quot;hljs-title class_\&quot;>Progression&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>xn,&lt;span class=\&quot;hljs-title class_\&quot;>Range&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Tn&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>RhythmPattern&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Cn&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>RomanNumeral&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>pn,&lt;span class=\&quot;hljs-title class_\&quot;>Scale&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Rn&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>ScaleDictionary&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>yi,&lt;span class=\&quot;hljs-title class_\&quot;>ScaleType&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>gt,&lt;span class=\&quot;hljs-title class_\&quot;>TimeSignature&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>_n,&lt;span class=\&quot;hljs-title class_\&quot;>Tonal&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Mi&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>VoiceLeading&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>On&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Voicing&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>zn,&lt;span class=\&quot;hljs-title class_\&quot;>VoicingDictionary&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>kn,&lt;span class=\&quot;hljs-attr\&quot;>accToAlt&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>L,&lt;span class=\&quot;hljs-attr\&quot;>altToAcc&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>F,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Kn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>coordToInterval&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>q,&lt;span class=\&quot;hljs-attr\&quot;>coordToNote&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ct,&lt;span class=\&quot;hljs-attr\&quot;>coordinates&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>U,&lt;span class=\&quot;hljs-attr\&quot;>deprecate&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Bn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>A,&lt;span class=\&quot;hljs-attr\&quot;>fillStr&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>lo,&lt;span class=\&quot;hljs-attr\&quot;>height&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>kt,&lt;span class=\&quot;hljs-attr\&quot;>interval&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>f,&lt;span class=\&quot;hljs-attr\&quot;>isNamed&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>fo,&lt;span class=\&quot;hljs-attr\&quot;>isNamedPitch&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>C,&lt;span class=\&quot;hljs-attr\&quot;>isPitch&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>_,&lt;span class=\&quot;hljs-attr\&quot;>midi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Un&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>note&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>s,&lt;span class=\&quot;hljs-attr\&quot;>pitch&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>X,&lt;span class=\&quot;hljs-attr\&quot;>stepToLetter&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>zt,&lt;span class=\&quot;hljs-attr\&quot;>tokenizeInterval&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Lt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tokenizeNote&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>Q,&lt;span class=\&quot;hljs-attr\&quot;>tonicIntervalsTransposer&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>O,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>p});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Kt&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Kt&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>abcToScientificNotation&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>et,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Oo&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ae,&lt;span class=\&quot;hljs-attr\&quot;>scientificToAbcNotation&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ht&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tokenize&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Bt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>oe});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>C&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t!==&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;object&amp;quot;&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;name&amp;quot;&lt;/span>&lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Hn&lt;/span>=[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>9&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>11&lt;/span>],&lt;span class=\&quot;hljs-title class_\&quot;>Kn&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{step:t,alt:n}&lt;/span>)=&amp;gt;&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Hn&lt;/span>[t]+n+&lt;span class=\&quot;hljs-number\&quot;>120&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>,kt=&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{step:t,alt:n,oct:e,dir:r=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>}&lt;/span>)=&amp;gt;&lt;/span>r*(&lt;span class=\&quot;hljs-title class_\&quot;>Hn&lt;/span>[t]+n+&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>*(e===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?-&lt;span class=\&quot;hljs-number\&quot;>100&lt;/span>:e)),&lt;span class=\&quot;hljs-title class_\&quot;>Un&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>kt&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>!==&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;n&amp;gt;=-&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>&amp;amp;&amp;amp;n&amp;lt;=&lt;span class=\&quot;hljs-number\&quot;>115&lt;/span>?n+&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>_&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t!==&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;object&amp;quot;&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;step&amp;quot;&lt;/span>&lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>step&lt;/span>==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;alt&amp;quot;&lt;/span>&lt;span class=\&quot;hljs-keyword\&quot;>in&lt;/span> t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>&amp;amp;&amp;amp;!&lt;span class=\&quot;hljs-built_in\&quot;>isNaN&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>step&lt;/span>)&amp;amp;&amp;amp;!&lt;span class=\&quot;hljs-built_in\&quot;>isNaN&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Xn&lt;/span>=[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>],&lt;span class=\&quot;hljs-title class_\&quot;>Qn&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Xn&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(t*&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>));&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>U&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:o=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>}=t,a=&lt;span class=\&quot;hljs-title class_\&quot;>Xn&lt;/span>[n]+&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>*e;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[o*a];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=r-&lt;span class=\&quot;hljs-title class_\&quot;>Qn&lt;/span>[n]-&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>*e;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[o*a,o*i]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> go=[&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>6&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>X&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e,r]=t,o=go[&lt;span class=\&quot;hljs-title class_\&quot;>No&lt;/span>(n)],a=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>((n+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)/&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:a,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:r};&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=e+&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>*a+&lt;span class=\&quot;hljs-title class_\&quot;>Qn&lt;/span>[o];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:a,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:r}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>No&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=(t+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>+&lt;span class=\&quot;hljs-attr\&quot;>n&lt;/span>:n}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Jn&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>abs&lt;/span>(n)+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(t),qt=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>freeze&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>num&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>q&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>simple&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>semitones&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>coord&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>}),&lt;span class=\&quot;hljs-title class_\&quot;>So&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;([-+]?\\\\d+)(d{1,4}|m|M|P|A{1,4})&amp;quot;&lt;/span>,xo=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;(AA|A|P|M|m|d|dd)([-+]?\\\\d+)&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Io&lt;/span>=&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>RegExp&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;^&amp;quot;&lt;/span>+&lt;span class=\&quot;hljs-title class_\&quot;>So&lt;/span>+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;|&amp;quot;&lt;/span>+xo+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;$&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Lt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>Io&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>exec&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${t}&lt;/span>`&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n===&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>?[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]:n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]?[n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>],n[&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>]]:[n[&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>],n[&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>]]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Wn&lt;/span>={};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title class_\&quot;>Wn&lt;/span>[t]||(&lt;span class=\&quot;hljs-title class_\&quot;>Wn&lt;/span>[t]=&lt;span class=\&quot;hljs-title function_\&quot;>jo&lt;/span>(t)):&lt;span class=\&quot;hljs-title function_\&quot;>_&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Co&lt;/span>(t)):&lt;span class=\&quot;hljs-title function_\&quot;>C&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>):qt}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Zn&lt;/span>=[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>9&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>11&lt;/span>],&lt;span class=\&quot;hljs-title class_\&quot;>Yn&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;PMMPPMM&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>jo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>Lt&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> qt;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=+n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],r=n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>],o=(&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>abs&lt;/span>(e)-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>,a=&lt;span class=\&quot;hljs-title class_\&quot;>Yn&lt;/span>[o];&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(a===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M&amp;quot;&lt;/span>&amp;amp;&amp;amp;r===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;P&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> qt;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=a===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;majorable&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;perfectable&amp;quot;&lt;/span>,m=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>+e+r,c=e&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,u=e===&lt;span class=\&quot;hljs-number\&quot;>8&lt;/span>||e===-&lt;span class=\&quot;hljs-number\&quot;>8&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>e&lt;/span>:c*(o+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),M=&lt;span class=\&quot;hljs-title class_\&quot;>To&lt;/span>(i,r),y=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>((&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>abs&lt;/span>(e)-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)/&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>),l=c*(&lt;span class=\&quot;hljs-title class_\&quot;>Zn&lt;/span>[o]+M+&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>*y),P=(c*(&lt;span class=\&quot;hljs-title class_\&quot;>Zn&lt;/span>[o]+M)%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>+&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>,h=&lt;span class=\&quot;hljs-title function_\&quot;>U&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:M,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:y,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:c});&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:m,&lt;span class=\&quot;hljs-attr\&quot;>num&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>q&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:M,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:c,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>simple&lt;/span>:u,&lt;span class=\&quot;hljs-attr\&quot;>semitones&lt;/span>:l,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:P,&lt;span class=\&quot;hljs-attr\&quot;>coord&lt;/span>:h,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:y}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>q&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[e,r=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]=t,o=e*&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>+r*&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,a=n||o?[-e,-r,-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]:[e,r,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>X&lt;/span>(a))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>To&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M&amp;quot;&lt;/span>&amp;amp;&amp;amp;t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;majorable&amp;quot;&lt;/span>||n===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;P&amp;quot;&lt;/span>&amp;amp;&amp;amp;t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;perfectable&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>:n===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m&amp;quot;&lt;/span>&amp;amp;&amp;amp;t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;majorable&amp;quot;&lt;/span>?-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-regexp\&quot;>/^A+$/&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>test&lt;/span>(n)?n.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>:&lt;span class=\&quot;hljs-regexp\&quot;>/^d+$/&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>test&lt;/span>(n)?-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>*(t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;perfectable&amp;quot;&lt;/span>?n.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>):&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Co&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:r=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:o}=t;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!o)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=n+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>+&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>*r,i=a===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?n+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:a,m=o&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;-&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,c=&lt;span class=\&quot;hljs-title class_\&quot;>Yn&lt;/span>[n]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;majorable&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;perfectable&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> m+i+&lt;span class=\&quot;hljs-title class_\&quot;>Eo&lt;/span>(c,e)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Eo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;majorable&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;P&amp;quot;&lt;/span>:n===-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>&amp;amp;&amp;amp;t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;majorable&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m&amp;quot;&lt;/span>:n&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-title class_\&quot;>Jn&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;A&amp;quot;&lt;/span>,n):&lt;span class=\&quot;hljs-title class_\&quot;>Jn&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;d&amp;quot;&lt;/span>,t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;perfectable&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>n&lt;/span>:n+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>te&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>abs&lt;/span>(n)+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(t),ee=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>freeze&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>letter&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>acc&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>pc&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>height&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>coord&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>midi&lt;/span>:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>freq&lt;/span>:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>}),ne=&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Map&lt;/span>,zt=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;CDEFGAB&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>charAt&lt;/span>(t),F=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>te&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;b&amp;quot;&lt;/span>,-t):&lt;span class=\&quot;hljs-title function_\&quot;>te&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;#&amp;quot;&lt;/span>,t),L=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;b&amp;quot;&lt;/span>?-t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>:t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>JSON&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>stringify&lt;/span>(t),e=ne.&lt;span class=\&quot;hljs-title function_\&quot;>get&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title class_\&quot;>Ro&lt;/span>(t):&lt;span class=\&quot;hljs-title function_\&quot;>_&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>_o&lt;/span>(t)):&lt;span class=\&quot;hljs-title function_\&quot;>C&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>):ee;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> ne.&lt;span class=\&quot;hljs-title function_\&quot;>set&lt;/span>(n,r),r}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Do&lt;/span>=&lt;span class=\&quot;hljs-regexp\&quot;>/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\\d*)\\s*(.*)$/&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Q&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>Do&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>exec&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n?[n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>].&lt;span class=\&quot;hljs-title function_\&quot;>toUpperCase&lt;/span>(),n[&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>].&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-regexp\&quot;>/x/g&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;##&amp;quot;&lt;/span>),n[&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>],n[&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>]]:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ct&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>X&lt;/span>(t))}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>wo&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;(t%n+n)%n,&lt;span class=\&quot;hljs-title class_\&quot;>Gt&lt;/span>=[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>9&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>11&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ro&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>Q&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>||n[&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>]!==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> ee;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],r=n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>],o=n[&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>],a=(e.&lt;span class=\&quot;hljs-title function_\&quot;>charCodeAt&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)+&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>,i=&lt;span class=\&quot;hljs-title function_\&quot;>L&lt;/span>(r),m=o.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>?+&lt;span class=\&quot;hljs-attr\&quot;>o&lt;/span>:&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,c=&lt;span class=\&quot;hljs-title function_\&quot;>U&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:a,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:m}),u=e+r+o,M=e+r,y=(&lt;span class=\&quot;hljs-title class_\&quot;>Gt&lt;/span>[a]+i+&lt;span class=\&quot;hljs-number\&quot;>120&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>,l=m===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>wo&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Gt&lt;/span>[a]+i,&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>)-&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>*&lt;span class=\&quot;hljs-number\&quot;>99&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Gt&lt;/span>[a]+i+&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>*(m+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),P=l&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;l&amp;lt;=&lt;span class=\&quot;hljs-number\&quot;>127&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>l&lt;/span>:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,h=m===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>null&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>pow&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,(l-&lt;span class=\&quot;hljs-number\&quot;>69&lt;/span>)/&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>)*&lt;span class=\&quot;hljs-number\&quot;>440&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>acc&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:y,&lt;span class=\&quot;hljs-attr\&quot;>coord&lt;/span>:c,&lt;span class=\&quot;hljs-attr\&quot;>freq&lt;/span>:h,&lt;span class=\&quot;hljs-attr\&quot;>height&lt;/span>:l,&lt;span class=\&quot;hljs-attr\&quot;>letter&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>midi&lt;/span>:P,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:u,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:m,&lt;span class=\&quot;hljs-attr\&quot;>pc&lt;/span>:M,&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:a}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>_o&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:r}=t,o=&lt;span class=\&quot;hljs-title function_\&quot;>zt&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!o)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=o+&lt;span class=\&quot;hljs-title function_\&quot;>F&lt;/span>(e);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r||r===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?a+&lt;span class=\&quot;hljs-attr\&quot;>r&lt;/span>:a}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t),r=&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(n)?&lt;span class=\&quot;hljs-attr\&quot;>n&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(n).&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||!r||r.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=e.&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>,a=o.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?[o[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]+r[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]]:[o[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]+r[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],o[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]+r[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ct&lt;/span>(a).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>O&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!n)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=r&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?(e- -r%e)%&lt;span class=\&quot;hljs-attr\&quot;>e&lt;/span>:r%e,a=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(r/e),i=&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(n,[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,a]);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(i,t[o])}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>A&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t),r=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=e.&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>,a=r.&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>,i=a[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]-o[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],m=o.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>&amp;amp;&amp;amp;a.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>?a[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]-o[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]:-&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(i*&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>),c=r.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>===e.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>&amp;amp;&amp;amp;r.&lt;span class=\&quot;hljs-property\&quot;>midi&lt;/span>!==&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>&amp;amp;&amp;amp;e.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>===r.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>&amp;amp;&amp;amp;e.&lt;span class=\&quot;hljs-property\&quot;>step&lt;/span>&amp;gt;r.&lt;span class=\&quot;hljs-property\&quot;>step&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>q&lt;/span>([i,m],c).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>re&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>(n+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(t),&lt;span class=\&quot;hljs-title class_\&quot;>Fo&lt;/span>=&lt;span class=\&quot;hljs-regexp\&quot;>/^(_{1,}|=|\\^{1,}|)([abcdefgABCDEFG])([,&amp;#x27;]*)$/&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Bt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>Fo&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>exec&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n?[n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>],n[&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>],n[&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>]]:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>et&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e,r]=&lt;span class=\&quot;hljs-title class_\&quot;>Bt&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i&amp;lt;r.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;i++)o+=r.&lt;span class=\&quot;hljs-title function_\&quot;>charAt&lt;/span>(i)===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;,&amp;quot;&lt;/span>?-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;_&amp;quot;&lt;/span>?n.&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-regexp\&quot;>/_/g&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;b&amp;quot;&lt;/span>):n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;^&amp;quot;&lt;/span>?n.&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-regexp\&quot;>/\\^/g&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;#&amp;quot;&lt;/span>):&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.&lt;span class=\&quot;hljs-title function_\&quot;>charCodeAt&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>96&lt;/span>?e.&lt;span class=\&quot;hljs-title function_\&quot;>toUpperCase&lt;/span>()+a+(o+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>):e+a+o}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ht&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||!n.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>&amp;amp;&amp;amp;n.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>!==&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>letter&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>acc&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:o}=n,a=r[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;b&amp;quot;&lt;/span>?r.&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-regexp\&quot;>/b/g&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;_&amp;quot;&lt;/span>):r.&lt;span class=\&quot;hljs-title function_\&quot;>replace&lt;/span>(&lt;span class=\&quot;hljs-regexp\&quot;>/#/g&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;^&amp;quot;&lt;/span>),i=o&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>?e.&lt;span class=\&quot;hljs-title function_\&quot;>toLowerCase&lt;/span>():e,m=o===&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>:o&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>re&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;#x27;&amp;quot;&lt;/span>,o-&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>):&lt;span class=\&quot;hljs-title function_\&quot;>re&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;,&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>-o);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> a+i+m}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>oe&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ht&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>et&lt;/span>(t),n))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ae&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>A&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>et&lt;/span>(t),&lt;span class=\&quot;hljs-title function_\&quot;>et&lt;/span>(n))}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Oo&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>abcToScientificNotation&lt;/span>:et,&lt;span class=\&quot;hljs-attr\&quot;>scientificToAbcNotation&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ht&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tokenize&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Bt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:oe,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:ae};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ut&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Ut&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>compact&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Lo&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>permutations&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>me,&lt;span class=\&quot;hljs-attr\&quot;>range&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ko,&lt;span class=\&quot;hljs-attr\&quot;>rotate&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>qo,&lt;span class=\&quot;hljs-attr\&quot;>shuffle&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>zo,&lt;span class=\&quot;hljs-attr\&quot;>sortedNoteNames&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ie,&lt;span class=\&quot;hljs-attr\&quot;>sortedUniqNoteNames&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Go&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>$o&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;n--;e[n]=n+t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Vo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;n--;e[n]=t-n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ko&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t&amp;lt;n?$o(t,n-t+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>):&lt;span class=\&quot;hljs-title class_\&quot;>Vo&lt;/span>(t,t-n+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>qo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=n.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>,r=(t%e+e)%e;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(r,e).&lt;span class=\&quot;hljs-title function_\&quot;>concat&lt;/span>(n.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,r))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Lo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>n===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||n)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ie&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(e)).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>!e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>sort&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>e,r&lt;/span>)=&amp;gt;&lt;/span>e.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>-r.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>e.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Go&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ie&lt;/span>(t).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e,r&lt;/span>)=&amp;gt;&lt;/span>e===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||n!==r[e-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>zo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=&lt;span class=\&quot;hljs-built_in\&quot;>Math&lt;/span>.random&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e,r,o=t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;o;)e=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>()*o--),r=t[o],t[o]=t[e],t[e]=r;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>me&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?[[]]:&lt;span class=\&quot;hljs-title function_\&quot;>me&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e&lt;/span>)=&amp;gt;&lt;/span>n.&lt;span class=\&quot;hljs-title function_\&quot;>concat&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=e.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>();&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> a.&lt;span class=\&quot;hljs-title function_\&quot;>splice&lt;/span>(o,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]),a})),[])}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> on={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(on,{&lt;span class=\&quot;hljs-attr\&quot;>chord&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ge&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chordScales&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Be&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>it,&lt;span class=\&quot;hljs-attr\&quot;>degrees&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Xe&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>detect&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>pt,&lt;span class=\&quot;hljs-attr\&quot;>extended&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>He&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>R,&lt;span class=\&quot;hljs-attr\&quot;>getChord&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>at,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ue&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>reduced&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ke&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>steps&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Qe&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tokenize&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>Y,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ze});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> dt={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(dt,{&lt;span class=\&quot;hljs-attr\&quot;>add&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Wt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>addAlias&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Se&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>D,&lt;span class=\&quot;hljs-attr\&quot;>chordType&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ve,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ma,&lt;span class=\&quot;hljs-attr\&quot;>entries&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ge,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ot,&lt;span class=\&quot;hljs-attr\&quot;>keys&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ae&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ye,&lt;span class=\&quot;hljs-attr\&quot;>removeAll&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ne&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>symbols&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>be});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ft={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(ft,{&lt;span class=\&quot;hljs-title class_\&quot;>EmptyPcset&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>x,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ut,&lt;span class=\&quot;hljs-attr\&quot;>chromas&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Pe&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Yo&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>filter&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>he,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>v,&lt;span class=\&quot;hljs-attr\&quot;>includes&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Zo&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>fe,&lt;span class=\&quot;hljs-attr\&quot;>isChroma&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>rt,&lt;span class=\&quot;hljs-attr\&quot;>isEqual&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Me&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>isNoteIncludedIn&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>lt,&lt;span class=\&quot;hljs-attr\&quot;>isSubsetOf&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>G,&lt;span class=\&quot;hljs-attr\&quot;>isSupersetOf&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>z,&lt;span class=\&quot;hljs-attr\&quot;>modes&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>W,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>pe,&lt;span class=\&quot;hljs-attr\&quot;>num&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>de,&lt;span class=\&quot;hljs-attr\&quot;>pcset&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>le});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Qt&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Qt&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>compact&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>J,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ko&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>permutations&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Xt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>range&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>$,&lt;span class=\&quot;hljs-attr\&quot;>rotate&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>E,&lt;span class=\&quot;hljs-attr\&quot;>shuffle&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>se});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Bo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;n--;e[n]=n+t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ho&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;n--;e[n]=t-n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>$&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t&amp;lt;n?&lt;span class=\&quot;hljs-title class_\&quot;>Bo&lt;/span>(t,n-t+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>):&lt;span class=\&quot;hljs-title class_\&quot;>Ho&lt;/span>(t,t-n+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>E&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=n.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>,r=(t%e+e)%e;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(r,e).&lt;span class=\&quot;hljs-title function_\&quot;>concat&lt;/span>(n.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,r))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>J&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>n===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||n)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>se&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=&lt;span class=\&quot;hljs-built_in\&quot;>Math&lt;/span>.random&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e,r,o=t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;o;)e=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>()*o--),r=t[o],t[o]=t[e],t[e]=r;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Xt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?[[]]:&lt;span class=\&quot;hljs-title class_\&quot;>Xt&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e&lt;/span>)=&amp;gt;&lt;/span>n.&lt;span class=\&quot;hljs-title function_\&quot;>concat&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=e.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>();&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> a.&lt;span class=\&quot;hljs-title function_\&quot;>splice&lt;/span>(o,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]),a})),[])}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ko&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>compact&lt;/span>:J,&lt;span class=\&quot;hljs-attr\&quot;>permutations&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Xt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>range&lt;/span>:$,&lt;span class=\&quot;hljs-attr\&quot;>rotate&lt;/span>:E,&lt;span class=\&quot;hljs-attr\&quot;>shuffle&lt;/span>:se};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> x={&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>setNum&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;000000000000&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>normalized&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;000000000000&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:[]},&lt;span class=\&quot;hljs-title class_\&quot;>Jt&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Number&lt;/span>(t).&lt;span class=\&quot;hljs-title function_\&quot;>toString&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>padStart&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;0&amp;quot;&lt;/span>),ce=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-built_in\&quot;>parseInt&lt;/span>(t,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>),&lt;span class=\&quot;hljs-title class_\&quot;>Uo&lt;/span>=&lt;span class=\&quot;hljs-regexp\&quot;>/^[01]{12}$/&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>rt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Uo&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>test&lt;/span>(t)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Xo&lt;/span>=t=&amp;gt;&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>&amp;amp;&amp;amp;t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;t&amp;lt;=&lt;span class=\&quot;hljs-number\&quot;>4095&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Qo&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-title function_\&quot;>rt&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>),ue={[x.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>]:x};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>rt&lt;/span>(t)?&lt;span class=\&quot;hljs-attr\&quot;>t&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Xo&lt;/span>(t)?&lt;span class=\&quot;hljs-title class_\&quot;>Jt&lt;/span>(t):&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>ea&lt;/span>(t):&lt;span class=\&quot;hljs-title class_\&quot;>Qo&lt;/span>(t)?t.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>:x.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> ue[n]=ue[n]||&lt;span class=\&quot;hljs-title function_\&quot;>na&lt;/span>(n)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> le=v,ut=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>,fe=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>,de=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Jo&lt;/span>=[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;2m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;2M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;4P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5d&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;6m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7M&amp;quot;&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Wo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;e&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>;e++)t.&lt;span class=\&quot;hljs-title function_\&quot;>charAt&lt;/span>(e)===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1&amp;quot;&lt;/span>&amp;amp;&amp;amp;n.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Jo&lt;/span>[e]);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>pe&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C&amp;quot;&lt;/span>,n))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Pe&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> $(&lt;span class=\&quot;hljs-number\&quot;>2048&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4095&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Jt&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>W&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>J&lt;/span>(r.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>o,a&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=&lt;span class=\&quot;hljs-title function_\&quot;>E&lt;/span>(a,r);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n&amp;amp;&amp;amp;i[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;0&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>null&lt;/span>:i.&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)}))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Me&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>===&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(n).&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>G&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(e).&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n&amp;amp;&amp;amp;n!==r&amp;amp;&amp;amp;(r&amp;amp;n)===r}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>z&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(e).&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n&amp;amp;&amp;amp;n!==r&amp;amp;&amp;amp;(r|n)===r}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>lt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(e);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n&amp;amp;&amp;amp;!r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>&amp;amp;&amp;amp;n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>charAt&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1&amp;quot;&lt;/span>}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Zo&lt;/span>=lt;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>he&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>lt&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>e.&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(n)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Yo&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:v,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:ut,&lt;span class=\&quot;hljs-attr\&quot;>num&lt;/span>:de,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:fe,&lt;span class=\&quot;hljs-attr\&quot;>chromas&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Pe&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>isSupersetOf&lt;/span>:z,&lt;span class=\&quot;hljs-attr\&quot;>isSubsetOf&lt;/span>:G,&lt;span class=\&quot;hljs-attr\&quot;>isNoteIncludedIn&lt;/span>:lt,&lt;span class=\&quot;hljs-attr\&quot;>isEqual&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Me&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>filter&lt;/span>:he,&lt;span class=\&quot;hljs-attr\&quot;>modes&lt;/span>:W,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:pe,&lt;span class=\&quot;hljs-attr\&quot;>pcset&lt;/span>:le};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ta&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=t.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>e,r&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>E&lt;/span>(r,n).&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>na&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>ce&lt;/span>(t),e=&lt;span class=\&quot;hljs-title function_\&quot;>ta&lt;/span>(t).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(ce).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>a&lt;/span>=&amp;gt;&lt;/span>a&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>2048&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>sort&lt;/span>()[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],r=&lt;span class=\&quot;hljs-title class_\&quot;>Jt&lt;/span>(e),o=&lt;span class=\&quot;hljs-title class_\&quot;>Wo&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>setNum&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:t,&lt;span class=\&quot;hljs-attr\&quot;>normalized&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:o}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ea&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> x.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n,e=[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;r&amp;lt;t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;r++)n=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t[r]),n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>&amp;amp;&amp;amp;(n=&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t[r])),n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||(e[n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>]=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ra=[[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M ^  maj&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj7 \\u0394 ma7 M7 Maj7 ^7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj9 \\u03949 ^9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M 9M 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major thirteenth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj13 Maj13 ^13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sixth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;6 add6 add13 M6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 6M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sixth added ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;6add9 6/9 69 M69&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major seventh flat sixth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M7b6 ^7b6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major seventh sharp eleventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj#4 \\u0394#4 \\u0394#11 M7#11 ^7#11 maj7#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m min -&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7 min7 mi7 -7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor/major seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m/ma7 m/maj7 mM7 mMaj7 m/M7 -\\u03947 m\\u0394 -^7 -maj7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor sixth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m6 -6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m9 -9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor/major ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mM9 mMaj9 -^9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 7m 9M 11P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor eleventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m11 -11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 7m 9M 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor thirteenth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m13 -13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;diminished&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dim \\xB0 o&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d 7d&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;diminished seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dim7 \\xB07 o7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;half-diminished&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7b5 \\xF8 -7b5 h7 h&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dominant seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7 dom&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dominant ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9M 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dominant thirteenth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian dominant seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#11 7#4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dominant flat ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dominant sharp ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;altered&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;alt7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;suspended fourth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sus4 sus&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;suspended second&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sus2&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;suspended fourth seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7sus4 7sus&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 5P 7m 9M 11P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;eleventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;suspended fourth flat ninth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;b9sus phryg 7b9sus 7b9sus4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;fifth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;augmented&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;aug + +5 ^#5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor augmented&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m#5 -#5 m+&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;augmented seventh&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj7#5 maj7+5 +maj7 ^7#5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M 9M 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major sharp eleventh (lydian)&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj9#11 \\u03949#11 ^9#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 4P 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sus24 sus4add9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj9#5 Maj9#5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#5 +7 7+ 7aug aug7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7m 9A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#5#9 7#9#5 7alt&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9#5 9+&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7m 9M 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9#5#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#5b9 7b9#5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 7m 9m 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#5b9#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 9A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;+add#9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5A 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M#5add9 +add9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 6M 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M6#11 M6b5 6#11 6b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 6M 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M7add13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 6M 9M 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;69#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 6M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m69 -69&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M 9A 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj7#9#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M 9M 11A 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M13#11 maj13#11 M13+4 M13#4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7M 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M7b9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 11A 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#11b13 7b5b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7add6 67 7add13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9A 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#9#11 7b5#9 7#9b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9A 11A 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13#9#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9A 11A 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#9#11b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9A 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13#9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9A 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#9b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9M 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9#11 9+4 9#4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9M 11A 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13#11 13+4 13#4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9M 11A 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9#11b13 9b5b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9m 11A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b9#11 7b5b9 7b9b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9m 11A 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13b9#11&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9m 11A 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b9b13#11 7b9#11b13 7b5b9b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9m 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13b9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9m 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b9b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 7m 9m 9A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b9#9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Madd9 2 add9 add2&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Maddb9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5d&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Mb5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5d 6M 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5d 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M7b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5d 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M9b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5d 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5d 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7no5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 7m 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9no5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 7m 9M 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13no5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 7m 9M 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9b13&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;madd4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mMaj7b6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 6m 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mMaj9b6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 7m 11P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7add11 m7add4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;madd9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;o7M7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;oM7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mb6M7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7#5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 6m 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m9#5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5A 7m 9M 11P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m11A&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 6m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mb6b9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 5d 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m9b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5A 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M7#5sus4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5A 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M9#5sus4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5A 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#5sus4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M7sus4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;M9sus4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9sus4 9sus&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P 7m 9M 13M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;13sus4 13sus&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 5P 7m 9m 13m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7sus4b9b13 7b9b13sus4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 4P 7m 10m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;4 quartal&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 5P 7m 9m 11P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;11b9&amp;quot;&lt;/span>]],oa=ra,aa={...x,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>quality&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Unknown&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:[]},Z=[],B={};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ot&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> B[t]||aa}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ve=ot;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ye&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> Z.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>be&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> Z.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ae&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>keys&lt;/span>(B)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>D&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> Z.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>()}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ge=D;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ne&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){Z=[],B={}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Wt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>ia&lt;/span>(t),o={...&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t),&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:e||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>quality&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:t,&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:n};Z.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(o),o.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>&amp;amp;&amp;amp;(B[o.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>]=o),B[o.&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>]=o,B[o.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>]=o,o.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>a&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Se&lt;/span>(o,a))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Se&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){B[n]=t}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ia&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>=e=&amp;gt;t.&lt;span class=\&quot;hljs-title function_\&quot;>indexOf&lt;/span>(e)!==-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5A&amp;quot;&lt;/span>)?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Augmented&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M&amp;quot;&lt;/span>)?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Major&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5d&amp;quot;&lt;/span>)?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Diminished&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m&amp;quot;&lt;/span>)?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Minor&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Unknown&amp;quot;&lt;/span>}oa.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>[t,n,e]&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Wt&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),e.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),n));Z.&lt;span class=\&quot;hljs-title function_\&quot;>sort&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>-n.&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ma={&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:ye,&lt;span class=\&quot;hljs-attr\&quot;>symbols&lt;/span>:be,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:ot,&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:D,&lt;span class=\&quot;hljs-attr\&quot;>add&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Wt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>removeAll&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ne&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>keys&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ae&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>entries&lt;/span>:ge,&lt;span class=\&quot;hljs-attr\&quot;>chordType&lt;/span>:ve};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>sa&lt;/span>=t=&amp;gt;{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=t.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>e,r&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(r).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> o!==&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;(e[o]=e[o]||&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(r).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>),e},{});&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>n[e]};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>pt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n={}&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(o).&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>o);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> s.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?[]:&lt;span class=\&quot;hljs-title class_\&quot;>Pa&lt;/span>(e,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,n).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>o.&lt;span class=\&quot;hljs-property\&quot;>weight&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>sort&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>o,a&lt;/span>)=&amp;gt;&lt;/span>a.&lt;span class=\&quot;hljs-property\&quot;>weight&lt;/span>-o.&lt;span class=\&quot;hljs-property\&quot;>weight&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>o.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Pt&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>anyThirds&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>384&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>perfectFifth&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>16&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>nonPerfectFifths&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>40&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>anySeventh&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>},&lt;span class=\&quot;hljs-title class_\&quot;>Mt&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>!!(n&amp;amp;t),ca=&lt;span class=\&quot;hljs-title class_\&quot;>Mt&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Pt&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>anyThirds&lt;/span>),ua=&lt;span class=\&quot;hljs-title class_\&quot;>Mt&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Pt&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>perfectFifth&lt;/span>),la=&lt;span class=\&quot;hljs-title class_\&quot;>Mt&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Pt&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>anySeventh&lt;/span>),fa=&lt;span class=\&quot;hljs-title class_\&quot;>Mt&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Pt&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>nonPerfectFifths&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>da&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-built_in\&quot;>parseInt&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ca&lt;/span>(n)&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-title function_\&quot;>ua&lt;/span>(n)&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-title function_\&quot;>la&lt;/span>(n)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>pa&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-built_in\&quot;>parseInt&lt;/span>(t,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>fa&lt;/span>(n)?&lt;span class=\&quot;hljs-attr\&quot;>t&lt;/span>:(n|&lt;span class=\&quot;hljs-number\&quot;>16&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>toString&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Pa&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],o=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(r).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>,a=&lt;span class=\&quot;hljs-title function_\&quot;>sa&lt;/span>(t),i=&lt;span class=\&quot;hljs-title function_\&quot;>W&lt;/span>(t,!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),m=[];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> i.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>c,u&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> M=e.&lt;span class=\&quot;hljs-property\&quot;>assumePerfectFifth&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-title function_\&quot;>pa&lt;/span>(c);&lt;span class=\&quot;hljs-title function_\&quot;>D&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>l&lt;/span>=&amp;gt;&lt;/span>e.&lt;span class=\&quot;hljs-property\&quot;>assumePerfectFifth&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-title function_\&quot;>da&lt;/span>(l)?l.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>===&lt;span class=\&quot;hljs-attr\&quot;>M&lt;/span>:l.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>===c).&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>l&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> P=l.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],h=&lt;span class=\&quot;hljs-title function_\&quot;>a&lt;/span>(u);u!==o?m.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>weight&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>.5&lt;/span>*n,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${h}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${P}&lt;/span>/&lt;span class=\&quot;hljs-subst\&quot;>${r}&lt;/span>`&lt;/span>}):m.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>weight&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>*n,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${h}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${P}&lt;/span>`&lt;/span>})})}),m}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> nn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(nn,{&lt;span class=\&quot;hljs-attr\&quot;>add&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Yt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>addTo&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Re&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>tn,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>we,&lt;span class=\&quot;hljs-attr\&quot;>fromSemitones&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>De&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Zt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>invert&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ee&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ie&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>xe,&lt;span class=\&quot;hljs-attr\&quot;>num&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ce&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>quality&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Te&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>semitones&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>je,&lt;span class=\&quot;hljs-attr\&quot;>simplify&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ht,&lt;span class=\&quot;hljs-attr\&quot;>subtract&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>vt,&lt;span class=\&quot;hljs-attr\&quot;>transposeFifths&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>yt});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>xe&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5P 6m 7m&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Zt&lt;/span>=f,&lt;span class=\&quot;hljs-title class_\&quot;>Ie&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,je=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>semitones&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Te&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>q&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Ce&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>num&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ht&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>simple&lt;/span>+n.&lt;span class=\&quot;hljs-property\&quot;>q&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ee&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=(&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>-n.&lt;span class=\&quot;hljs-property\&quot;>step&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>,r=n.&lt;span class=\&quot;hljs-property\&quot;>type&lt;/span>===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;perfectable&amp;quot;&lt;/span>?-n.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>:-(n.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>dir&lt;/span>}).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ma&lt;/span>=[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>6&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>6&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>],ha=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;P m M m M P d P m M m M&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>De&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=t&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,e=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>abs&lt;/span>(t),r=e%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>,o=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(e/&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n*(&lt;span class=\&quot;hljs-title class_\&quot;>Ma&lt;/span>[r]+&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>*o)+ha[r]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> we=A,&lt;span class=\&quot;hljs-title class_\&quot;>Yt&lt;/span>=&lt;span class=\&quot;hljs-title function_\&quot;>_e&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;/span>[t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]+n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],t[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]+n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]]),&lt;span class=\&quot;hljs-title class_\&quot;>Re&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Yt&lt;/span>(t,n),vt=&lt;span class=\&quot;hljs-title function_\&quot;>_e&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;/span>[t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]-n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],t[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]-n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]]);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>yt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title class_\&quot;>Zt&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[r,o,a]=e.&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>q&lt;/span>([r+n,o,a]).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> tn={&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:xe,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Zt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ie&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>num&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ce&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>semitones&lt;/span>:je,&lt;span class=\&quot;hljs-attr\&quot;>quality&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Te&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>fromSemitones&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>De&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:we,&lt;span class=\&quot;hljs-attr\&quot;>invert&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ee&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>simplify&lt;/span>:ht,&lt;span class=\&quot;hljs-attr\&quot;>add&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Yt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>addTo&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Re&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>subtract&lt;/span>:vt,&lt;span class=\&quot;hljs-attr\&quot;>transposeFifths&lt;/span>:yt};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>_e&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(n).&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>,o=&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(e).&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r&amp;amp;&amp;amp;o){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=&lt;span class=\&quot;hljs-title function_\&quot;>t&lt;/span>(r,o);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>q&lt;/span>(a).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>}}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> gt={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(gt,{&lt;span class=\&quot;hljs-title class_\&quot;>NoScaleType&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Fe&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>add&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>en,&lt;span class=\&quot;hljs-attr\&quot;>addAlias&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>qe,&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>w,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ba,&lt;span class=\&quot;hljs-attr\&quot;>entries&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>$e,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>K,&lt;span class=\&quot;hljs-attr\&quot;>keys&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ve&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>At&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>removeAll&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ke,&lt;span class=\&quot;hljs-attr\&quot;>scaleType&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Oe&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> va=[[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major pentatonic&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5P 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ionian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;aeolian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 3M 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major blues&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 5d 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor blues&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;blues&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5P 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;melodic minor&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;harmonic minor&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5P 6M 7m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;bebop&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5d 6m 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;diminished&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;whole-half diminished&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dorian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4A 5P 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mixolydian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dominant&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4P 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;phrygian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4P 5d 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 4P 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ionian pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 4P 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mixolydian pentatonic&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;indian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 4P 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ritusen&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 4P 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;egyptian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 4P 5d 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;neopolitan major pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 5P 6m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;vietnamese 1&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 5P 6m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;pelog&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 4P 5P 6m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;kumoijoshi&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 5P 6m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;hirajoshi&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 4P 5d 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;iwato&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 4P 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;in-sen&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 4A 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian pentatonic&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;chinese&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;malkos raga&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 5d 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian pentatonic&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor seven flat five pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor pentatonic&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;vietnamese 2&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor six pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;flat three pentatonic&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;kumoi&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 5P 6m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;flat six pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 5P 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;scriabin&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5d 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;whole tone pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 4A 5A 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian #5P pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 4A 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian dominant pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4P 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor #7M pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 4d 5d 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;super locrian pentatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor hexatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2A 3M 5P 5A 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;augmented&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 4P 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;piongio&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4A 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;prometheus neopolitan&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4A 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;prometheus&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 5d 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mystery #1&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4P 5A 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;six tone symmetric&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4A 5A 6A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;whole tone&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;messiaen&amp;#x27;s mode #1&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 4P 4A 5P 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;messiaen&amp;#x27;s mode #5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5d 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian major&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;arabian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4A 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;double harmonic lydian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 2A 3M 4A 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;altered&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;super locrian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;diminished whole tone&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;pomeroy&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5d 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian #2&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;half-diminished&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;aeolian b5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mixolydian b6&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;melodic minor fifth mode&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;hindu&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4A 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian dominant&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian b7&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;overtone&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4A 5A 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian augmented&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4P 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dorian b2&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;phrygian #6&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;melodic minor second mode&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4d 5d 6m 7d&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ultralocrian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;superlocrian bb7&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;superlocrian diminished&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4P 5d 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian 6&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian natural 6&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian sharp 6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2A 3M 4P 5P 5A 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;augmented heptatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4A 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dorian #4&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ukrainian dorian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;romanian minor&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;altered dorian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4A 5P 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian diminished&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4A 5A 7m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;leading whole tone&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4A 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian minor&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4P 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;phrygian dominant&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;spanish&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;phrygian major&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4P 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;balinese&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4P 5P 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;neopolitan major&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;harmonic major&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4P 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;double harmonic major&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;gypsy&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4A 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;hungarian minor&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2A 3M 4A 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;hungarian major&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4P 5d 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;oriental&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 3M 4A 5P 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;flamenco&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4A 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;todi raga&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4P 5d 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;persian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 5d 6m 7m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;enigmatic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5A 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major augmented&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major #5&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ionian augmented&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ionian #5&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2A 3M 4A 5P 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian #9&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 2M 4P 4A 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;messiaen&amp;#x27;s mode #4&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3M 4P 4A 5P 6m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;purvi raga&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 3M 4P 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;spanish heptatonic&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 3M 4P 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;bebop minor&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5P 5A 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;bebop major&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 4P 5d 5P 6m 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;bebop locrian&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5P 6m 7m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor bebop&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 5d 5P 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ichikosucho&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 4P 5P 6m 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor six diminished&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 3m 3M 4A 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;half-whole diminished&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dominant diminished&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;messiaen&amp;#x27;s mode #2&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 3M 4P 5P 6M 7m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;kafi raga&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3M 4P 4A 5A 6A 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;messiaen&amp;#x27;s mode #6&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 3M 4P 5d 5P 6M 7m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;composite blues&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2M 3m 3M 4A 5P 6m 7m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;messiaen&amp;#x27;s mode #3&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 2M 3m 4P 4A 5P 6m 6M 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;messiaen&amp;#x27;s mode #7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;chromatic&amp;quot;&lt;/span>]],ya=va,&lt;span class=\&quot;hljs-title class_\&quot;>Fe&lt;/span>={...x,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:[]},bt=[],H={};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>At&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> bt.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>K&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> H[t]||&lt;span class=\&quot;hljs-title class_\&quot;>Fe&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Oe&lt;/span>=K;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>w&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> bt.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>()}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> $e=w;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ve&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>keys&lt;/span>(H)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ke&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){bt=[],H={}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>en&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e=[]&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r={...&lt;span class=\&quot;hljs-title function_\&quot;>v&lt;/span>(t),&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:t,&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:e};&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> bt.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(r),H[r.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>]=r,H[r.&lt;span class=\&quot;hljs-property\&quot;>setNum&lt;/span>]=r,H[r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>]=r,r.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>qe&lt;/span>(r,o)),r}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>qe&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){H[n]=t}ya.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>[t,n,...e]&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>en&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),n,e));&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ba={&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>At&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:K,&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:w,&lt;span class=\&quot;hljs-attr\&quot;>add&lt;/span>:en,&lt;span class=\&quot;hljs-attr\&quot;>removeAll&lt;/span>:ke,&lt;span class=\&quot;hljs-attr\&quot;>keys&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ve&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>entries&lt;/span>:$e,&lt;span class=\&quot;hljs-attr\&quot;>scaleType&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Oe&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Le&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>symbol&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>root&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>bass&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>rootDegree&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>setNum&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>quality&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Unknown&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>normalized&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:[]};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Y&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e,r,o]=&lt;span class=\&quot;hljs-title function_\&quot;>Q&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>rn&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,t):n===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;A&amp;quot;&lt;/span>&amp;amp;&amp;amp;o===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ug&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>rn&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;aug&amp;quot;&lt;/span>):&lt;span class=\&quot;hljs-title function_\&quot;>rn&lt;/span>(n+e,r+o)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>rn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=n.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;/&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[t,e[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[r,o,a,i]=&lt;span class=\&quot;hljs-title function_\&quot;>Q&lt;/span>(e[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r!==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>&amp;amp;&amp;amp;a===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>&amp;amp;&amp;amp;i===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>?[t,e[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],r+o]:[t,n,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>R&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t))&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>at&lt;/span>(t[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],t[&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>]);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(t===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Le&lt;/span>;{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e,r]=&lt;span class=\&quot;hljs-title function_\&quot;>Y&lt;/span>(t),o=&lt;span class=\&quot;hljs-title function_\&quot;>at&lt;/span>(e,n,r);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> o.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>at&lt;/span>(t):o}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>at&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>ot&lt;/span>(t),o=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(n||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),a=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(e||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||n&amp;amp;&amp;amp;o.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||e&amp;amp;&amp;amp;a.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Le&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=&lt;span class=\&quot;hljs-title function_\&quot;>A&lt;/span>(o.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>,a.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>),m=r.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>indexOf&lt;/span>(i),c=m&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,u=c?&lt;span class=\&quot;hljs-attr\&quot;>a&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),M=m===-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>:m+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,y=a.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>&amp;amp;&amp;amp;a.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>!==o.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>,l=&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>from&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(c)&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> k=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;k&amp;lt;M;k++){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> po=l[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>][&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],&lt;span class=\&quot;hljs-title class_\&quot;>Po&lt;/span>=l[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>][&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>],&lt;span class=\&quot;hljs-title class_\&quot;>Mo&lt;/span>=&lt;span class=\&quot;hljs-built_in\&quot;>parseInt&lt;/span>(po,&lt;span class=\&quot;hljs-number\&quot;>10&lt;/span>)+&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>;l.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${Mo}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${Po}&lt;/span>`&lt;/span>),l.&lt;span class=\&quot;hljs-title function_\&quot;>shift&lt;/span>()}&lt;span class=\&quot;hljs-keyword\&quot;>else&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(y){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> k=&lt;span class=\&quot;hljs-title function_\&quot;>vt&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>A&lt;/span>(o.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>,a.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;8P&amp;quot;&lt;/span>);k&amp;amp;&amp;amp;l.&lt;span class=\&quot;hljs-title function_\&quot;>unshift&lt;/span>(k)}&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> P=o.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?[]:l.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>k&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(o.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>,k));t=r.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>indexOf&lt;/span>(t)!==-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>t&lt;/span>:r.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> h=&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${o.empty?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>:o.pc}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${t}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${c&amp;amp;&amp;amp;M&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;/&amp;quot;&lt;/span>+u.pc:y?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;/&amp;quot;&lt;/span>+a.pc:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>}&lt;/span>`&lt;/span>,nt=&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${n?o.pc+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${r.name}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${c&amp;amp;&amp;amp;M&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; over &amp;quot;&lt;/span>+u.pc:y?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; over &amp;quot;&lt;/span>+a.pc:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>}&lt;/span>`&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{...r,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:nt,&lt;span class=\&quot;hljs-attr\&quot;>symbol&lt;/span>:h,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:o.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:r.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>root&lt;/span>:u.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>bass&lt;/span>:y?a.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:l,&lt;span class=\&quot;hljs-attr\&quot;>rootDegree&lt;/span>:M,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:P}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ge&lt;/span>=R;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ze&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[e,r,o]=&lt;span class=\&quot;hljs-title function_\&quot;>Y&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(o,n),i=a?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;/&amp;quot;&lt;/span>+&lt;span class=\&quot;hljs-attr\&quot;>a&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(e,n)+r+i}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Be&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>R&lt;/span>(t),e=&lt;span class=\&quot;hljs-title function_\&quot;>z&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>w&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>r.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>He&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>R&lt;/span>(t),e=&lt;span class=\&quot;hljs-title function_\&quot;>z&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>D&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>n.&lt;span class=\&quot;hljs-property\&quot;>tonic&lt;/span>+r.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ke&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>R&lt;/span>(t),e=&lt;span class=\&quot;hljs-title function_\&quot;>G&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>D&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>n.&lt;span class=\&quot;hljs-property\&quot;>tonic&lt;/span>+r.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ue&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>R&lt;/span>(t),r=n||e.&lt;span class=\&quot;hljs-property\&quot;>tonic&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!r||e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?[]:e.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(r,o))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Xe&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>R&lt;/span>(t),r=n||e.&lt;span class=\&quot;hljs-property\&quot;>tonic&lt;/span>,o=&lt;span class=\&quot;hljs-title function_\&quot;>O&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>,r);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>a&lt;/span>=&amp;gt;&lt;/span>a?&lt;span class=\&quot;hljs-title function_\&quot;>o&lt;/span>(a&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?a-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:a):&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Qe&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>R&lt;/span>(t),r=n||e.&lt;span class=\&quot;hljs-property\&quot;>tonic&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>O&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>,r)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> it={&lt;span class=\&quot;hljs-attr\&quot;>getChord&lt;/span>:at,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:R,&lt;span class=\&quot;hljs-attr\&quot;>detect&lt;/span>:pt,&lt;span class=\&quot;hljs-attr\&quot;>chordScales&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Be&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>extended&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>He&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>reduced&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ke&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tokenize&lt;/span>:Y,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:ze,&lt;span class=\&quot;hljs-attr\&quot;>degrees&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Xe&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>steps&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Qe&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ue&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chord&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ge&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> an={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(an,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>xa,&lt;span class=\&quot;hljs-attr\&quot;>fraction&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ye&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>St&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Je&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>shorthands&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>We&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>value&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ze&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Aa&lt;/span>=[[&lt;span class=\&quot;hljs-number\&quot;>.125&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dl&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;large&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;duplex longa&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maxima&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;octuple&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;octuple whole&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>.25&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;l&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;long&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;longa&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>.5&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;d&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;double whole&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;double&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;breve&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;w&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;whole&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;semibreve&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;h&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;half&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minim&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;q&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;quarter&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;crotchet&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>8&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;e&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;eighth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;quaver&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>16&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;s&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sixteenth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;semiquaver&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>32&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;t&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;thirty-second&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;demisemiquaver&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>64&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sf&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;sixty-fourth&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;hemidemisemiquaver&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>128&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;h&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;hundred twenty-eighth&amp;quot;&lt;/span>]],[&lt;span class=\&quot;hljs-number\&quot;>256&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;th&amp;quot;&lt;/span>,[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;two hundred fifty-sixth&amp;quot;&lt;/span>]]],ga=&lt;span class=\&quot;hljs-title class_\&quot;>Aa&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Nt&lt;/span>=[];ga.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>[t,n,e]&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ia&lt;/span>(t,n,e));&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Na&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>value&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>fraction&lt;/span>:[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>shorthand&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>dots&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:[]};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Je&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Nt&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>names&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(e)),t),[])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>We&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Nt&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-property\&quot;>shorthand&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Sa&lt;/span>=&lt;span class=\&quot;hljs-regexp\&quot;>/^([^.]+)(\\.*)$/&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>St&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e,r]=&lt;span class=\&quot;hljs-title class_\&quot;>Sa&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>exec&lt;/span>(t)||[],o=&lt;span class=\&quot;hljs-title class_\&quot;>Nt&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>find&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>m&lt;/span>=&amp;gt;&lt;/span>m.&lt;span class=\&quot;hljs-property\&quot;>shorthand&lt;/span>===e||m.&lt;span class=\&quot;hljs-property\&quot;>names&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>includes&lt;/span>(e));&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!o)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Na&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=&lt;span class=\&quot;hljs-title function_\&quot;>ja&lt;/span>(o.&lt;span class=\&quot;hljs-property\&quot;>fraction&lt;/span>,r.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>),i=a[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]/a[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{...o,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:t,&lt;span class=\&quot;hljs-attr\&quot;>dots&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>value&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>fraction&lt;/span>:a}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ze&lt;/span>=t=&amp;gt;&lt;span class=\&quot;hljs-title class_\&quot;>St&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>value&lt;/span>,&lt;span class=\&quot;hljs-title class_\&quot;>Ye&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>St&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>fraction&lt;/span>,xa={&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Je&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>shorthands&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>We&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>St&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>value&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ze&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>fraction&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ye&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ia&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e&lt;/span>){&lt;span class=\&quot;hljs-title class_\&quot;>Nt&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>dots&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>value&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/t,&lt;span class=\&quot;hljs-attr\&quot;>fraction&lt;/span>:t&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/t,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]:[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,t],&lt;span class=\&quot;hljs-attr\&quot;>shorthand&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:e})}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ja&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>pow&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,n),r=t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]*e,o=t[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]*e,a=r;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;i&amp;lt;n;i++)r+=a/&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>pow&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,i+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(;r%&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;o%&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;)r/=&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,o/=&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[r,o]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> vn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(vn,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Qa&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>majorKey&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Mn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>majorKeyChords&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ua&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>majorTonicFromKeySignature&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Rr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>minorKey&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>hn,&lt;span class=\&quot;hljs-attr\&quot;>minorKeyChords&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Xa&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> dn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(dn,{&lt;span class=\&quot;hljs-attr\&quot;>accidentals&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>sr,&lt;span class=\&quot;hljs-attr\&quot;>ascending&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ct&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>fr,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>S,&lt;span class=\&quot;hljs-attr\&quot;>descending&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>gr,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Mr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>enharmonic&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Dt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>freq&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>lr,&lt;span class=\&quot;hljs-attr\&quot;>fromFreq&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>dr,&lt;span class=\&quot;hljs-attr\&quot;>fromFreqSharps&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>pr,&lt;span class=\&quot;hljs-attr\&quot;>fromMidi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Tt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>fromMidiSharps&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Pr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>N,&lt;span class=\&quot;hljs-attr\&quot;>midi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ur,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ir,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ar,&lt;span class=\&quot;hljs-attr\&quot;>octave&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>cr,&lt;span class=\&quot;hljs-attr\&quot;>pitchClass&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>mr,&lt;span class=\&quot;hljs-attr\&quot;>simplify&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Nr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>sortedNames&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>fn,&lt;span class=\&quot;hljs-attr\&quot;>sortedUniqNames&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Et&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tr&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>hr,&lt;span class=\&quot;hljs-attr\&quot;>trBy&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>vr,&lt;span class=\&quot;hljs-attr\&quot;>trFifths&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>br,&lt;span class=\&quot;hljs-attr\&quot;>trFrom&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>yr,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>g,&lt;span class=\&quot;hljs-attr\&quot;>transposeBy&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>un,&lt;span class=\&quot;hljs-attr\&quot;>transposeFifths&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>tt,&lt;span class=\&quot;hljs-attr\&quot;>transposeFrom&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ln,&lt;span class=\&quot;hljs-attr\&quot;>transposeOctaves&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ar&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> cn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(cn,{&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>It&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>_a,&lt;span class=\&quot;hljs-attr\&quot;>freqToMidi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>mt,&lt;span class=\&quot;hljs-attr\&quot;>isMidi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>mn,&lt;span class=\&quot;hljs-attr\&quot;>midiToFreq&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>tr,&lt;span class=\&quot;hljs-attr\&quot;>midiToNoteName&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>I,&lt;span class=\&quot;hljs-attr\&quot;>pcset&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>jt,&lt;span class=\&quot;hljs-attr\&quot;>pcsetDegrees&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>er,&lt;span class=\&quot;hljs-attr\&quot;>pcsetNearest&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>nr,&lt;span class=\&quot;hljs-attr\&quot;>pcsetSteps&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>sn,&lt;span class=\&quot;hljs-attr\&quot;>toMidi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>xt});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>mn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>+t&amp;gt;=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&amp;amp;&amp;amp;+t&amp;lt;=&lt;span class=\&quot;hljs-number\&quot;>127&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>xt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>mn&lt;/span>(t))&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>+t;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>null&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>midi&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>tr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=&lt;span class=\&quot;hljs-number\&quot;>440&lt;/span>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>pow&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,(t-&lt;span class=\&quot;hljs-number\&quot;>69&lt;/span>)/&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>)*n}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ta&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>log&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>),&lt;span class=\&quot;hljs-title class_\&quot;>Ca&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>log&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>440&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>mt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>*(&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>log&lt;/span>(t)-&lt;span class=\&quot;hljs-title class_\&quot;>Ca&lt;/span>)/&lt;span class=\&quot;hljs-title class_\&quot;>Ta&lt;/span>+&lt;span class=\&quot;hljs-number\&quot;>69&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>round&lt;/span>(n*&lt;span class=\&quot;hljs-number\&quot;>100&lt;/span>)/&lt;span class=\&quot;hljs-number\&quot;>100&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ea&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C C# D D# E F F# G G# A A# B&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-title class_\&quot;>Da&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C Db D Eb E F Gb G Ab A Bb B&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n={}&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-built_in\&quot;>isNaN&lt;/span>(t)||t===-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||t===&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>/&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;t=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>round&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=(n.&lt;span class=\&quot;hljs-property\&quot;>sharps&lt;/span>===!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-title class_\&quot;>Ea&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Da&lt;/span>)[t%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>pitchClass&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(t/&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>)-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r+o}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>It&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>wa&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e,r&lt;/span>)=&amp;gt;&lt;/span>(r&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>&amp;amp;&amp;amp;e===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1&amp;quot;&lt;/span>&amp;amp;&amp;amp;n.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(r),n),[])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ra&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>It&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>sort&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e&lt;/span>)=&amp;gt;&lt;/span>n-e).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e,r&lt;/span>)=&amp;gt;&lt;/span>e===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||n!==r[e-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>jt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?&lt;span class=\&quot;hljs-title class_\&quot;>Ra&lt;/span>(t):&lt;span class=\&quot;hljs-title function_\&quot;>wa&lt;/span>(t)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>nr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>jt&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title class_\&quot;>It&lt;/span>(e);&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;o&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>;o++){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n.&lt;span class=\&quot;hljs-title function_\&quot;>includes&lt;/span>(r+o))&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e+o;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n.&lt;span class=\&quot;hljs-title function_\&quot;>includes&lt;/span>(r-o))&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e-o}}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>sn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>jt&lt;/span>(t),r=e.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=o&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?(r- -o%r)%&lt;span class=\&quot;hljs-attr\&quot;>r&lt;/span>:o%r,i=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(o/r);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e[a]+i*&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>+n}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>er&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>sn&lt;/span>(t,n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r!==&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?r-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:r)}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> _a={&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>It&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>freqToMidi&lt;/span>:mt,&lt;span class=\&quot;hljs-attr\&quot;>isMidi&lt;/span>:mn,&lt;span class=\&quot;hljs-attr\&quot;>midiToFreq&lt;/span>:tr,&lt;span class=\&quot;hljs-attr\&quot;>midiToNoteName&lt;/span>:I,&lt;span class=\&quot;hljs-attr\&quot;>pcsetNearest&lt;/span>:nr,&lt;span class=\&quot;hljs-attr\&quot;>pcset&lt;/span>:jt,&lt;span class=\&quot;hljs-attr\&quot;>pcsetDegrees&lt;/span>:er,&lt;span class=\&quot;hljs-attr\&quot;>pcsetSteps&lt;/span>:sn,&lt;span class=\&quot;hljs-attr\&quot;>toMidi&lt;/span>:xt};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Fa&lt;/span>=[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;D&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;E&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;F&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;G&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;B&amp;quot;&lt;/span>],rr=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,or=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(s).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>!n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ar&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-title class_\&quot;>Fa&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>():&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>or&lt;/span>(t).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(rr):[]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> N=s,ir=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,mr=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>,sr=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>acc&lt;/span>,cr=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>,ur=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>midi&lt;/span>,lr=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>freq&lt;/span>,fr=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Tt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(t)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>dr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>mt&lt;/span>(t))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>pr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>mt&lt;/span>(t),{&lt;span class=\&quot;hljs-attr\&quot;>sharps&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>})}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Pr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(t,{&lt;span class=\&quot;hljs-attr\&quot;>sharps&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>})}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Mr&lt;/span>=A,g=p,hr=p,un=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(n,t),vr=un,ln=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(t,n),yr=ln;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>tt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(t,[n,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> br=tt;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ar&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(t,[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,n])}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ct&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;t.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>-n.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>,gr=&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;/span>n.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>-t.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>fn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n=n||&lt;span class=\&quot;hljs-title class_\&quot;>Ct&lt;/span>,&lt;span class=\&quot;hljs-title function_\&quot;>or&lt;/span>(t).&lt;span class=\&quot;hljs-title function_\&quot;>sort&lt;/span>(n).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(rr)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Et&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>fn&lt;/span>(t,&lt;span class=\&quot;hljs-title class_\&quot;>Ct&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e,r&lt;/span>)=&amp;gt;&lt;/span>e===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||n!==r[e-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Nr&lt;/span>=t=&amp;gt;{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>midi&lt;/span>||n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>sharps&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>pitchClass&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>midi&lt;/span>===&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>})};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Dt&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>N&lt;/span>(n||&lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>midi&lt;/span>||e.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>sharps&lt;/span>:e.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>pitchClass&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>}));&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>!==e.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=e.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>-e.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>,a=r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>-r.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>,i=o&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>11&lt;/span>||a&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:o&amp;lt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||a&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>11&lt;/span>?&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,m=e.&lt;span class=\&quot;hljs-property\&quot;>oct&lt;/span>+i;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r.&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>+m}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> S={&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:ar,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:N,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:ir,&lt;span class=\&quot;hljs-attr\&quot;>pitchClass&lt;/span>:mr,&lt;span class=\&quot;hljs-attr\&quot;>accidentals&lt;/span>:sr,&lt;span class=\&quot;hljs-attr\&quot;>octave&lt;/span>:cr,&lt;span class=\&quot;hljs-attr\&quot;>midi&lt;/span>:ur,&lt;span class=\&quot;hljs-attr\&quot;>ascending&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ct&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>descending&lt;/span>:gr,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Mr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>sortedNames&lt;/span>:fn,&lt;span class=\&quot;hljs-attr\&quot;>sortedUniqNames&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Et&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>fromMidi&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Tt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>fromMidiSharps&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Pr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>freq&lt;/span>:lr,&lt;span class=\&quot;hljs-attr\&quot;>fromFreq&lt;/span>:dr,&lt;span class=\&quot;hljs-attr\&quot;>fromFreqSharps&lt;/span>:pr,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:fr,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:g,&lt;span class=\&quot;hljs-attr\&quot;>tr&lt;/span>:hr,&lt;span class=\&quot;hljs-attr\&quot;>transposeBy&lt;/span>:un,&lt;span class=\&quot;hljs-attr\&quot;>trBy&lt;/span>:vr,&lt;span class=\&quot;hljs-attr\&quot;>transposeFrom&lt;/span>:ln,&lt;span class=\&quot;hljs-attr\&quot;>trFrom&lt;/span>:yr,&lt;span class=\&quot;hljs-attr\&quot;>transposeFifths&lt;/span>:tt,&lt;span class=\&quot;hljs-attr\&quot;>transposeOctaves&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ar&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>trFifths&lt;/span>:br,&lt;span class=\&quot;hljs-attr\&quot;>simplify&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Nr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>enharmonic&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Dt&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> pn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(pn,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>qa,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>j,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>jr,&lt;span class=\&quot;hljs-attr\&quot;>romanNumeral&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ir&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tokenize&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Tr&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> xr={&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chordType&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>},&lt;span class=\&quot;hljs-title class_\&quot;>Sr&lt;/span>={};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>j&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title class_\&quot;>Sr&lt;/span>[t]||(&lt;span class=\&quot;hljs-title class_\&quot;>Sr&lt;/span>[t]=&lt;span class=\&quot;hljs-title function_\&quot;>ka&lt;/span>(t)):&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>j&lt;/span>(wt[t]||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>):&lt;span class=\&quot;hljs-title function_\&quot;>_&lt;/span>(t)?&lt;span class=\&quot;hljs-title class_\&quot;>Oa&lt;/span>(t):&lt;span class=\&quot;hljs-title function_\&quot;>C&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>j&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>):xr}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ir&lt;/span>=j;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>jr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t=!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>(t?&lt;span class=\&quot;hljs-attr\&quot;>wt&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Va&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>()}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Oa&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>j&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>F&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>)+wt[t.&lt;span class=\&quot;hljs-property\&quot;>step&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> $a=&lt;span class=\&quot;hljs-regexp\&quot;>/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Tr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> $a.&lt;span class=\&quot;hljs-title function_\&quot;>exec&lt;/span>(t)||[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Cr&lt;/span>=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;I II III IV V VI VII&amp;quot;&lt;/span>,wt=&lt;span class=\&quot;hljs-title class_\&quot;>Cr&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-title class_\&quot;>Va&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Cr&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>toLowerCase&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ka&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e,r,o]=&lt;span class=\&quot;hljs-title class_\&quot;>Tr&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!r)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> xr;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=r.&lt;span class=\&quot;hljs-title function_\&quot;>toUpperCase&lt;/span>(),i=wt.&lt;span class=\&quot;hljs-title function_\&quot;>indexOf&lt;/span>(a),m=&lt;span class=\&quot;hljs-title function_\&quot;>L&lt;/span>(e),c=&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>roman&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>interval&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>({&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:m,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:c}).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>acc&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>chordType&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:m,&lt;span class=\&quot;hljs-attr\&quot;>step&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>major&lt;/span>:r===a,&lt;span class=\&quot;hljs-attr\&quot;>oct&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>dir&lt;/span>:c}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> qa={&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:jr,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:j,&lt;span class=\&quot;hljs-attr\&quot;>romanNumeral&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ir&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> b=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>freeze&lt;/span>([]),&lt;span class=\&quot;hljs-title class_\&quot;>Dr&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>alteration&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>keySignature&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>},&lt;span class=\&quot;hljs-title class_\&quot;>Rt&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>grades&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>scale&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>triads&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>chords&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>chordsHarmonicFunction&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>chordScales&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>secondaryDominants&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>secondaryDominantSupertonics&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominantsMinorRelative&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominants&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominantSupertonics&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>secondaryDominantsMinorRelative&lt;/span>:b},&lt;span class=\&quot;hljs-title class_\&quot;>La&lt;/span>={...&lt;span class=\&quot;hljs-title class_\&quot;>Dr&lt;/span>,...&lt;span class=\&quot;hljs-title class_\&quot;>Rt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>minorRelative&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>scale&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominants&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>secondaryDominantSupertonics&lt;/span>:b,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominantsMinorRelative&lt;/span>:b},&lt;span class=\&quot;hljs-title class_\&quot;>Ga&lt;/span>={...&lt;span class=\&quot;hljs-title class_\&quot;>Dr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>relativeMajor&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>natural&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Rt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>harmonic&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Rt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>melodic&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Rt&lt;/span>},&lt;span class=\&quot;hljs-title class_\&quot;>Pn&lt;/span>=&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>&lt;/span>)=&amp;gt;&lt;/span>n.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${t[o]}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${e}&lt;/span>&lt;span class=\&quot;hljs-subst\&quot;>${r}&lt;/span>`&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ft&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e,r,o&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>a&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>P&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>j&lt;/span>(P).&lt;span class=\&quot;hljs-property\&quot;>interval&lt;/span>||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),m=i.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>P&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(a,P)),c=&lt;span class=\&quot;hljs-title class_\&quot;>Pn&lt;/span>(m,e),u=m.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>P&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(P,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5P&amp;quot;&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>P&lt;/span>=&amp;gt;&lt;/span>m.&lt;span class=\&quot;hljs-title function_\&quot;>includes&lt;/span>(P)&amp;amp;&amp;amp;!c.&lt;span class=\&quot;hljs-title function_\&quot;>includes&lt;/span>(P+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7&amp;quot;&lt;/span>)?P+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),M=&lt;span class=\&quot;hljs-title class_\&quot;>Er&lt;/span>(u,n),y=u.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>P&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!P)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> h=P.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(h,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5d&amp;quot;&lt;/span>)+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7&amp;quot;&lt;/span>}),l=&lt;span class=\&quot;hljs-title class_\&quot;>Er&lt;/span>(y,n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:a,&lt;span class=\&quot;hljs-attr\&quot;>grades&lt;/span>:t,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>scale&lt;/span>:m,&lt;span class=\&quot;hljs-attr\&quot;>triads&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Pn&lt;/span>(m,n),&lt;span class=\&quot;hljs-attr\&quot;>chords&lt;/span>:c,&lt;span class=\&quot;hljs-attr\&quot;>chordsHarmonicFunction&lt;/span>:r.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(),&lt;span class=\&quot;hljs-attr\&quot;>chordScales&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Pn&lt;/span>(m,o,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-attr\&quot;>secondaryDominants&lt;/span>:u,&lt;span class=\&quot;hljs-attr\&quot;>secondaryDominantSupertonics&lt;/span>:M,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominants&lt;/span>:y,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominantSupertonics&lt;/span>:l,&lt;span class=\&quot;hljs-attr\&quot;>secondaryDominantsMinorRelative&lt;/span>:M,&lt;span class=\&quot;hljs-attr\&quot;>substituteDominantsMinorRelative&lt;/span>:l}}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Er&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>e,r&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=e.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>),a=&lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(o,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5P&amp;quot;&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n[r].&lt;span class=\&quot;hljs-title function_\&quot;>endsWith&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m&amp;quot;&lt;/span>)?a+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7&amp;quot;&lt;/span>:a+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7b5&amp;quot;&lt;/span>}),wr=&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t),r=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>:r.&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]-e.&lt;span class=\&quot;hljs-property\&quot;>coord&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]},za=&lt;span class=\&quot;hljs-title class_\&quot;>Ft&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;I II III IV V VI VII&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; m m   m dim&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;maj7 m7 m7 maj7 7 m7 m7b5&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;T SD T SD D T D&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major,dorian,phrygian,lydian,mixolydian,minor,locrian&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;,&amp;quot;&lt;/span>)),&lt;span class=\&quot;hljs-title class_\&quot;>Ba&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Ft&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;I II bIII IV V bVI bVII&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m dim  m m  &amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7 m7b5 maj7 m7 m7 maj7 7&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;T SD T SD D SD SD&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor,locrian,major,dorian,phrygian,lydian,mixolydian&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;,&amp;quot;&lt;/span>)),&lt;span class=\&quot;hljs-title class_\&quot;>Ha&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Ft&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;I II bIII IV V bVI VII&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m dim aug m   dim&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mMaj7 m7b5 +maj7 m7 7 maj7 o7&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;T SD T SD D SD D&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;,&amp;quot;&lt;/span>)),&lt;span class=\&quot;hljs-title class_\&quot;>Ka&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>Ft&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;I II bIII IV V VI VII&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m m aug   dim dim&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m6 m7 +maj7 7 7 m7b5 m7b5&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;T SD T SD D  &amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered&amp;quot;&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;,&amp;quot;&lt;/span>));&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Mn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!n)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>La&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>za&lt;/span>(n),r=&lt;span class=\&quot;hljs-title function_\&quot;>wr&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C&amp;quot;&lt;/span>,n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{...e,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>minorRelative&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(n,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;-3m&amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-attr\&quot;>alteration&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>keySignature&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>F&lt;/span>(r)}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ua&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>Mn&lt;/span>(t),e=[];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>_t&lt;/span>(n,e),e}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Xa&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>hn&lt;/span>(t),e=[];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>_t&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>natural&lt;/span>,e),&lt;span class=\&quot;hljs-title function_\&quot;>_t&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>harmonic&lt;/span>,e),&lt;span class=\&quot;hljs-title function_\&quot;>_t&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>melodic&lt;/span>,e),e}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>_t&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!r)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=n.&lt;span class=\&quot;hljs-title function_\&quot;>find&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>i&lt;/span>=&amp;gt;&lt;/span>i.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>===r);a||(a={&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>roles&lt;/span>:[]},n.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(a)),o&amp;amp;&amp;amp;!a.&lt;span class=\&quot;hljs-property\&quot;>roles&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>includes&lt;/span>(o)&amp;amp;&amp;amp;a.&lt;span class=\&quot;hljs-property\&quot;>roles&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(o)};t.&lt;span class=\&quot;hljs-property\&quot;>chords&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r,t.&lt;span class=\&quot;hljs-property\&quot;>chordsHarmonicFunction&lt;/span>[o])),t.&lt;span class=\&quot;hljs-property\&quot;>secondaryDominants&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r,&lt;span class=\&quot;hljs-string\&quot;>`V/&lt;span class=\&quot;hljs-subst\&quot;>${t.grades[o]}&lt;/span>`&lt;/span>)),t.&lt;span class=\&quot;hljs-property\&quot;>secondaryDominantSupertonics&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r,&lt;span class=\&quot;hljs-string\&quot;>`ii/&lt;span class=\&quot;hljs-subst\&quot;>${t.grades[o]}&lt;/span>`&lt;/span>)),t.&lt;span class=\&quot;hljs-property\&quot;>substituteDominants&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r,&lt;span class=\&quot;hljs-string\&quot;>`subV/&lt;span class=\&quot;hljs-subst\&quot;>${t.grades[o]}&lt;/span>`&lt;/span>)),t.&lt;span class=\&quot;hljs-property\&quot;>substituteDominantSupertonics&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r,&lt;span class=\&quot;hljs-string\&quot;>`subii/&lt;span class=\&quot;hljs-subst\&quot;>${t.grades[o]}&lt;/span>`&lt;/span>))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>hn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!n)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ga&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>wr&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C&amp;quot;&lt;/span>,n)-&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>relativeMajor&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>g&lt;/span>(n,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m&amp;quot;&lt;/span>),&lt;span class=\&quot;hljs-attr\&quot;>alteration&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>keySignature&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>F&lt;/span>(e),&lt;span class=\&quot;hljs-attr\&quot;>natural&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ba&lt;/span>(n),&lt;span class=\&quot;hljs-attr\&quot;>harmonic&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ha&lt;/span>(n),&lt;span class=\&quot;hljs-attr\&quot;>melodic&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ka&lt;/span>(n)}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Rr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>tt&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C&amp;quot;&lt;/span>,t):&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>&amp;amp;&amp;amp;&lt;span class=\&quot;hljs-regexp\&quot;>/^b+|#+$/&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>test&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>tt&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-title function_\&quot;>L&lt;/span>(t)):&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Qa&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>majorKey&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Mn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>majorTonicFromKeySignature&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Rr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>minorKey&lt;/span>:hn};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Sn&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Sn&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>gn,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Wa&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Nn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>entries&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Or&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>V,&lt;span class=\&quot;hljs-attr\&quot;>mode&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Fr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>$r,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Vr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>relativeTonic&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Gr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>seventhChords&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Lr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>triads&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>qr});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> bn=[[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2773&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;ionian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Maj7&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;major&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2902&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dorian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>3418&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;phrygian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2741&lt;/span>,-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;lydian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;Maj7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2774&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;mixolydian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>2906&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;aeolian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;minor&amp;quot;&lt;/span>],[&lt;span class=\&quot;hljs-number\&quot;>6&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>3434&lt;/span>,&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;locrian&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;dim&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;m7b5&amp;quot;&lt;/span>]],_r={...x,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>modeNum&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>triad&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>seventh&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:[]},&lt;span class=\&quot;hljs-title class_\&quot;>An&lt;/span>=bn.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Ja&lt;/span>),yn={};&lt;span class=\&quot;hljs-title class_\&quot;>An&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>{yn[t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>]=t,t.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>n&lt;/span>=&amp;gt;&lt;/span>{yn[n]=t})});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>V&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>?yn[t.&lt;span class=\&quot;hljs-title function_\&quot;>toLowerCase&lt;/span>()]||&lt;span class=\&quot;hljs-attr\&quot;>_r&lt;/span>:t&amp;amp;&amp;amp;t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>V&lt;/span>(t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>):_r}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Fr&lt;/span>=V;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>gn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>An&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>()}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Or&lt;/span>=gn;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>$r&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>An&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ja&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e,r,o,a,i,m]=t,c=m?[m]:[],u=&lt;span class=\&quot;hljs-title class_\&quot;>Number&lt;/span>(e).&lt;span class=\&quot;hljs-title function_\&quot;>toString&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>K&lt;/span>(o).&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>modeNum&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:u,&lt;span class=\&quot;hljs-attr\&quot;>normalized&lt;/span>:u,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>setNum&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>alt&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>triad&lt;/span>:a,&lt;span class=\&quot;hljs-attr\&quot;>seventh&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:c}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Vr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>V&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(n,e))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>kr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>V&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-title function_\&quot;>E&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>modeNum&lt;/span>,t),a=r.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>i&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(e,i));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> o.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>i,m&lt;/span>)=&amp;gt;&lt;/span>a[m]+i)}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> qr=&lt;span class=\&quot;hljs-title function_\&quot;>kr&lt;/span>(bn.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t[&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>])),&lt;span class=\&quot;hljs-title class_\&quot;>Lr&lt;/span>=&lt;span class=\&quot;hljs-title function_\&quot;>kr&lt;/span>(bn.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>t[&lt;span class=\&quot;hljs-number\&quot;>5&lt;/span>]));&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Nn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>V&lt;/span>(n),r=&lt;span class=\&quot;hljs-title function_\&quot;>V&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>||r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>ht&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>yt&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P&amp;quot;&lt;/span>,r.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>-e.&lt;span class=\&quot;hljs-property\&quot;>alt&lt;/span>))}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Gr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(e,&lt;span class=\&quot;hljs-title class_\&quot;>Nn&lt;/span>(t,n))}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Wa&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:V,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:$r,&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:gn,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Nn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>relativeTonic&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Gr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Vr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>triads&lt;/span>:qr,&lt;span class=\&quot;hljs-attr\&quot;>seventhChords&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Lr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>entries&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Or&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>mode&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Fr&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> xn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(xn,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Za&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>fromRomanNumerals&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>zr,&lt;span class=\&quot;hljs-attr\&quot;>toRomanNumerals&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Br&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>zr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(j).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(t,&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(r))+r.&lt;span class=\&quot;hljs-property\&quot;>chordType&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Br&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[r,o]=&lt;span class=\&quot;hljs-title function_\&quot;>Y&lt;/span>(e),a=&lt;span class=\&quot;hljs-title function_\&quot;>A&lt;/span>(t,r);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>j&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>f&lt;/span>(a)).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>+o})}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Za&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>fromRomanNumerals&lt;/span>:zr,&lt;span class=\&quot;hljs-attr\&quot;>toRomanNumerals&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Br&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Tn&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Tn&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>chromatic&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Hr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>jn,&lt;span class=\&quot;hljs-attr\&quot;>numeric&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>In&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>In&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>J&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> e==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>e&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>xt&lt;/span>(e)));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>||n.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>!==t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>?[]:n.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>e,r&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=e[e.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e.&lt;span class=\&quot;hljs-title function_\&quot;>concat&lt;/span>($(o,r).&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>))},[n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Hr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>In&lt;/span>(t).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>I&lt;/span>(e,n))}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> jn={&lt;span class=\&quot;hljs-attr\&quot;>numeric&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>In&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chromatic&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Hr&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Cn&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Cn&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>binary&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ya&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>euclid&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ai,&lt;span class=\&quot;hljs-attr\&quot;>hex&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ti,&lt;span class=\&quot;hljs-attr\&quot;>onsets&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ni,&lt;span class=\&quot;hljs-attr\&quot;>probability&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ri,&lt;span class=\&quot;hljs-attr\&quot;>random&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ei,&lt;span class=\&quot;hljs-attr\&quot;>rotate&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>oi});&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ya&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>...t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e&lt;/span>)=&amp;gt;&lt;/span>(e.&lt;span class=\&quot;hljs-title function_\&quot;>toString&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>{n.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(&lt;span class=\&quot;hljs-built_in\&quot;>parseInt&lt;/span>(r))}),n),[])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ti&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;e&amp;lt;t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>;e++){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-built_in\&quot;>parseInt&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;0x&amp;quot;&lt;/span>+t[e]);(&lt;span class=\&quot;hljs-built_in\&quot;>isNaN&lt;/span>(r)?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;0000&amp;quot;&lt;/span>:r.&lt;span class=\&quot;hljs-title function_\&quot;>toString&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>padStart&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;0&amp;quot;&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>a&lt;/span>=&amp;gt;&lt;/span>{n.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(a===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)})}&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ni&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>...t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>n,e&lt;/span>)=&amp;gt;&lt;/span>{n.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;r&amp;lt;e;r++)n.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n},[])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ei&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=&lt;span class=\&quot;hljs-number\&quot;>.5&lt;/span>,e=&lt;span class=\&quot;hljs-built_in\&quot;>Math&lt;/span>.random&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;o&amp;lt;t;o++)r.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>()&amp;gt;=n?&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ri&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=&lt;span class=\&quot;hljs-built_in\&quot;>Math&lt;/span>.random&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>()&amp;lt;=e?&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>oi&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=t.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>,r=[];&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;o&amp;lt;e;o++){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=((o-n)%e+e)%e;r[o]=t[a]}&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> r}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ai&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=[],r=-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>for&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;o&amp;lt;t;o++){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>floor&lt;/span>(o*(n/t));e[o]=a!==r?&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,r=a}&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Rn&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Rn&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>si,&lt;span class=\&quot;hljs-attr\&quot;>degrees&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Yr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>detect&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Xr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>extended&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Dn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>T,&lt;span class=\&quot;hljs-attr\&quot;>modeNames&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Wr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Kr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>rangeOf&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Zr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>reduced&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Jr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>scale&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ur&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>scaleChords&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Qr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>scaleNotes&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>wn,&lt;span class=\&quot;hljs-attr\&quot;>steps&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>to,&lt;span class=\&quot;hljs-attr\&quot;>tokenize&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>En&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ii={&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:&lt;span class=\&quot;hljs-literal\&quot;>null&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>setNum&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>NaN&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>normalized&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:[]};&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>En&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t!=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=t.&lt;span class=\&quot;hljs-title function_\&quot;>indexOf&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>),e=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t.&lt;span class=\&quot;hljs-title function_\&quot;>substring&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,n));&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> o.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>?[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,t.&lt;span class=\&quot;hljs-title function_\&quot;>toLowerCase&lt;/span>()]:[o.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]}&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=t.&lt;span class=\&quot;hljs-title function_\&quot;>substring&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>toLowerCase&lt;/span>();&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[e.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,r.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>?&lt;span class=\&quot;hljs-attr\&quot;>r&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Kr&lt;/span>=&lt;span class=\&quot;hljs-title class_\&quot;>At&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?&lt;span class=\&quot;hljs-attr\&quot;>t&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>En&lt;/span>(t),e=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,r=&lt;span class=\&quot;hljs-title function_\&quot;>K&lt;/span>(n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> ii;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=r.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,a=e?r.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>m&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>p&lt;/span>(e,m)):[],i=e?e+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>+&lt;span class=\&quot;hljs-attr\&quot;>o&lt;/span>:o;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{...r,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>notes&lt;/span>:a}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ur&lt;/span>=T;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Xr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n={}&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title function_\&quot;>ut&lt;/span>(t),r=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>tonic&lt;/span>??t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]??&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),o=r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(o===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=e.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>);a[o]=&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=&lt;span class=\&quot;hljs-title function_\&quot;>E&lt;/span>(o,a).&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),m=&lt;span class=\&quot;hljs-title function_\&quot;>w&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>find&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>u&lt;/span>=&amp;gt;&lt;/span>u.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>===i),c=[];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> m&amp;amp;&amp;amp;c.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>+m.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>),n.&lt;span class=\&quot;hljs-property\&quot;>match&lt;/span>===&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;exact&amp;quot;&lt;/span>||&lt;span class=\&quot;hljs-title class_\&quot;>Dn&lt;/span>(i).&lt;span class=\&quot;hljs-title function_\&quot;>forEach&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>u&lt;/span>=&amp;gt;&lt;/span>{c.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>+&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>+u)}),c}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Qr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(t),e=&lt;span class=\&quot;hljs-title function_\&quot;>G&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>D&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>r.&lt;span class=\&quot;hljs-property\&quot;>aliases&lt;/span>[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Dn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>rt&lt;/span>(t)?&lt;span class=\&quot;hljs-attr\&quot;>t&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>,e=&lt;span class=\&quot;hljs-title function_\&quot;>z&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>w&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(r.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>r.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Jr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>G&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>w&lt;/span>().&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>n&lt;/span>(e.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>e&lt;/span>=&amp;gt;&lt;/span>e.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>wn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=t.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(o).&lt;span class=\&quot;hljs-property\&quot;>pc&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>o),e=n[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],r=&lt;span class=\&quot;hljs-title class_\&quot;>Et&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>E&lt;/span>(r.&lt;span class=\&quot;hljs-title function_\&quot;>indexOf&lt;/span>(e),r)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Wr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>empty&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=n.&lt;span class=\&quot;hljs-property\&quot;>tonic&lt;/span>?n.&lt;span class=\&quot;hljs-property\&quot;>notes&lt;/span>:n.&lt;span class=\&quot;hljs-property\&quot;>intervals&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>W&lt;/span>(n.&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>r,o&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(r).&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> a?[e[o],a]:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>]}).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>r[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>mi&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?&lt;span class=\&quot;hljs-title function_\&quot;>wn&lt;/span>(t):&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(t).&lt;span class=\&quot;hljs-property\&quot;>notes&lt;/span>,e=n.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(r).&lt;span class=\&quot;hljs-property\&quot;>chroma&lt;/span>);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>r&lt;/span>=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> r==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>?&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Tt&lt;/span>(r)):&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(r),a=o.&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(a===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=a%&lt;span class=\&quot;hljs-number\&quot;>12&lt;/span>,m=e.&lt;span class=\&quot;hljs-title function_\&quot;>indexOf&lt;/span>(i);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(m!==-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Dt&lt;/span>(o.&lt;span class=\&quot;hljs-property\&quot;>name&lt;/span>,n[m])}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Zr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title function_\&quot;>mi&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>e,r&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(e).&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>,a=&lt;span class=\&quot;hljs-title function_\&quot;>s&lt;/span>(r).&lt;span class=\&quot;hljs-property\&quot;>height&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> o===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||a===&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?[]:$(o,a).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(n).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>i&lt;/span>=&amp;gt;&lt;/span>i)}}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Yr&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:e}=&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(t),r=&lt;span class=\&quot;hljs-title function_\&quot;>O&lt;/span>(n,e);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>o?&lt;span class=\&quot;hljs-title function_\&quot;>r&lt;/span>(o&amp;gt;&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?o-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>:o):&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>to&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>intervals&lt;/span>:n,&lt;span class=\&quot;hljs-attr\&quot;>tonic&lt;/span>:e}=&lt;span class=\&quot;hljs-title function_\&quot;>T&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>O&lt;/span>(n,e)}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> si={&lt;span class=\&quot;hljs-attr\&quot;>degrees&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Yr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>detect&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Xr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>extended&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Dn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:T,&lt;span class=\&quot;hljs-attr\&quot;>modeNames&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Wr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Kr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>rangeOf&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Zr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>reduced&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Jr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>scaleChords&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Qr&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>scaleNotes&lt;/span>:wn,&lt;span class=\&quot;hljs-attr\&quot;>steps&lt;/span>:to,&lt;span class=\&quot;hljs-attr\&quot;>tokenize&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>En&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>scale&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ur&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> _n={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(_n,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>fi,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ro,&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>eo,&lt;span class=\&quot;hljs-attr\&quot;>parse&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ot&lt;/span>});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ci={&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>upper&lt;/span>:&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>lower&lt;/span>:&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>additive&lt;/span>:[]},ui=[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;4/4&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3/4&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;2/4&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;2/2&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;12/8&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;9/8&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;6/8&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3/8&amp;quot;&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>eo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> ui.&lt;span class=\&quot;hljs-title function_\&quot;>slice&lt;/span>()}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> li=&lt;span class=\&quot;hljs-regexp\&quot;>/^(\\d*\\d(?:\\+\\d)*)\\/(\\d+)$/&lt;/span>,no=&lt;span class=\&quot;hljs-keyword\&quot;>new&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Map&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>ro&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> n=&lt;span class=\&quot;hljs-title class_\&quot;>JSON&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>stringify&lt;/span>(t),e=no.&lt;span class=\&quot;hljs-title function_\&quot;>get&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> e;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> r=&lt;span class=\&quot;hljs-title function_\&quot;>pi&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Ot&lt;/span>(t));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> no.&lt;span class=\&quot;hljs-title function_\&quot;>set&lt;/span>(n,r),r}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ot&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> t==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;string&amp;quot;&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[a,i,m]=li.&lt;span class=\&quot;hljs-title function_\&quot;>exec&lt;/span>(t)||[];&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ot&lt;/span>([i,m])}&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[n,e]=t,r=+e;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(&lt;span class=\&quot;hljs-keyword\&quot;>typeof&lt;/span> n==&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;number&amp;quot;&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[n,r];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=n.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;+&amp;quot;&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>a&lt;/span>=&amp;gt;&lt;/span>+a);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> o.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>?[o[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>],r]:[o,r]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> fi={&lt;span class=\&quot;hljs-attr\&quot;>names&lt;/span>:eo,&lt;span class=\&quot;hljs-attr\&quot;>parse&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ot&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:ro},di=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>t&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>log&lt;/span>(t)/&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>log&lt;/span>(&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>)%&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>pi&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>[t,n]&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> e=&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?t.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>m,c&lt;/span>)=&amp;gt;&lt;/span>m+c,&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>):t,r=n;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(e===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>||r===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> ci;&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> o=&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${t.join(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;+&amp;quot;&lt;/span>)}&lt;/span>/&lt;span class=\&quot;hljs-subst\&quot;>${n}&lt;/span>`&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${t}&lt;/span>/&lt;span class=\&quot;hljs-subst\&quot;>${n}&lt;/span>`&lt;/span>,a=&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>isArray&lt;/span>(t)?&lt;span class=\&quot;hljs-attr\&quot;>t&lt;/span>:[],i=r===&lt;span class=\&quot;hljs-number\&quot;>4&lt;/span>||r===&lt;span class=\&quot;hljs-number\&quot;>2&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;simple&amp;quot;&lt;/span>:r===&lt;span class=\&quot;hljs-number\&quot;>8&lt;/span>&amp;amp;&amp;amp;e%&lt;span class=\&quot;hljs-number\&quot;>3&lt;/span>===&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;compound&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-title function_\&quot;>di&lt;/span>(r)?&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;irregular&amp;quot;&lt;/span>:&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;irrational&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>empty&lt;/span>:!&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>name&lt;/span>:o,&lt;span class=\&quot;hljs-attr\&quot;>type&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>upper&lt;/span>:e,&lt;span class=\&quot;hljs-attr\&quot;>lower&lt;/span>:r,&lt;span class=\&quot;hljs-attr\&quot;>additive&lt;/span>:a}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>On&lt;/span>={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>On&lt;/span>,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Fn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>topNoteDiff&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>oo});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>oo&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;{&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!n||!n.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>=o=&amp;gt;S.&lt;span class=\&quot;hljs-title function_\&quot;>midi&lt;/span>(o[o.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>])||&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>,r=&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>abs&lt;/span>(&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(n)-&lt;span class=\&quot;hljs-title function_\&quot;>e&lt;/span>(o));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> t.&lt;span class=\&quot;hljs-title function_\&quot;>sort&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>o,a&lt;/span>)=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title function_\&quot;>r&lt;/span>(o)-&lt;span class=\&quot;hljs-title function_\&quot;>r&lt;/span>(a))[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]},&lt;span class=\&quot;hljs-title class_\&quot;>Fn&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>topNoteDiff&lt;/span>:oo};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> zn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(zn,{&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Pi&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Ln&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>search&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Gn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>sequence&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>uo});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> kn={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>(kn,{&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>io,&lt;span class=\&quot;hljs-attr\&quot;>default&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>st,&lt;span class=\&quot;hljs-attr\&quot;>defaultDictionary&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Vn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>lefthand&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>$n,&lt;span class=\&quot;hljs-attr\&quot;>lookup&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>mo,&lt;span class=\&quot;hljs-attr\&quot;>triads&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ao});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> ao={&lt;span class=\&quot;hljs-attr\&quot;>M&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 5P 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5P 8P 10M&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>m&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5P 8P 10m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>o&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5d 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5d 8P 10m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>aug&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5A 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5A 8P 10m&amp;quot;&lt;/span>]},$n={&lt;span class=\&quot;hljs-attr\&quot;>m7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9M 10m 12P&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 6M 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9M 10M 13M&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;^7&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 5P 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7M 9M 10M 12P&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-number\&quot;>69&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 5P 6A 9M&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>m7b5&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5d 7m 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 8P 10m 12d&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b9&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 6m 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9m 10M 13m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b13&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 6m 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9m 10M 13m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>o7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5d 6M 8P 10m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#11&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9M 11A 13A&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#9&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 7m 9A&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>mM7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7M 9M 10m 12P&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>m6&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 6M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;6M 9M 10m 12P&amp;quot;&lt;/span>]},io={&lt;span class=\&quot;hljs-attr\&quot;>M&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3M 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 5P 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5P 8P 10M&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>m&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5P 8P 10m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>o&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5d 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5d 8P 10m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>aug&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5A&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5A 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5A 8P 10m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>m7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9M 10m 12P&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-number\&quot;>7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 6M 7m 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9M 10M 13M&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;^7&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 5P 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7M 9M 10M 12P&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-number\&quot;>69&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 5P 6A 9M&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>m7b5&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5d 7m 8P&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 8P 10m 12d&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b9&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 6m 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9m 10M 13m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7b13&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 6m 7m 9m&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9m 10M 13m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>o7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;1P 3m 5d 6M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;5d 6M 8P 10m&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#11&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7m 9M 11A 13A&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7#9&amp;quot;&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3M 7m 9A&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>mM7&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 7M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;7M 9M 10m 12P&amp;quot;&lt;/span>],&lt;span class=\&quot;hljs-attr\&quot;>m6&lt;/span>:[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;3m 5P 6M 9M&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;6M 9M 10m 12P&amp;quot;&lt;/span>]},&lt;span class=\&quot;hljs-title class_\&quot;>Vn&lt;/span>=$n;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>mo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=Vn&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(n[t])&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n[t];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>aliases&lt;/span>:e}=it.&lt;span class=\&quot;hljs-title function_\&quot;>get&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C&amp;quot;&lt;/span>+t),r=&lt;span class=\&quot;hljs-title class_\&quot;>Object&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>keys&lt;/span>(n).&lt;span class=\&quot;hljs-title function_\&quot;>find&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>o&lt;/span>=&amp;gt;&lt;/span>e.&lt;span class=\&quot;hljs-title function_\&quot;>includes&lt;/span>(o))||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(r!==&lt;span class=\&quot;hljs-keyword\&quot;>void&lt;/span> &lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> n[r]}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> st={&lt;span class=\&quot;hljs-attr\&quot;>lookup&lt;/span>:mo,&lt;span class=\&quot;hljs-attr\&quot;>lefthand&lt;/span>:$n,&lt;span class=\&quot;hljs-attr\&quot;>triads&lt;/span>:ao,&lt;span class=\&quot;hljs-attr\&quot;>all&lt;/span>:io,&lt;span class=\&quot;hljs-attr\&quot;>defaultDictionary&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Vn&lt;/span>};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> qn=[&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C3&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;C5&amp;quot;&lt;/span>],so=st.&lt;span class=\&quot;hljs-property\&quot;>all&lt;/span>,co=&lt;span class=\&quot;hljs-title class_\&quot;>Fn&lt;/span>.&lt;span class=\&quot;hljs-property\&quot;>topNoteDiff&lt;/span>;&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Ln&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=qn,e=so,r=co,o&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> a=&lt;span class=\&quot;hljs-title class_\&quot;>Gn&lt;/span>(t,n,e);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>!o||!o.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>?a[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]:&lt;span class=\&quot;hljs-title function_\&quot;>r&lt;/span>(a,o)}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Gn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=qn,e=st.triads&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>[r,o]=it.&lt;span class=\&quot;hljs-title function_\&quot;>tokenize&lt;/span>(t),a=st.&lt;span class=\&quot;hljs-title function_\&quot;>lookup&lt;/span>(o,e);&lt;span class=\&quot;hljs-keyword\&quot;>if&lt;/span>(!a)&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span>[];&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> i=a.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>c&lt;/span>=&amp;gt;&lt;/span>c.&lt;span class=\&quot;hljs-title function_\&quot;>split&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot; &amp;quot;&lt;/span>)),m=jn.&lt;span class=\&quot;hljs-title function_\&quot;>chromatic&lt;/span>(n);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> i.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>c,u&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> M=u.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>h&lt;/span>=&amp;gt;&lt;/span>tn.&lt;span class=\&quot;hljs-title function_\&quot;>subtract&lt;/span>(h,u[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>])||&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;&amp;quot;&lt;/span>),y=S.&lt;span class=\&quot;hljs-title function_\&quot;>transpose&lt;/span>(r,u[&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>]),P=m.&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>h&lt;/span>=&amp;gt;&lt;/span>S.&lt;span class=\&quot;hljs-title function_\&quot;>chroma&lt;/span>(h)===S.&lt;span class=\&quot;hljs-title function_\&quot;>chroma&lt;/span>(y)).&lt;span class=\&quot;hljs-title function_\&quot;>filter&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>h&lt;/span>=&amp;gt;&lt;/span>(S.&lt;span class=\&quot;hljs-title function_\&quot;>midi&lt;/span>(S.&lt;span class=\&quot;hljs-title function_\&quot;>transpose&lt;/span>(h,M[M.&lt;span class=\&quot;hljs-property\&quot;>length&lt;/span>-&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>]))||&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)&amp;lt;=(S.&lt;span class=\&quot;hljs-title function_\&quot;>midi&lt;/span>(n[&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>])||&lt;span class=\&quot;hljs-number\&quot;>0&lt;/span>)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>h&lt;/span>=&amp;gt;&lt;/span>S.&lt;span class=\&quot;hljs-title function_\&quot;>enharmonic&lt;/span>(h,y)).&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>h&lt;/span>=&amp;gt;&lt;/span>M.&lt;span class=\&quot;hljs-title function_\&quot;>map&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>&lt;span class=\&quot;hljs-params\&quot;>nt&lt;/span>=&amp;gt;&lt;/span>S.&lt;span class=\&quot;hljs-title function_\&quot;>transpose&lt;/span>(h,nt)));&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> c.&lt;span class=\&quot;hljs-title function_\&quot;>concat&lt;/span>(P)},[])}&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>uo&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n=qn,e=so,r=co,o&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span>{&lt;span class=\&quot;hljs-attr\&quot;>voicings&lt;/span>:a}=t.&lt;span class=\&quot;hljs-title function_\&quot;>reduce&lt;/span>(&lt;span class=\&quot;hljs-function\&quot;>(&lt;span class=\&quot;hljs-params\&quot;>{voicings:i,lastVoicing:m},c&lt;/span>)=&amp;gt;&lt;/span>{&lt;span class=\&quot;hljs-keyword\&quot;>let&lt;/span> u=&lt;span class=\&quot;hljs-title class_\&quot;>Ln&lt;/span>(c,n,e,r,m);&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> m=u,i.&lt;span class=\&quot;hljs-title function_\&quot;>push&lt;/span>(u),{&lt;span class=\&quot;hljs-attr\&quot;>voicings&lt;/span>:i,&lt;span class=\&quot;hljs-attr\&quot;>lastVoicing&lt;/span>:m}},{&lt;span class=\&quot;hljs-attr\&quot;>voicings&lt;/span>:[],&lt;span class=\&quot;hljs-attr\&quot;>lastVoicing&lt;/span>:o});&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> a}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Pi&lt;/span>={&lt;span class=\&quot;hljs-attr\&quot;>get&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Ln&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>search&lt;/span>:&lt;span class=\&quot;hljs-title class_\&quot;>Gn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>sequence&lt;/span>:uo};&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> $t={};&lt;span class=\&quot;hljs-title function_\&quot;>d&lt;/span>($t,{&lt;span class=\&quot;hljs-attr\&quot;>accToAlt&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>L,&lt;span class=\&quot;hljs-attr\&quot;>altToAcc&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>F,&lt;span class=\&quot;hljs-attr\&quot;>chroma&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Kn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>coordToInterval&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>q,&lt;span class=\&quot;hljs-attr\&quot;>coordToNote&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>ct,&lt;span class=\&quot;hljs-attr\&quot;>coordinates&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>U,&lt;span class=\&quot;hljs-attr\&quot;>deprecate&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Bn&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>distance&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>A,&lt;span class=\&quot;hljs-attr\&quot;>fillStr&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>lo,&lt;span class=\&quot;hljs-attr\&quot;>height&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>kt,&lt;span class=\&quot;hljs-attr\&quot;>interval&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>f,&lt;span class=\&quot;hljs-attr\&quot;>isNamed&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>fo,&lt;span class=\&quot;hljs-attr\&quot;>isNamedPitch&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>C,&lt;span class=\&quot;hljs-attr\&quot;>isPitch&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>_,&lt;span class=\&quot;hljs-attr\&quot;>midi&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Un&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>note&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>s,&lt;span class=\&quot;hljs-attr\&quot;>pitch&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>X,&lt;span class=\&quot;hljs-attr\&quot;>stepToLetter&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>zt,&lt;span class=\&quot;hljs-attr\&quot;>tokenizeInterval&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>&lt;span class=\&quot;hljs-title class_\&quot;>Lt&lt;/span>,&lt;span class=\&quot;hljs-attr\&quot;>tokenizeNote&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>Q,&lt;span class=\&quot;hljs-attr\&quot;>tonicIntervalsTransposer&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>O,&lt;span class=\&quot;hljs-attr\&quot;>transpose&lt;/span>:&lt;span class=\&quot;hljs-function\&quot;>()=&amp;gt;&lt;/span>p});&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>lo&lt;/span>=(&lt;span class=\&quot;hljs-params\&quot;>t,n&lt;/span>)=&amp;gt;&lt;span class=\&quot;hljs-title class_\&quot;>Array&lt;/span>(&lt;span class=\&quot;hljs-title class_\&quot;>Math&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>abs&lt;/span>(n)+&lt;span class=\&quot;hljs-number\&quot;>1&lt;/span>).&lt;span class=\&quot;hljs-title function_\&quot;>join&lt;/span>(t);&lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span> &lt;span class=\&quot;hljs-title function_\&quot;>Bn&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>t,n,e&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-keyword\&quot;>function&lt;/span>(&lt;span class=\&quot;hljs-params\&quot;>...r&lt;/span>){&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-variable language_\&quot;>console&lt;/span>.&lt;span class=\&quot;hljs-title function_\&quot;>warn&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>`&lt;span class=\&quot;hljs-subst\&quot;>${t}&lt;/span> is deprecated. Use &lt;span class=\&quot;hljs-subst\&quot;>${n}&lt;/span>.`&lt;/span>),e.&lt;span class=\&quot;hljs-title function_\&quot;>apply&lt;/span>(&lt;span class=\&quot;hljs-variable language_\&quot;>this&lt;/span>,r)}}&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> fo=&lt;span class=\&quot;hljs-title class_\&quot;>Bn&lt;/span>(&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;isNamed&amp;quot;&lt;/span>,&lt;span class=\&quot;hljs-string\&quot;>&amp;quot;isNamedPitch&amp;quot;&lt;/span>,C);&lt;span class=\&quot;hljs-keyword\&quot;>var&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Mi&lt;/span>=$t,hi=ft,vi=dt,yi=gt;&lt;span class=\&quot;hljs-keyword\&quot;>return&lt;/span> &lt;span class=\&quot;hljs-title class_\&quot;>Ao&lt;/span>(bi);})();\n&lt;span class=\&quot;hljs-comment\&quot;>//# sourceMappingURL=tonal.min.js.map&lt;/span>\n&quot;,&quot;numLines&quot;:3}}"><div class="flex relative bg-white font-mono text-sm leading-6"><div class="py-4 border-b border-x border-slate-300 bg-slate-100 text-right select-none"><div><div class="relative"><a id="L1" href="#L1" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">1</a></div></div><div><div class="relative"><a id="L2" href="#L2" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">2</a></div></div><div><div class="relative"><a id="L3" href="#L3" class="inline-block w-full pl-4 sm:pl-6 pr-2 text-slate-600 hover:text-slate-950 outline-none">3</a></div></div></div><div class="py-4 pl-4 pr-6 relative border-b border-r border-slate-300 flex-grow whitespace-pre overflow-x-auto" style="tab-size:2;"><span class="hljs-meta">&quot;use strict&quot;</span>;<span class="hljs-keyword">var</span> <span class="hljs-title class_">Tonal</span>=(<span class="hljs-function">()=&gt;</span>{<span class="hljs-keyword">var</span> <span class="hljs-title class_">Vt</span>=<span class="hljs-title class_">Object</span>.<span class="hljs-property">defineProperty</span>;<span class="hljs-keyword">var</span> ho=<span class="hljs-title class_">Object</span>.<span class="hljs-property">getOwnPropertyDescriptor</span>;<span class="hljs-keyword">var</span> vo=<span class="hljs-title class_">Object</span>.<span class="hljs-property">getOwnPropertyNames</span>;<span class="hljs-keyword">var</span> yo=<span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hasOwnProperty</span>;<span class="hljs-keyword">var</span> <span class="hljs-title function_">d</span>=(<span class="hljs-params">t,n</span>)=&gt;{<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> e <span class="hljs-keyword">in</span> n)<span class="hljs-title class_">Vt</span>(t,e,{<span class="hljs-attr">get</span>:n[e],<span class="hljs-attr">enumerable</span>:!<span class="hljs-number">0</span>})},bo=<span class="hljs-function">(<span class="hljs-params">t,n,e,r</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(n&amp;&amp;<span class="hljs-keyword">typeof</span> n==<span class="hljs-string">&quot;object&quot;</span>||<span class="hljs-keyword">typeof</span> n==<span class="hljs-string">&quot;function&quot;</span>)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> o <span class="hljs-keyword">of</span> <span class="hljs-title function_">vo</span>(n))!yo.<span class="hljs-title function_">call</span>(t,o)&amp;&amp;o!==e&amp;&amp;<span class="hljs-title class_">Vt</span>(t,o,{<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>n[o],<span class="hljs-attr">enumerable</span>:!(r=<span class="hljs-title function_">ho</span>(n,o))||r.<span class="hljs-property">enumerable</span>});<span class="hljs-keyword">return</span> t};<span class="hljs-keyword">var</span> <span class="hljs-title function_">Ao</span>=t=&gt;<span class="hljs-title function_">bo</span>(<span class="hljs-title class_">Vt</span>({},<span class="hljs-string">&quot;__esModule&quot;</span>,{<span class="hljs-attr">value</span>:!<span class="hljs-number">0</span>}),t);<span class="hljs-keyword">var</span> bi={};<span class="hljs-title function_">d</span>(bi,{<span class="hljs-title class_">AbcNotation</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Kt</span>,<span class="hljs-title class_">Array</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ut</span>,<span class="hljs-title class_">Chord</span>:<span class="hljs-function">()=&gt;</span>on,<span class="hljs-title class_">ChordDictionary</span>:<span class="hljs-function">()=&gt;</span>vi,<span class="hljs-title class_">ChordType</span>:<span class="hljs-function">()=&gt;</span>dt,<span class="hljs-title class_">Collection</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Qt</span>,<span class="hljs-title class_">Core</span>:<span class="hljs-function">()=&gt;</span>$t,<span class="hljs-title class_">DurationValue</span>:<span class="hljs-function">()=&gt;</span>an,<span class="hljs-title class_">Interval</span>:<span class="hljs-function">()=&gt;</span>nn,<span class="hljs-title class_">Key</span>:<span class="hljs-function">()=&gt;</span>vn,<span class="hljs-title class_">Midi</span>:<span class="hljs-function">()=&gt;</span>cn,<span class="hljs-title class_">Mode</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Sn</span>,<span class="hljs-title class_">Note</span>:<span class="hljs-function">()=&gt;</span>dn,<span class="hljs-title class_">PcSet</span>:<span class="hljs-function">()=&gt;</span>hi,<span class="hljs-title class_">Pcset</span>:<span class="hljs-function">()=&gt;</span>ft,<span class="hljs-title class_">Progression</span>:<span class="hljs-function">()=&gt;</span>xn,<span class="hljs-title class_">Range</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Tn</span>,<span class="hljs-title class_">RhythmPattern</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Cn</span>,<span class="hljs-title class_">RomanNumeral</span>:<span class="hljs-function">()=&gt;</span>pn,<span class="hljs-title class_">Scale</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Rn</span>,<span class="hljs-title class_">ScaleDictionary</span>:<span class="hljs-function">()=&gt;</span>yi,<span class="hljs-title class_">ScaleType</span>:<span class="hljs-function">()=&gt;</span>gt,<span class="hljs-title class_">TimeSignature</span>:<span class="hljs-function">()=&gt;</span>_n,<span class="hljs-title class_">Tonal</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Mi</span>,<span class="hljs-title class_">VoiceLeading</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">On</span>,<span class="hljs-title class_">Voicing</span>:<span class="hljs-function">()=&gt;</span>zn,<span class="hljs-title class_">VoicingDictionary</span>:<span class="hljs-function">()=&gt;</span>kn,<span class="hljs-attr">accToAlt</span>:<span class="hljs-function">()=&gt;</span>L,<span class="hljs-attr">altToAcc</span>:<span class="hljs-function">()=&gt;</span>F,<span class="hljs-attr">chroma</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Kn</span>,<span class="hljs-attr">coordToInterval</span>:<span class="hljs-function">()=&gt;</span>q,<span class="hljs-attr">coordToNote</span>:<span class="hljs-function">()=&gt;</span>ct,<span class="hljs-attr">coordinates</span>:<span class="hljs-function">()=&gt;</span>U,<span class="hljs-attr">deprecate</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Bn</span>,<span class="hljs-attr">distance</span>:<span class="hljs-function">()=&gt;</span>A,<span class="hljs-attr">fillStr</span>:<span class="hljs-function">()=&gt;</span>lo,<span class="hljs-attr">height</span>:<span class="hljs-function">()=&gt;</span>kt,<span class="hljs-attr">interval</span>:<span class="hljs-function">()=&gt;</span>f,<span class="hljs-attr">isNamed</span>:<span class="hljs-function">()=&gt;</span>fo,<span class="hljs-attr">isNamedPitch</span>:<span class="hljs-function">()=&gt;</span>C,<span class="hljs-attr">isPitch</span>:<span class="hljs-function">()=&gt;</span>_,<span class="hljs-attr">midi</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Un</span>,<span class="hljs-attr">note</span>:<span class="hljs-function">()=&gt;</span>s,<span class="hljs-attr">pitch</span>:<span class="hljs-function">()=&gt;</span>X,<span class="hljs-attr">stepToLetter</span>:<span class="hljs-function">()=&gt;</span>zt,<span class="hljs-attr">tokenizeInterval</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Lt</span>,<span class="hljs-attr">tokenizeNote</span>:<span class="hljs-function">()=&gt;</span>Q,<span class="hljs-attr">tonicIntervalsTransposer</span>:<span class="hljs-function">()=&gt;</span>O,<span class="hljs-attr">transpose</span>:<span class="hljs-function">()=&gt;</span>p});<span class="hljs-keyword">var</span> <span class="hljs-title class_">Kt</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">Kt</span>,{<span class="hljs-attr">abcToScientificNotation</span>:<span class="hljs-function">()=&gt;</span>et,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Oo</span>,<span class="hljs-attr">distance</span>:<span class="hljs-function">()=&gt;</span>ae,<span class="hljs-attr">scientificToAbcNotation</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ht</span>,<span class="hljs-attr">tokenize</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Bt</span>,<span class="hljs-attr">transpose</span>:<span class="hljs-function">()=&gt;</span>oe});<span class="hljs-keyword">function</span> <span class="hljs-title function_">C</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t!==<span class="hljs-literal">null</span>&amp;&amp;<span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;object&quot;</span>&amp;&amp;<span class="hljs-string">&quot;name&quot;</span><span class="hljs-keyword">in</span> t&amp;&amp;<span class="hljs-keyword">typeof</span> t.<span class="hljs-property">name</span>==<span class="hljs-string">&quot;string&quot;</span>}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Hn</span>=[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>,<span class="hljs-number">11</span>],<span class="hljs-title class_">Kn</span>=<span class="hljs-function">(<span class="hljs-params">{step:t,alt:n}</span>)=&gt;</span>(<span class="hljs-title class_">Hn</span>[t]+n+<span class="hljs-number">120</span>)%<span class="hljs-number">12</span>,kt=<span class="hljs-function">(<span class="hljs-params">{step:t,alt:n,oct:e,dir:r=<span class="hljs-number">1</span>}</span>)=&gt;</span>r*(<span class="hljs-title class_">Hn</span>[t]+n+<span class="hljs-number">12</span>*(e===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>?-<span class="hljs-number">100</span>:e)),<span class="hljs-title class_">Un</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>{<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">kt</span>(t);<span class="hljs-keyword">return</span> t.<span class="hljs-property">oct</span>!==<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>&amp;&amp;n&gt;=-<span class="hljs-number">12</span>&amp;&amp;n&lt;=<span class="hljs-number">115</span>?n+<span class="hljs-number">12</span>:<span class="hljs-literal">null</span>};<span class="hljs-keyword">function</span> <span class="hljs-title function_">_</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t!==<span class="hljs-literal">null</span>&amp;&amp;<span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;object&quot;</span>&amp;&amp;<span class="hljs-string">&quot;step&quot;</span><span class="hljs-keyword">in</span> t&amp;&amp;<span class="hljs-keyword">typeof</span> t.<span class="hljs-property">step</span>==<span class="hljs-string">&quot;number&quot;</span>&amp;&amp;<span class="hljs-string">&quot;alt&quot;</span><span class="hljs-keyword">in</span> t&amp;&amp;<span class="hljs-keyword">typeof</span> t.<span class="hljs-property">alt</span>==<span class="hljs-string">&quot;number&quot;</span>&amp;&amp;!<span class="hljs-built_in">isNaN</span>(t.<span class="hljs-property">step</span>)&amp;&amp;!<span class="hljs-built_in">isNaN</span>(t.<span class="hljs-property">alt</span>)}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Xn</span>=[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,-<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>],<span class="hljs-title class_">Qn</span>=<span class="hljs-title class_">Xn</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(t*<span class="hljs-number">7</span>/<span class="hljs-number">12</span>));<span class="hljs-keyword">function</span> <span class="hljs-title function_">U</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>{<span class="hljs-attr">step</span>:n,<span class="hljs-attr">alt</span>:e,<span class="hljs-attr">oct</span>:r,<span class="hljs-attr">dir</span>:o=<span class="hljs-number">1</span>}=t,a=<span class="hljs-title class_">Xn</span>[n]+<span class="hljs-number">7</span>*e;<span class="hljs-keyword">if</span>(r===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>[o*a];<span class="hljs-keyword">let</span> i=r-<span class="hljs-title class_">Qn</span>[n]-<span class="hljs-number">4</span>*e;<span class="hljs-keyword">return</span>[o*a,o*i]}<span class="hljs-keyword">var</span> go=[<span class="hljs-number">3</span>,<span class="hljs-number">0</span>,<span class="hljs-number">4</span>,<span class="hljs-number">1</span>,<span class="hljs-number">5</span>,<span class="hljs-number">2</span>,<span class="hljs-number">6</span>];<span class="hljs-keyword">function</span> <span class="hljs-title function_">X</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>[n,e,r]=t,o=go[<span class="hljs-title class_">No</span>(n)],a=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((n+<span class="hljs-number">1</span>)/<span class="hljs-number">7</span>);<span class="hljs-keyword">if</span>(e===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>{<span class="hljs-attr">step</span>:o,<span class="hljs-attr">alt</span>:a,<span class="hljs-attr">dir</span>:r};<span class="hljs-keyword">let</span> i=e+<span class="hljs-number">4</span>*a+<span class="hljs-title class_">Qn</span>[o];<span class="hljs-keyword">return</span>{<span class="hljs-attr">step</span>:o,<span class="hljs-attr">alt</span>:a,<span class="hljs-attr">oct</span>:i,<span class="hljs-attr">dir</span>:r}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">No</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=(t+<span class="hljs-number">1</span>)%<span class="hljs-number">7</span>;<span class="hljs-keyword">return</span> n&lt;<span class="hljs-number">0</span>?<span class="hljs-number">7</span>+<span class="hljs-attr">n</span>:n}<span class="hljs-keyword">var</span> <span class="hljs-title function_">Jn</span>=(<span class="hljs-params">t,n</span>)=&gt;<span class="hljs-title class_">Array</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(n)+<span class="hljs-number">1</span>).<span class="hljs-title function_">join</span>(t),qt=<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">num</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">q</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">step</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">alt</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">dir</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">simple</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">semitones</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">chroma</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">coord</span>:[],<span class="hljs-attr">oct</span>:<span class="hljs-title class_">NaN</span>}),<span class="hljs-title class_">So</span>=<span class="hljs-string">&quot;([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})&quot;</span>,xo=<span class="hljs-string">&quot;(AA|A|P|M|m|d|dd)([-+]?\\d+)&quot;</span>,<span class="hljs-title class_">Io</span>=<span class="hljs-keyword">new</span> <span class="hljs-title class_">RegExp</span>(<span class="hljs-string">&quot;^&quot;</span>+<span class="hljs-title class_">So</span>+<span class="hljs-string">&quot;|&quot;</span>+xo+<span class="hljs-string">&quot;$&quot;</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">Lt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">Io</span>.<span class="hljs-title function_">exec</span>(<span class="hljs-string">`<span class="hljs-subst">${t}</span>`</span>);<span class="hljs-keyword">return</span> n===<span class="hljs-literal">null</span>?[<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>]:n[<span class="hljs-number">1</span>]?[n[<span class="hljs-number">1</span>],n[<span class="hljs-number">2</span>]]:[n[<span class="hljs-number">4</span>],n[<span class="hljs-number">3</span>]]}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Wn</span>={};<span class="hljs-keyword">function</span> <span class="hljs-title function_">f</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;string&quot;</span>?<span class="hljs-title class_">Wn</span>[t]||(<span class="hljs-title class_">Wn</span>[t]=<span class="hljs-title function_">jo</span>(t)):<span class="hljs-title function_">_</span>(t)?<span class="hljs-title function_">f</span>(<span class="hljs-title class_">Co</span>(t)):<span class="hljs-title function_">C</span>(t)?<span class="hljs-title function_">f</span>(t.<span class="hljs-property">name</span>):qt}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Zn</span>=[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>,<span class="hljs-number">11</span>],<span class="hljs-title class_">Yn</span>=<span class="hljs-string">&quot;PMMPPMM&quot;</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">jo</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">Lt</span>(t);<span class="hljs-keyword">if</span>(n[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;&quot;</span>)<span class="hljs-keyword">return</span> qt;<span class="hljs-keyword">let</span> e=+n[<span class="hljs-number">0</span>],r=n[<span class="hljs-number">1</span>],o=(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(e)-<span class="hljs-number">1</span>)%<span class="hljs-number">7</span>,a=<span class="hljs-title class_">Yn</span>[o];<span class="hljs-keyword">if</span>(a===<span class="hljs-string">&quot;M&quot;</span>&amp;&amp;r===<span class="hljs-string">&quot;P&quot;</span>)<span class="hljs-keyword">return</span> qt;<span class="hljs-keyword">let</span> i=a===<span class="hljs-string">&quot;M&quot;</span>?<span class="hljs-string">&quot;majorable&quot;</span>:<span class="hljs-string">&quot;perfectable&quot;</span>,m=<span class="hljs-string">&quot;&quot;</span>+e+r,c=e&lt;<span class="hljs-number">0</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>,u=e===<span class="hljs-number">8</span>||e===-<span class="hljs-number">8</span>?<span class="hljs-attr">e</span>:c*(o+<span class="hljs-number">1</span>),M=<span class="hljs-title class_">To</span>(i,r),y=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>((<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(e)-<span class="hljs-number">1</span>)/<span class="hljs-number">7</span>),l=c*(<span class="hljs-title class_">Zn</span>[o]+M+<span class="hljs-number">12</span>*y),P=(c*(<span class="hljs-title class_">Zn</span>[o]+M)%<span class="hljs-number">12</span>+<span class="hljs-number">12</span>)%<span class="hljs-number">12</span>,h=<span class="hljs-title function_">U</span>({<span class="hljs-attr">step</span>:o,<span class="hljs-attr">alt</span>:M,<span class="hljs-attr">oct</span>:y,<span class="hljs-attr">dir</span>:c});<span class="hljs-keyword">return</span>{<span class="hljs-attr">empty</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">name</span>:m,<span class="hljs-attr">num</span>:e,<span class="hljs-attr">q</span>:r,<span class="hljs-attr">step</span>:o,<span class="hljs-attr">alt</span>:M,<span class="hljs-attr">dir</span>:c,<span class="hljs-attr">type</span>:i,<span class="hljs-attr">simple</span>:u,<span class="hljs-attr">semitones</span>:l,<span class="hljs-attr">chroma</span>:P,<span class="hljs-attr">coord</span>:h,<span class="hljs-attr">oct</span>:y}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">q</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span>[e,r=<span class="hljs-number">0</span>]=t,o=e*<span class="hljs-number">7</span>+r*<span class="hljs-number">12</span>&lt;<span class="hljs-number">0</span>,a=n||o?[-e,-r,-<span class="hljs-number">1</span>]:[e,r,<span class="hljs-number">1</span>];<span class="hljs-keyword">return</span> <span class="hljs-title function_">f</span>(<span class="hljs-title function_">X</span>(a))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">To</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> n===<span class="hljs-string">&quot;M&quot;</span>&amp;&amp;t===<span class="hljs-string">&quot;majorable&quot;</span>||n===<span class="hljs-string">&quot;P&quot;</span>&amp;&amp;t===<span class="hljs-string">&quot;perfectable&quot;</span>?<span class="hljs-number">0</span>:n===<span class="hljs-string">&quot;m&quot;</span>&amp;&amp;t===<span class="hljs-string">&quot;majorable&quot;</span>?-<span class="hljs-number">1</span>:<span class="hljs-regexp">/^A+$/</span>.<span class="hljs-title function_">test</span>(n)?n.<span class="hljs-property">length</span>:<span class="hljs-regexp">/^d+$/</span>.<span class="hljs-title function_">test</span>(n)?-<span class="hljs-number">1</span>*(t===<span class="hljs-string">&quot;perfectable&quot;</span>?n.<span class="hljs-property">length</span>:n.<span class="hljs-property">length</span>+<span class="hljs-number">1</span>):<span class="hljs-number">0</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Co</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>{<span class="hljs-attr">step</span>:n,<span class="hljs-attr">alt</span>:e,<span class="hljs-attr">oct</span>:r=<span class="hljs-number">0</span>,<span class="hljs-attr">dir</span>:o}=t;<span class="hljs-keyword">if</span>(!o)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> a=n+<span class="hljs-number">1</span>+<span class="hljs-number">7</span>*r,i=a===<span class="hljs-number">0</span>?n+<span class="hljs-number">1</span>:a,m=o&lt;<span class="hljs-number">0</span>?<span class="hljs-string">&quot;-&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,c=<span class="hljs-title class_">Yn</span>[n]===<span class="hljs-string">&quot;M&quot;</span>?<span class="hljs-string">&quot;majorable&quot;</span>:<span class="hljs-string">&quot;perfectable&quot;</span>;<span class="hljs-keyword">return</span> m+i+<span class="hljs-title class_">Eo</span>(c,e)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Eo</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> n===<span class="hljs-number">0</span>?t===<span class="hljs-string">&quot;majorable&quot;</span>?<span class="hljs-string">&quot;M&quot;</span>:<span class="hljs-string">&quot;P&quot;</span>:n===-<span class="hljs-number">1</span>&amp;&amp;t===<span class="hljs-string">&quot;majorable&quot;</span>?<span class="hljs-string">&quot;m&quot;</span>:n&gt;<span class="hljs-number">0</span>?<span class="hljs-title class_">Jn</span>(<span class="hljs-string">&quot;A&quot;</span>,n):<span class="hljs-title class_">Jn</span>(<span class="hljs-string">&quot;d&quot;</span>,t===<span class="hljs-string">&quot;perfectable&quot;</span>?<span class="hljs-attr">n</span>:n+<span class="hljs-number">1</span>)}<span class="hljs-keyword">var</span> <span class="hljs-title function_">te</span>=(<span class="hljs-params">t,n</span>)=&gt;<span class="hljs-title class_">Array</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(n)+<span class="hljs-number">1</span>).<span class="hljs-title function_">join</span>(t),ee=<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>({<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">letter</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">acc</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">pc</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">step</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">alt</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">chroma</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">height</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">coord</span>:[],<span class="hljs-attr">midi</span>:<span class="hljs-literal">null</span>,<span class="hljs-attr">freq</span>:<span class="hljs-literal">null</span>}),ne=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>,zt=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-string">&quot;CDEFGAB&quot;</span>.<span class="hljs-title function_">charAt</span>(t),F=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t&lt;<span class="hljs-number">0</span>?<span class="hljs-title function_">te</span>(<span class="hljs-string">&quot;b&quot;</span>,-t):<span class="hljs-title function_">te</span>(<span class="hljs-string">&quot;#&quot;</span>,t),L=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;b&quot;</span>?-t.<span class="hljs-property">length</span>:t.<span class="hljs-property">length</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">s</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(t),e=ne.<span class="hljs-title function_">get</span>(n);<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">let</span> r=<span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;string&quot;</span>?<span class="hljs-title class_">Ro</span>(t):<span class="hljs-title function_">_</span>(t)?<span class="hljs-title function_">s</span>(<span class="hljs-title function_">_o</span>(t)):<span class="hljs-title function_">C</span>(t)?<span class="hljs-title function_">s</span>(t.<span class="hljs-property">name</span>):ee;<span class="hljs-keyword">return</span> ne.<span class="hljs-title function_">set</span>(n,r),r}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Do</span>=<span class="hljs-regexp">/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Q</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">Do</span>.<span class="hljs-title function_">exec</span>(t);<span class="hljs-keyword">return</span> n?[n[<span class="hljs-number">1</span>].<span class="hljs-title function_">toUpperCase</span>(),n[<span class="hljs-number">2</span>].<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/x/g</span>,<span class="hljs-string">&quot;##&quot;</span>),n[<span class="hljs-number">3</span>],n[<span class="hljs-number">4</span>]]:[<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>]}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ct</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">s</span>(<span class="hljs-title function_">X</span>(t))}<span class="hljs-keyword">var</span> <span class="hljs-title function_">wo</span>=(<span class="hljs-params">t,n</span>)=&gt;(t%n+n)%n,<span class="hljs-title class_">Gt</span>=[<span class="hljs-number">0</span>,<span class="hljs-number">2</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">7</span>,<span class="hljs-number">9</span>,<span class="hljs-number">11</span>];<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ro</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">Q</span>(t);<span class="hljs-keyword">if</span>(n[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;&quot;</span>||n[<span class="hljs-number">3</span>]!==<span class="hljs-string">&quot;&quot;</span>)<span class="hljs-keyword">return</span> ee;<span class="hljs-keyword">let</span> e=n[<span class="hljs-number">0</span>],r=n[<span class="hljs-number">1</span>],o=n[<span class="hljs-number">2</span>],a=(e.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>)+<span class="hljs-number">3</span>)%<span class="hljs-number">7</span>,i=<span class="hljs-title function_">L</span>(r),m=o.<span class="hljs-property">length</span>?+<span class="hljs-attr">o</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,c=<span class="hljs-title function_">U</span>({<span class="hljs-attr">step</span>:a,<span class="hljs-attr">alt</span>:i,<span class="hljs-attr">oct</span>:m}),u=e+r+o,M=e+r,y=(<span class="hljs-title class_">Gt</span>[a]+i+<span class="hljs-number">120</span>)%<span class="hljs-number">12</span>,l=m===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>?<span class="hljs-title function_">wo</span>(<span class="hljs-title class_">Gt</span>[a]+i,<span class="hljs-number">12</span>)-<span class="hljs-number">12</span>*<span class="hljs-number">99</span>:<span class="hljs-title class_">Gt</span>[a]+i+<span class="hljs-number">12</span>*(m+<span class="hljs-number">1</span>),P=l&gt;=<span class="hljs-number">0</span>&amp;&amp;l&lt;=<span class="hljs-number">127</span>?<span class="hljs-attr">l</span>:<span class="hljs-literal">null</span>,h=m===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>?<span class="hljs-attr">null</span>:<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>,(l-<span class="hljs-number">69</span>)/<span class="hljs-number">12</span>)*<span class="hljs-number">440</span>;<span class="hljs-keyword">return</span>{<span class="hljs-attr">empty</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">acc</span>:r,<span class="hljs-attr">alt</span>:i,<span class="hljs-attr">chroma</span>:y,<span class="hljs-attr">coord</span>:c,<span class="hljs-attr">freq</span>:h,<span class="hljs-attr">height</span>:l,<span class="hljs-attr">letter</span>:e,<span class="hljs-attr">midi</span>:P,<span class="hljs-attr">name</span>:u,<span class="hljs-attr">oct</span>:m,<span class="hljs-attr">pc</span>:M,<span class="hljs-attr">step</span>:a}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">_o</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>{<span class="hljs-attr">step</span>:n,<span class="hljs-attr">alt</span>:e,<span class="hljs-attr">oct</span>:r}=t,o=<span class="hljs-title function_">zt</span>(n);<span class="hljs-keyword">if</span>(!o)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> a=o+<span class="hljs-title function_">F</span>(e);<span class="hljs-keyword">return</span> r||r===<span class="hljs-number">0</span>?a+<span class="hljs-attr">r</span>:a}<span class="hljs-keyword">function</span> <span class="hljs-title function_">p</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">s</span>(t),r=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(n)?<span class="hljs-attr">n</span>:<span class="hljs-title function_">f</span>(n).<span class="hljs-property">coord</span>;<span class="hljs-keyword">if</span>(e.<span class="hljs-property">empty</span>||!r||r.<span class="hljs-property">length</span>&lt;<span class="hljs-number">2</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> o=e.<span class="hljs-property">coord</span>,a=o.<span class="hljs-property">length</span>===<span class="hljs-number">1</span>?[o[<span class="hljs-number">0</span>]+r[<span class="hljs-number">0</span>]]:[o[<span class="hljs-number">0</span>]+r[<span class="hljs-number">0</span>],o[<span class="hljs-number">1</span>]+r[<span class="hljs-number">1</span>]];<span class="hljs-keyword">return</span> <span class="hljs-title function_">ct</span>(a).<span class="hljs-property">name</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">O</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=t.<span class="hljs-property">length</span>;<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!n)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> o=r&lt;<span class="hljs-number">0</span>?(e- -r%e)%<span class="hljs-attr">e</span>:r%e,a=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(r/e),i=<span class="hljs-title function_">p</span>(n,[<span class="hljs-number">0</span>,a]);<span class="hljs-keyword">return</span> <span class="hljs-title function_">p</span>(i,t[o])}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">A</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">s</span>(t),r=<span class="hljs-title function_">s</span>(n);<span class="hljs-keyword">if</span>(e.<span class="hljs-property">empty</span>||r.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> o=e.<span class="hljs-property">coord</span>,a=r.<span class="hljs-property">coord</span>,i=a[<span class="hljs-number">0</span>]-o[<span class="hljs-number">0</span>],m=o.<span class="hljs-property">length</span>===<span class="hljs-number">2</span>&amp;&amp;a.<span class="hljs-property">length</span>===<span class="hljs-number">2</span>?a[<span class="hljs-number">1</span>]-o[<span class="hljs-number">1</span>]:-<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(i*<span class="hljs-number">7</span>/<span class="hljs-number">12</span>),c=r.<span class="hljs-property">height</span>===e.<span class="hljs-property">height</span>&amp;&amp;r.<span class="hljs-property">midi</span>!==<span class="hljs-literal">null</span>&amp;&amp;e.<span class="hljs-property">oct</span>===r.<span class="hljs-property">oct</span>&amp;&amp;e.<span class="hljs-property">step</span>&gt;r.<span class="hljs-property">step</span>;<span class="hljs-keyword">return</span> <span class="hljs-title function_">q</span>([i,m],c).<span class="hljs-property">name</span>}<span class="hljs-keyword">var</span> <span class="hljs-title function_">re</span>=(<span class="hljs-params">t,n</span>)=&gt;<span class="hljs-title class_">Array</span>(n+<span class="hljs-number">1</span>).<span class="hljs-title function_">join</span>(t),<span class="hljs-title class_">Fo</span>=<span class="hljs-regexp">/^(_{1,}|=|\^{1,}|)([abcdefgABCDEFG])([,&#x27;]*)$/</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Bt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">Fo</span>.<span class="hljs-title function_">exec</span>(t);<span class="hljs-keyword">return</span> n?[n[<span class="hljs-number">1</span>],n[<span class="hljs-number">2</span>],n[<span class="hljs-number">3</span>]]:[<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>]}<span class="hljs-keyword">function</span> <span class="hljs-title function_">et</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>[n,e,r]=<span class="hljs-title class_">Bt</span>(t);<span class="hljs-keyword">if</span>(e===<span class="hljs-string">&quot;&quot;</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> o=<span class="hljs-number">4</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;r.<span class="hljs-property">length</span>;i++)o+=r.<span class="hljs-title function_">charAt</span>(i)===<span class="hljs-string">&quot;,&quot;</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>;<span class="hljs-keyword">let</span> a=n[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;_&quot;</span>?n.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/_/g</span>,<span class="hljs-string">&quot;b&quot;</span>):n[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;^&quot;</span>?n.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\^/g</span>,<span class="hljs-string">&quot;#&quot;</span>):<span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">return</span> e.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>)&gt;<span class="hljs-number">96</span>?e.<span class="hljs-title function_">toUpperCase</span>()+a+(o+<span class="hljs-number">1</span>):e+a+o}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ht</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">s</span>(t);<span class="hljs-keyword">if</span>(n.<span class="hljs-property">empty</span>||!n.<span class="hljs-property">oct</span>&amp;&amp;n.<span class="hljs-property">oct</span>!==<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span>{<span class="hljs-attr">letter</span>:e,<span class="hljs-attr">acc</span>:r,<span class="hljs-attr">oct</span>:o}=n,a=r[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;b&quot;</span>?r.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/b/g</span>,<span class="hljs-string">&quot;_&quot;</span>):r.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/#/g</span>,<span class="hljs-string">&quot;^&quot;</span>),i=o&gt;<span class="hljs-number">4</span>?e.<span class="hljs-title function_">toLowerCase</span>():e,m=o===<span class="hljs-number">5</span>?<span class="hljs-string">&quot;&quot;</span>:o&gt;<span class="hljs-number">4</span>?<span class="hljs-title function_">re</span>(<span class="hljs-string">&quot;&#x27;&quot;</span>,o-<span class="hljs-number">5</span>):<span class="hljs-title function_">re</span>(<span class="hljs-string">&quot;,&quot;</span>,<span class="hljs-number">4</span>-o);<span class="hljs-keyword">return</span> a+i+m}<span class="hljs-keyword">function</span> <span class="hljs-title function_">oe</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Ht</span>(<span class="hljs-title function_">p</span>(<span class="hljs-title function_">et</span>(t),n))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ae</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">A</span>(<span class="hljs-title function_">et</span>(t),<span class="hljs-title function_">et</span>(n))}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Oo</span>={<span class="hljs-attr">abcToScientificNotation</span>:et,<span class="hljs-attr">scientificToAbcNotation</span>:<span class="hljs-title class_">Ht</span>,<span class="hljs-attr">tokenize</span>:<span class="hljs-title class_">Bt</span>,<span class="hljs-attr">transpose</span>:oe,<span class="hljs-attr">distance</span>:ae};<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ut</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">Ut</span>,{<span class="hljs-attr">compact</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Lo</span>,<span class="hljs-attr">permutations</span>:<span class="hljs-function">()=&gt;</span>me,<span class="hljs-attr">range</span>:<span class="hljs-function">()=&gt;</span>ko,<span class="hljs-attr">rotate</span>:<span class="hljs-function">()=&gt;</span>qo,<span class="hljs-attr">shuffle</span>:<span class="hljs-function">()=&gt;</span>zo,<span class="hljs-attr">sortedNoteNames</span>:<span class="hljs-function">()=&gt;</span>ie,<span class="hljs-attr">sortedUniqNoteNames</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Go</span>});<span class="hljs-keyword">function</span> <span class="hljs-title function_">$o</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=[];<span class="hljs-keyword">for</span>(;n--;e[n]=n+t);<span class="hljs-keyword">return</span> e}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Vo</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=[];<span class="hljs-keyword">for</span>(;n--;e[n]=t-n);<span class="hljs-keyword">return</span> e}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ko</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> t&lt;n?$o(t,n-t+<span class="hljs-number">1</span>):<span class="hljs-title class_">Vo</span>(t,t-n+<span class="hljs-number">1</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">qo</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=n.<span class="hljs-property">length</span>,r=(t%e+e)%e;<span class="hljs-keyword">return</span> n.<span class="hljs-title function_">slice</span>(r,e).<span class="hljs-title function_">concat</span>(n.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,r))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Lo</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span>n===<span class="hljs-number">0</span>||n)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ie</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-title function_">s</span>(e)).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>!e.<span class="hljs-property">empty</span>).<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">e,r</span>)=&gt;</span>e.<span class="hljs-property">height</span>-r.<span class="hljs-property">height</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>e.<span class="hljs-property">name</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Go</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">ie</span>(t).<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">n,e,r</span>)=&gt;</span>e===<span class="hljs-number">0</span>||n!==r[e-<span class="hljs-number">1</span>])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">zo</span>(<span class="hljs-params">t,n=<span class="hljs-built_in">Math</span>.random</span>){<span class="hljs-keyword">let</span> e,r,o=t.<span class="hljs-property">length</span>;<span class="hljs-keyword">for</span>(;o;)e=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title function_">n</span>()*o--),r=t[o],t[o]=t[e],t[e]=r;<span class="hljs-keyword">return</span> t}<span class="hljs-keyword">function</span> <span class="hljs-title function_">me</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-property">length</span>===<span class="hljs-number">0</span>?[[]]:<span class="hljs-title function_">me</span>(t.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>)).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">n,e</span>)=&gt;</span>n.<span class="hljs-title function_">concat</span>(t.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a=e.<span class="hljs-title function_">slice</span>();<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">splice</span>(o,<span class="hljs-number">0</span>,t[<span class="hljs-number">0</span>]),a})),[])}<span class="hljs-keyword">var</span> on={};<span class="hljs-title function_">d</span>(on,{<span class="hljs-attr">chord</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ge</span>,<span class="hljs-attr">chordScales</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Be</span>,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>it,<span class="hljs-attr">degrees</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Xe</span>,<span class="hljs-attr">detect</span>:<span class="hljs-function">()=&gt;</span>pt,<span class="hljs-attr">extended</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">He</span>,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>R,<span class="hljs-attr">getChord</span>:<span class="hljs-function">()=&gt;</span>at,<span class="hljs-attr">notes</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ue</span>,<span class="hljs-attr">reduced</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ke</span>,<span class="hljs-attr">steps</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Qe</span>,<span class="hljs-attr">tokenize</span>:<span class="hljs-function">()=&gt;</span>Y,<span class="hljs-attr">transpose</span>:<span class="hljs-function">()=&gt;</span>ze});<span class="hljs-keyword">var</span> dt={};<span class="hljs-title function_">d</span>(dt,{<span class="hljs-attr">add</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Wt</span>,<span class="hljs-attr">addAlias</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Se</span>,<span class="hljs-attr">all</span>:<span class="hljs-function">()=&gt;</span>D,<span class="hljs-attr">chordType</span>:<span class="hljs-function">()=&gt;</span>ve,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>ma,<span class="hljs-attr">entries</span>:<span class="hljs-function">()=&gt;</span>ge,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>ot,<span class="hljs-attr">keys</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ae</span>,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span>ye,<span class="hljs-attr">removeAll</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ne</span>,<span class="hljs-attr">symbols</span>:<span class="hljs-function">()=&gt;</span>be});<span class="hljs-keyword">var</span> ft={};<span class="hljs-title function_">d</span>(ft,{<span class="hljs-title class_">EmptyPcset</span>:<span class="hljs-function">()=&gt;</span>x,<span class="hljs-attr">chroma</span>:<span class="hljs-function">()=&gt;</span>ut,<span class="hljs-attr">chromas</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Pe</span>,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Yo</span>,<span class="hljs-attr">filter</span>:<span class="hljs-function">()=&gt;</span>he,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>v,<span class="hljs-attr">includes</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Zo</span>,<span class="hljs-attr">intervals</span>:<span class="hljs-function">()=&gt;</span>fe,<span class="hljs-attr">isChroma</span>:<span class="hljs-function">()=&gt;</span>rt,<span class="hljs-attr">isEqual</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Me</span>,<span class="hljs-attr">isNoteIncludedIn</span>:<span class="hljs-function">()=&gt;</span>lt,<span class="hljs-attr">isSubsetOf</span>:<span class="hljs-function">()=&gt;</span>G,<span class="hljs-attr">isSupersetOf</span>:<span class="hljs-function">()=&gt;</span>z,<span class="hljs-attr">modes</span>:<span class="hljs-function">()=&gt;</span>W,<span class="hljs-attr">notes</span>:<span class="hljs-function">()=&gt;</span>pe,<span class="hljs-attr">num</span>:<span class="hljs-function">()=&gt;</span>de,<span class="hljs-attr">pcset</span>:<span class="hljs-function">()=&gt;</span>le});<span class="hljs-keyword">var</span> <span class="hljs-title class_">Qt</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">Qt</span>,{<span class="hljs-attr">compact</span>:<span class="hljs-function">()=&gt;</span>J,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ko</span>,<span class="hljs-attr">permutations</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Xt</span>,<span class="hljs-attr">range</span>:<span class="hljs-function">()=&gt;</span>$,<span class="hljs-attr">rotate</span>:<span class="hljs-function">()=&gt;</span>E,<span class="hljs-attr">shuffle</span>:<span class="hljs-function">()=&gt;</span>se});<span class="hljs-keyword">function</span> <span class="hljs-title function_">Bo</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=[];<span class="hljs-keyword">for</span>(;n--;e[n]=n+t);<span class="hljs-keyword">return</span> e}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ho</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=[];<span class="hljs-keyword">for</span>(;n--;e[n]=t-n);<span class="hljs-keyword">return</span> e}<span class="hljs-keyword">function</span> <span class="hljs-title function_">$</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> t&lt;n?<span class="hljs-title class_">Bo</span>(t,n-t+<span class="hljs-number">1</span>):<span class="hljs-title class_">Ho</span>(t,t-n+<span class="hljs-number">1</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">E</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=n.<span class="hljs-property">length</span>,r=(t%e+e)%e;<span class="hljs-keyword">return</span> n.<span class="hljs-title function_">slice</span>(r,e).<span class="hljs-title function_">concat</span>(n.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,r))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">J</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span>n===<span class="hljs-number">0</span>||n)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">se</span>(<span class="hljs-params">t,n=<span class="hljs-built_in">Math</span>.random</span>){<span class="hljs-keyword">let</span> e,r,o=t.<span class="hljs-property">length</span>;<span class="hljs-keyword">for</span>(;o;)e=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title function_">n</span>()*o--),r=t[o],t[o]=t[e],t[e]=r;<span class="hljs-keyword">return</span> t}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Xt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-property">length</span>===<span class="hljs-number">0</span>?[[]]:<span class="hljs-title class_">Xt</span>(t.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>)).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">n,e</span>)=&gt;</span>n.<span class="hljs-title function_">concat</span>(t.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a=e.<span class="hljs-title function_">slice</span>();<span class="hljs-keyword">return</span> a.<span class="hljs-title function_">splice</span>(o,<span class="hljs-number">0</span>,t[<span class="hljs-number">0</span>]),a})),[])}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ko</span>={<span class="hljs-attr">compact</span>:J,<span class="hljs-attr">permutations</span>:<span class="hljs-title class_">Xt</span>,<span class="hljs-attr">range</span>:$,<span class="hljs-attr">rotate</span>:E,<span class="hljs-attr">shuffle</span>:se};<span class="hljs-keyword">var</span> x={<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">setNum</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">chroma</span>:<span class="hljs-string">&quot;000000000000&quot;</span>,<span class="hljs-attr">normalized</span>:<span class="hljs-string">&quot;000000000000&quot;</span>,<span class="hljs-attr">intervals</span>:[]},<span class="hljs-title class_">Jt</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title class_">Number</span>(t).<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">12</span>,<span class="hljs-string">&quot;0&quot;</span>),ce=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-built_in">parseInt</span>(t,<span class="hljs-number">2</span>),<span class="hljs-title class_">Uo</span>=<span class="hljs-regexp">/^[01]{12}$/</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">rt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Uo</span>.<span class="hljs-title function_">test</span>(t)}<span class="hljs-keyword">var</span> <span class="hljs-title function_">Xo</span>=t=&gt;<span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;number&quot;</span>&amp;&amp;t&gt;=<span class="hljs-number">0</span>&amp;&amp;t&lt;=<span class="hljs-number">4095</span>,<span class="hljs-title class_">Qo</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t&amp;&amp;<span class="hljs-title function_">rt</span>(t.<span class="hljs-property">chroma</span>),ue={[x.<span class="hljs-property">chroma</span>]:x};<span class="hljs-keyword">function</span> <span class="hljs-title function_">v</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">rt</span>(t)?<span class="hljs-attr">t</span>:<span class="hljs-title class_">Xo</span>(t)?<span class="hljs-title class_">Jt</span>(t):<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?<span class="hljs-title function_">ea</span>(t):<span class="hljs-title class_">Qo</span>(t)?t.<span class="hljs-property">chroma</span>:x.<span class="hljs-property">chroma</span>;<span class="hljs-keyword">return</span> ue[n]=ue[n]||<span class="hljs-title function_">na</span>(n)}<span class="hljs-keyword">var</span> le=v,ut=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">v</span>(t).<span class="hljs-property">chroma</span>,fe=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">v</span>(t).<span class="hljs-property">intervals</span>,de=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">v</span>(t).<span class="hljs-property">setNum</span>,<span class="hljs-title class_">Jo</span>=[<span class="hljs-string">&quot;1P&quot;</span>,<span class="hljs-string">&quot;2m&quot;</span>,<span class="hljs-string">&quot;2M&quot;</span>,<span class="hljs-string">&quot;3m&quot;</span>,<span class="hljs-string">&quot;3M&quot;</span>,<span class="hljs-string">&quot;4P&quot;</span>,<span class="hljs-string">&quot;5d&quot;</span>,<span class="hljs-string">&quot;5P&quot;</span>,<span class="hljs-string">&quot;6m&quot;</span>,<span class="hljs-string">&quot;6M&quot;</span>,<span class="hljs-string">&quot;7m&quot;</span>,<span class="hljs-string">&quot;7M&quot;</span>];<span class="hljs-keyword">function</span> <span class="hljs-title function_">Wo</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>;e&lt;<span class="hljs-number">12</span>;e++)t.<span class="hljs-title function_">charAt</span>(e)===<span class="hljs-string">&quot;1&quot;</span>&amp;&amp;n.<span class="hljs-title function_">push</span>(<span class="hljs-title class_">Jo</span>[e]);<span class="hljs-keyword">return</span> n}<span class="hljs-keyword">function</span> <span class="hljs-title function_">pe</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">v</span>(t).<span class="hljs-property">intervals</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span><span class="hljs-title function_">p</span>(<span class="hljs-string">&quot;C&quot;</span>,n))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Pe</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> $(<span class="hljs-number">2048</span>,<span class="hljs-number">4095</span>).<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Jt</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">W</span>(<span class="hljs-params">t,n=!<span class="hljs-number">0</span></span>){<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">v</span>(t).<span class="hljs-property">chroma</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">J</span>(r.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">o,a</span>)=&gt;</span>{<span class="hljs-keyword">let</span> i=<span class="hljs-title function_">E</span>(a,r);<span class="hljs-keyword">return</span> n&amp;&amp;i[<span class="hljs-number">0</span>]===<span class="hljs-string">&quot;0&quot;</span>?<span class="hljs-attr">null</span>:i.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>)}))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Me</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">v</span>(t).<span class="hljs-property">setNum</span>===<span class="hljs-title function_">v</span>(n).<span class="hljs-property">setNum</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">G</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">v</span>(t).<span class="hljs-property">setNum</span>;<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">v</span>(e).<span class="hljs-property">setNum</span>;<span class="hljs-keyword">return</span> n&amp;&amp;n!==r&amp;&amp;(r&amp;n)===r}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">z</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">v</span>(t).<span class="hljs-property">setNum</span>;<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">v</span>(e).<span class="hljs-property">setNum</span>;<span class="hljs-keyword">return</span> n&amp;&amp;n!==r&amp;&amp;(r|n)===r}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">lt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">v</span>(t);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">s</span>(e);<span class="hljs-keyword">return</span> n&amp;&amp;!r.<span class="hljs-property">empty</span>&amp;&amp;n.<span class="hljs-property">chroma</span>.<span class="hljs-title function_">charAt</span>(r.<span class="hljs-property">chroma</span>)===<span class="hljs-string">&quot;1&quot;</span>}}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Zo</span>=lt;<span class="hljs-keyword">function</span> <span class="hljs-title function_">he</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">lt</span>(t);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>e.<span class="hljs-title function_">filter</span>(n)}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Yo</span>={<span class="hljs-attr">get</span>:v,<span class="hljs-attr">chroma</span>:ut,<span class="hljs-attr">num</span>:de,<span class="hljs-attr">intervals</span>:fe,<span class="hljs-attr">chromas</span>:<span class="hljs-title class_">Pe</span>,<span class="hljs-attr">isSupersetOf</span>:z,<span class="hljs-attr">isSubsetOf</span>:G,<span class="hljs-attr">isNoteIncludedIn</span>:lt,<span class="hljs-attr">isEqual</span>:<span class="hljs-title class_">Me</span>,<span class="hljs-attr">filter</span>:he,<span class="hljs-attr">modes</span>:W,<span class="hljs-attr">notes</span>:pe,<span class="hljs-attr">pcset</span>:le};<span class="hljs-keyword">function</span> <span class="hljs-title function_">ta</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=t.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-keyword">return</span> n.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">e,r</span>)=&gt;</span><span class="hljs-title function_">E</span>(r,n).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">na</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">ce</span>(t),e=<span class="hljs-title function_">ta</span>(t).<span class="hljs-title function_">map</span>(ce).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>a&gt;=<span class="hljs-number">2048</span>).<span class="hljs-title function_">sort</span>()[<span class="hljs-number">0</span>],r=<span class="hljs-title class_">Jt</span>(e),o=<span class="hljs-title class_">Wo</span>(t);<span class="hljs-keyword">return</span>{<span class="hljs-attr">empty</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">setNum</span>:n,<span class="hljs-attr">chroma</span>:t,<span class="hljs-attr">normalized</span>:r,<span class="hljs-attr">intervals</span>:o}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ea</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">if</span>(t.<span class="hljs-property">length</span>===<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> x.<span class="hljs-property">chroma</span>;<span class="hljs-keyword">let</span> n,e=[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> r=<span class="hljs-number">0</span>;r&lt;t.<span class="hljs-property">length</span>;r++)n=<span class="hljs-title function_">s</span>(t[r]),n.<span class="hljs-property">empty</span>&amp;&amp;(n=<span class="hljs-title function_">f</span>(t[r])),n.<span class="hljs-property">empty</span>||(e[n.<span class="hljs-property">chroma</span>]=<span class="hljs-number">1</span>);<span class="hljs-keyword">return</span> e.<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>)}<span class="hljs-keyword">var</span> ra=[[<span class="hljs-string">&quot;1P 3M 5P&quot;</span>,<span class="hljs-string">&quot;major&quot;</span>,<span class="hljs-string">&quot;M ^  maj&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M&quot;</span>,<span class="hljs-string">&quot;major seventh&quot;</span>,<span class="hljs-string">&quot;maj7 \u0394 ma7 M7 Maj7 ^7&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M 9M&quot;</span>,<span class="hljs-string">&quot;major ninth&quot;</span>,<span class="hljs-string">&quot;maj9 \u03949 ^9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M 9M 13M&quot;</span>,<span class="hljs-string">&quot;major thirteenth&quot;</span>,<span class="hljs-string">&quot;maj13 Maj13 ^13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 6M&quot;</span>,<span class="hljs-string">&quot;sixth&quot;</span>,<span class="hljs-string">&quot;6 add6 add13 M6&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 6M 9M&quot;</span>,<span class="hljs-string">&quot;sixth added ninth&quot;</span>,<span class="hljs-string">&quot;6add9 6/9 69 M69&quot;</span>],[<span class="hljs-string">&quot;1P 3M 6m 7M&quot;</span>,<span class="hljs-string">&quot;major seventh flat sixth&quot;</span>,<span class="hljs-string">&quot;M7b6 ^7b6&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M 11A&quot;</span>,<span class="hljs-string">&quot;major seventh sharp eleventh&quot;</span>,<span class="hljs-string">&quot;maj#4 \u0394#4 \u0394#11 M7#11 ^7#11 maj7#11&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P&quot;</span>,<span class="hljs-string">&quot;minor&quot;</span>,<span class="hljs-string">&quot;m min -&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 7m&quot;</span>,<span class="hljs-string">&quot;minor seventh&quot;</span>,<span class="hljs-string">&quot;m7 min7 mi7 -7&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 7M&quot;</span>,<span class="hljs-string">&quot;minor/major seventh&quot;</span>,<span class="hljs-string">&quot;m/ma7 m/maj7 mM7 mMaj7 m/M7 -\u03947 m\u0394 -^7 -maj7&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 6M&quot;</span>,<span class="hljs-string">&quot;minor sixth&quot;</span>,<span class="hljs-string">&quot;m6 -6&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 7m 9M&quot;</span>,<span class="hljs-string">&quot;minor ninth&quot;</span>,<span class="hljs-string">&quot;m9 -9&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 7M 9M&quot;</span>,<span class="hljs-string">&quot;minor/major ninth&quot;</span>,<span class="hljs-string">&quot;mM9 mMaj9 -^9&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 7m 9M 11P&quot;</span>,<span class="hljs-string">&quot;minor eleventh&quot;</span>,<span class="hljs-string">&quot;m11 -11&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 7m 9M 13M&quot;</span>,<span class="hljs-string">&quot;minor thirteenth&quot;</span>,<span class="hljs-string">&quot;m13 -13&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5d&quot;</span>,<span class="hljs-string">&quot;diminished&quot;</span>,<span class="hljs-string">&quot;dim \xB0 o&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5d 7d&quot;</span>,<span class="hljs-string">&quot;diminished seventh&quot;</span>,<span class="hljs-string">&quot;dim7 \xB07 o7&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5d 7m&quot;</span>,<span class="hljs-string">&quot;half-diminished&quot;</span>,<span class="hljs-string">&quot;m7b5 \xF8 -7b5 h7 h&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m&quot;</span>,<span class="hljs-string">&quot;dominant seventh&quot;</span>,<span class="hljs-string">&quot;7 dom&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9M&quot;</span>,<span class="hljs-string">&quot;dominant ninth&quot;</span>,<span class="hljs-string">&quot;9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9M 13M&quot;</span>,<span class="hljs-string">&quot;dominant thirteenth&quot;</span>,<span class="hljs-string">&quot;13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 11A&quot;</span>,<span class="hljs-string">&quot;lydian dominant seventh&quot;</span>,<span class="hljs-string">&quot;7#11 7#4&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9m&quot;</span>,<span class="hljs-string">&quot;dominant flat ninth&quot;</span>,<span class="hljs-string">&quot;7b9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9A&quot;</span>,<span class="hljs-string">&quot;dominant sharp ninth&quot;</span>,<span class="hljs-string">&quot;7#9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 7m 9m&quot;</span>,<span class="hljs-string">&quot;altered&quot;</span>,<span class="hljs-string">&quot;alt7&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P&quot;</span>,<span class="hljs-string">&quot;suspended fourth&quot;</span>,<span class="hljs-string">&quot;sus4 sus&quot;</span>],[<span class="hljs-string">&quot;1P 2M 5P&quot;</span>,<span class="hljs-string">&quot;suspended second&quot;</span>,<span class="hljs-string">&quot;sus2&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P 7m&quot;</span>,<span class="hljs-string">&quot;suspended fourth seventh&quot;</span>,<span class="hljs-string">&quot;7sus4 7sus&quot;</span>],[<span class="hljs-string">&quot;1P 5P 7m 9M 11P&quot;</span>,<span class="hljs-string">&quot;eleventh&quot;</span>,<span class="hljs-string">&quot;11&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P 7m 9m&quot;</span>,<span class="hljs-string">&quot;suspended fourth flat ninth&quot;</span>,<span class="hljs-string">&quot;b9sus phryg 7b9sus 7b9sus4&quot;</span>],[<span class="hljs-string">&quot;1P 5P&quot;</span>,<span class="hljs-string">&quot;fifth&quot;</span>,<span class="hljs-string">&quot;5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A&quot;</span>,<span class="hljs-string">&quot;augmented&quot;</span>,<span class="hljs-string">&quot;aug + +5 ^#5&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5A&quot;</span>,<span class="hljs-string">&quot;minor augmented&quot;</span>,<span class="hljs-string">&quot;m#5 -#5 m+&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7M&quot;</span>,<span class="hljs-string">&quot;augmented seventh&quot;</span>,<span class="hljs-string">&quot;maj7#5 maj7+5 +maj7 ^7#5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M 9M 11A&quot;</span>,<span class="hljs-string">&quot;major sharp eleventh (lydian)&quot;</span>,<span class="hljs-string">&quot;maj9#11 \u03949#11 ^9#11&quot;</span>],[<span class="hljs-string">&quot;1P 2M 4P 5P&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;sus24 sus4add9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7M 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;maj9#5 Maj9#5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#5 +7 7+ 7aug aug7&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7m 9A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#5#9 7#9#5 7alt&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7m 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9#5 9+&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7m 9M 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9#5#11&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7m 9m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#5b9 7b9#5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 7m 9m 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#5b9#11&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 9A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;+add#9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5A 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M#5add9 +add9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 6M 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M6#11 M6b5 6#11 6b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 6M 7M 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M7add13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 6M 9M 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;69#11&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 6M 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;m69 -69&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7b6&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M 9A 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;maj7#9#11&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M 9M 11A 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M13#11 maj13#11 M13+4 M13#4&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7M 9m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M7b9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 11A 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#11b13 7b5b13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7add6 67 7add13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9A 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#9#11 7b5#9 7#9b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9A 11A 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13#9#11&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9A 11A 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#9#11b13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9A 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13#9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9A 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#9b13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9M 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9#11 9+4 9#4&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9M 11A 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13#11 13+4 13#4&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9M 11A 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9#11b13 9b5b13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9m 11A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7b9#11 7b5b9 7b9b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9m 11A 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13b9#11&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9m 11A 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7b9b13#11 7b9#11b13 7b5b9b13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9m 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13b9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9m 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7b9b13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 7m 9m 9A&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7b9#9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;Madd9 2 add9 add2&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5P 9m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;Maddb9&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5d&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;Mb5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5d 6M 7m 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5d 7M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M7b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5d 7M 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M9b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5d 7m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5d 7m 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9b5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 7m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7no5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 7m 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7b13&quot;</span>],[<span class="hljs-string">&quot;1P 3M 7m 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9no5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 7m 9M 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13no5&quot;</span>],[<span class="hljs-string">&quot;1P 3M 7m 9M 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9b13&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 5P&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;madd4&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;mMaj7b6&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 6m 7M 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;mMaj9b6&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 7m 11P&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;m7add11 m7add4&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5P 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;madd9&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5d 6M 7M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;o7M7&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5d 7M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;oM7&quot;</span>],[<span class="hljs-string">&quot;1P 3m 6m 7M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;mb6M7&quot;</span>],[<span class="hljs-string">&quot;1P 3m 6m 7m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;m7#5&quot;</span>],[<span class="hljs-string">&quot;1P 3m 6m 7m 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;m9#5&quot;</span>],[<span class="hljs-string">&quot;1P 3m 5A 7m 9M 11P&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;m11A&quot;</span>],[<span class="hljs-string">&quot;1P 3m 6m 9m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;mb6b9&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 5d 7m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;m9b5&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5A 7M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M7#5sus4&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5A 7M 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M9#5sus4&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5A 7m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7#5sus4&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P 7M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M7sus4&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P 7M 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;M9sus4&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P 7m 9M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;9sus4 9sus&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P 7m 9M 13M&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;13sus4 13sus&quot;</span>],[<span class="hljs-string">&quot;1P 4P 5P 7m 9m 13m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7sus4b9b13 7b9b13sus4&quot;</span>],[<span class="hljs-string">&quot;1P 4P 7m 10m&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;4 quartal&quot;</span>],[<span class="hljs-string">&quot;1P 5P 7m 9m 11P&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;11b9&quot;</span>]],oa=ra,aa={...x,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">quality</span>:<span class="hljs-string">&quot;Unknown&quot;</span>,<span class="hljs-attr">intervals</span>:[],<span class="hljs-attr">aliases</span>:[]},Z=[],B={};<span class="hljs-keyword">function</span> <span class="hljs-title function_">ot</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> B[t]||aa}<span class="hljs-keyword">var</span> ve=ot;<span class="hljs-keyword">function</span> <span class="hljs-title function_">ye</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> Z.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.<span class="hljs-property">name</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">be</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> Z.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.<span class="hljs-property">aliases</span>[<span class="hljs-number">0</span>]).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ae</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(B)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">D</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> Z.<span class="hljs-title function_">slice</span>()}<span class="hljs-keyword">var</span> ge=D;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ne</span>(<span class="hljs-params"></span>){Z=[],B={}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Wt</span>(<span class="hljs-params">t,n,e</span>){<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">ia</span>(t),o={...<span class="hljs-title function_">v</span>(t),<span class="hljs-attr">name</span>:e||<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">quality</span>:r,<span class="hljs-attr">intervals</span>:t,<span class="hljs-attr">aliases</span>:n};Z.<span class="hljs-title function_">push</span>(o),o.<span class="hljs-property">name</span>&amp;&amp;(B[o.<span class="hljs-property">name</span>]=o),B[o.<span class="hljs-property">setNum</span>]=o,B[o.<span class="hljs-property">chroma</span>]=o,o.<span class="hljs-property">aliases</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span><span class="hljs-title class_">Se</span>(o,a))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Se</span>(<span class="hljs-params">t,n</span>){B[n]=t}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ia</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> <span class="hljs-title function_">n</span>=e=&gt;t.<span class="hljs-title function_">indexOf</span>(e)!==-<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span> <span class="hljs-title function_">n</span>(<span class="hljs-string">&quot;5A&quot;</span>)?<span class="hljs-string">&quot;Augmented&quot;</span>:<span class="hljs-title function_">n</span>(<span class="hljs-string">&quot;3M&quot;</span>)?<span class="hljs-string">&quot;Major&quot;</span>:<span class="hljs-title function_">n</span>(<span class="hljs-string">&quot;5d&quot;</span>)?<span class="hljs-string">&quot;Diminished&quot;</span>:<span class="hljs-title function_">n</span>(<span class="hljs-string">&quot;3m&quot;</span>)?<span class="hljs-string">&quot;Minor&quot;</span>:<span class="hljs-string">&quot;Unknown&quot;</span>}oa.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[t,n,e]</span>)=&gt;</span><span class="hljs-title class_">Wt</span>(t.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),e.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),n));Z.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">t,n</span>)=&gt;</span>t.<span class="hljs-property">setNum</span>-n.<span class="hljs-property">setNum</span>);<span class="hljs-keyword">var</span> ma={<span class="hljs-attr">names</span>:ye,<span class="hljs-attr">symbols</span>:be,<span class="hljs-attr">get</span>:ot,<span class="hljs-attr">all</span>:D,<span class="hljs-attr">add</span>:<span class="hljs-title class_">Wt</span>,<span class="hljs-attr">removeAll</span>:<span class="hljs-title class_">Ne</span>,<span class="hljs-attr">keys</span>:<span class="hljs-title class_">Ae</span>,<span class="hljs-attr">entries</span>:ge,<span class="hljs-attr">chordType</span>:ve};<span class="hljs-keyword">var</span> <span class="hljs-title function_">sa</span>=t=&gt;{<span class="hljs-keyword">let</span> n=t.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">e,r</span>)=&gt;</span>{<span class="hljs-keyword">let</span> o=<span class="hljs-title function_">s</span>(r).<span class="hljs-property">chroma</span>;<span class="hljs-keyword">return</span> o!==<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>&amp;&amp;(e[o]=e[o]||<span class="hljs-title function_">s</span>(r).<span class="hljs-property">name</span>),e},{});<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>n[e]};<span class="hljs-keyword">function</span> <span class="hljs-title function_">pt</span>(<span class="hljs-params">t,n={}</span>){<span class="hljs-keyword">let</span> e=t.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span><span class="hljs-title function_">s</span>(o).<span class="hljs-property">pc</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>o);<span class="hljs-keyword">return</span> s.<span class="hljs-property">length</span>===<span class="hljs-number">0</span>?[]:<span class="hljs-title class_">Pa</span>(e,<span class="hljs-number">1</span>,n).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>o.<span class="hljs-property">weight</span>).<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">o,a</span>)=&gt;</span>a.<span class="hljs-property">weight</span>-o.<span class="hljs-property">weight</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>o.<span class="hljs-property">name</span>)}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Pt</span>={<span class="hljs-attr">anyThirds</span>:<span class="hljs-number">384</span>,<span class="hljs-attr">perfectFifth</span>:<span class="hljs-number">16</span>,<span class="hljs-attr">nonPerfectFifths</span>:<span class="hljs-number">40</span>,<span class="hljs-attr">anySeventh</span>:<span class="hljs-number">3</span>},<span class="hljs-title class_">Mt</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span>!!(n&amp;t),ca=<span class="hljs-title class_">Mt</span>(<span class="hljs-title class_">Pt</span>.<span class="hljs-property">anyThirds</span>),ua=<span class="hljs-title class_">Mt</span>(<span class="hljs-title class_">Pt</span>.<span class="hljs-property">perfectFifth</span>),la=<span class="hljs-title class_">Mt</span>(<span class="hljs-title class_">Pt</span>.<span class="hljs-property">anySeventh</span>),fa=<span class="hljs-title class_">Mt</span>(<span class="hljs-title class_">Pt</span>.<span class="hljs-property">nonPerfectFifths</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">da</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-built_in">parseInt</span>(t.<span class="hljs-property">chroma</span>,<span class="hljs-number">2</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">ca</span>(n)&amp;&amp;<span class="hljs-title function_">ua</span>(n)&amp;&amp;<span class="hljs-title function_">la</span>(n)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">pa</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-built_in">parseInt</span>(t,<span class="hljs-number">2</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">fa</span>(n)?<span class="hljs-attr">t</span>:(n|<span class="hljs-number">16</span>).<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Pa</span>(<span class="hljs-params">t,n,e</span>){<span class="hljs-keyword">let</span> r=t[<span class="hljs-number">0</span>],o=<span class="hljs-title function_">s</span>(r).<span class="hljs-property">chroma</span>,a=<span class="hljs-title function_">sa</span>(t),i=<span class="hljs-title function_">W</span>(t,!<span class="hljs-number">1</span>),m=[];<span class="hljs-keyword">return</span> i.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">c,u</span>)=&gt;</span>{<span class="hljs-keyword">let</span> M=e.<span class="hljs-property">assumePerfectFifth</span>&amp;&amp;<span class="hljs-title function_">pa</span>(c);<span class="hljs-title function_">D</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">l</span>=&gt;</span>e.<span class="hljs-property">assumePerfectFifth</span>&amp;&amp;<span class="hljs-title function_">da</span>(l)?l.<span class="hljs-property">chroma</span>===<span class="hljs-attr">M</span>:l.<span class="hljs-property">chroma</span>===c).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">l</span>=&gt;</span>{<span class="hljs-keyword">let</span> P=l.<span class="hljs-property">aliases</span>[<span class="hljs-number">0</span>],h=<span class="hljs-title function_">a</span>(u);u!==o?m.<span class="hljs-title function_">push</span>({<span class="hljs-attr">weight</span>:<span class="hljs-number">.5</span>*n,<span class="hljs-attr">name</span>:<span class="hljs-string">`<span class="hljs-subst">${h}</span><span class="hljs-subst">${P}</span>/<span class="hljs-subst">${r}</span>`</span>}):m.<span class="hljs-title function_">push</span>({<span class="hljs-attr">weight</span>:<span class="hljs-number">1</span>*n,<span class="hljs-attr">name</span>:<span class="hljs-string">`<span class="hljs-subst">${h}</span><span class="hljs-subst">${P}</span>`</span>})})}),m}<span class="hljs-keyword">var</span> nn={};<span class="hljs-title function_">d</span>(nn,{<span class="hljs-attr">add</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Yt</span>,<span class="hljs-attr">addTo</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Re</span>,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>tn,<span class="hljs-attr">distance</span>:<span class="hljs-function">()=&gt;</span>we,<span class="hljs-attr">fromSemitones</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">De</span>,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Zt</span>,<span class="hljs-attr">invert</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ee</span>,<span class="hljs-attr">name</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ie</span>,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span>xe,<span class="hljs-attr">num</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ce</span>,<span class="hljs-attr">quality</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Te</span>,<span class="hljs-attr">semitones</span>:<span class="hljs-function">()=&gt;</span>je,<span class="hljs-attr">simplify</span>:<span class="hljs-function">()=&gt;</span>ht,<span class="hljs-attr">subtract</span>:<span class="hljs-function">()=&gt;</span>vt,<span class="hljs-attr">transposeFifths</span>:<span class="hljs-function">()=&gt;</span>yt});<span class="hljs-keyword">function</span> <span class="hljs-title function_">xe</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span><span class="hljs-string">&quot;1P 2M 3M 4P 5P 6m 7m&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>)}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Zt</span>=f,<span class="hljs-title class_">Ie</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">f</span>(t).<span class="hljs-property">name</span>,je=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">f</span>(t).<span class="hljs-property">semitones</span>,<span class="hljs-title class_">Te</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">f</span>(t).<span class="hljs-property">q</span>,<span class="hljs-title class_">Ce</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">f</span>(t).<span class="hljs-property">num</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">ht</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">f</span>(t);<span class="hljs-keyword">return</span> n.<span class="hljs-property">empty</span>?<span class="hljs-string">&quot;&quot;</span>:n.<span class="hljs-property">simple</span>+n.<span class="hljs-property">q</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ee</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">f</span>(t);<span class="hljs-keyword">if</span>(n.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> e=(<span class="hljs-number">7</span>-n.<span class="hljs-property">step</span>)%<span class="hljs-number">7</span>,r=n.<span class="hljs-property">type</span>===<span class="hljs-string">&quot;perfectable&quot;</span>?-n.<span class="hljs-property">alt</span>:-(n.<span class="hljs-property">alt</span>+<span class="hljs-number">1</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">f</span>({<span class="hljs-attr">step</span>:e,<span class="hljs-attr">alt</span>:r,<span class="hljs-attr">oct</span>:n.<span class="hljs-property">oct</span>,<span class="hljs-attr">dir</span>:n.<span class="hljs-property">dir</span>}).<span class="hljs-property">name</span>}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ma</span>=[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">7</span>],ha=<span class="hljs-string">&quot;P m M m M P d P m M m M&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">De</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=t&lt;<span class="hljs-number">0</span>?-<span class="hljs-number">1</span>:<span class="hljs-number">1</span>,e=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(t),r=e%<span class="hljs-number">12</span>,o=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(e/<span class="hljs-number">12</span>);<span class="hljs-keyword">return</span> n*(<span class="hljs-title class_">Ma</span>[r]+<span class="hljs-number">7</span>*o)+ha[r]}<span class="hljs-keyword">var</span> we=A,<span class="hljs-title class_">Yt</span>=<span class="hljs-title function_">_e</span>(<span class="hljs-function">(<span class="hljs-params">t,n</span>)=&gt;</span>[t[<span class="hljs-number">0</span>]+n[<span class="hljs-number">0</span>],t[<span class="hljs-number">1</span>]+n[<span class="hljs-number">1</span>]]),<span class="hljs-title class_">Re</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span><span class="hljs-title class_">Yt</span>(t,n),vt=<span class="hljs-title function_">_e</span>(<span class="hljs-function">(<span class="hljs-params">t,n</span>)=&gt;</span>[t[<span class="hljs-number">0</span>]-n[<span class="hljs-number">0</span>],t[<span class="hljs-number">1</span>]-n[<span class="hljs-number">1</span>]]);<span class="hljs-keyword">function</span> <span class="hljs-title function_">yt</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title class_">Zt</span>(t);<span class="hljs-keyword">if</span>(e.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span>[r,o,a]=e.<span class="hljs-property">coord</span>;<span class="hljs-keyword">return</span> <span class="hljs-title function_">q</span>([r+n,o,a]).<span class="hljs-property">name</span>}<span class="hljs-keyword">var</span> tn={<span class="hljs-attr">names</span>:xe,<span class="hljs-attr">get</span>:<span class="hljs-title class_">Zt</span>,<span class="hljs-attr">name</span>:<span class="hljs-title class_">Ie</span>,<span class="hljs-attr">num</span>:<span class="hljs-title class_">Ce</span>,<span class="hljs-attr">semitones</span>:je,<span class="hljs-attr">quality</span>:<span class="hljs-title class_">Te</span>,<span class="hljs-attr">fromSemitones</span>:<span class="hljs-title class_">De</span>,<span class="hljs-attr">distance</span>:we,<span class="hljs-attr">invert</span>:<span class="hljs-title class_">Ee</span>,<span class="hljs-attr">simplify</span>:ht,<span class="hljs-attr">add</span>:<span class="hljs-title class_">Yt</span>,<span class="hljs-attr">addTo</span>:<span class="hljs-title class_">Re</span>,<span class="hljs-attr">subtract</span>:vt,<span class="hljs-attr">transposeFifths</span>:yt};<span class="hljs-keyword">function</span> <span class="hljs-title function_">_e</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span><span class="hljs-function">(<span class="hljs-params">n,e</span>)=&gt;</span>{<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">f</span>(n).<span class="hljs-property">coord</span>,o=<span class="hljs-title function_">f</span>(e).<span class="hljs-property">coord</span>;<span class="hljs-keyword">if</span>(r&amp;&amp;o){<span class="hljs-keyword">let</span> a=<span class="hljs-title function_">t</span>(r,o);<span class="hljs-keyword">return</span> <span class="hljs-title function_">q</span>(a).<span class="hljs-property">name</span>}}}<span class="hljs-keyword">var</span> gt={};<span class="hljs-title function_">d</span>(gt,{<span class="hljs-title class_">NoScaleType</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Fe</span>,<span class="hljs-attr">add</span>:<span class="hljs-function">()=&gt;</span>en,<span class="hljs-attr">addAlias</span>:<span class="hljs-function">()=&gt;</span>qe,<span class="hljs-attr">all</span>:<span class="hljs-function">()=&gt;</span>w,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>ba,<span class="hljs-attr">entries</span>:<span class="hljs-function">()=&gt;</span>$e,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>K,<span class="hljs-attr">keys</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ve</span>,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">At</span>,<span class="hljs-attr">removeAll</span>:<span class="hljs-function">()=&gt;</span>ke,<span class="hljs-attr">scaleType</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Oe</span>});<span class="hljs-keyword">var</span> va=[[<span class="hljs-string">&quot;1P 2M 3M 5P 6M&quot;</span>,<span class="hljs-string">&quot;major pentatonic&quot;</span>,<span class="hljs-string">&quot;pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5P 6M 7M&quot;</span>,<span class="hljs-string">&quot;major&quot;</span>,<span class="hljs-string">&quot;ionian&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;minor&quot;</span>,<span class="hljs-string">&quot;aeolian&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 3M 5P 6M&quot;</span>,<span class="hljs-string">&quot;major blues&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 5d 5P 7m&quot;</span>,<span class="hljs-string">&quot;minor blues&quot;</span>,<span class="hljs-string">&quot;blues&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5P 6M 7M&quot;</span>,<span class="hljs-string">&quot;melodic minor&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;harmonic minor&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5P 6M 7m 7M&quot;</span>,<span class="hljs-string">&quot;bebop&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5d 6m 6M 7M&quot;</span>,<span class="hljs-string">&quot;diminished&quot;</span>,<span class="hljs-string">&quot;whole-half diminished&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;dorian&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4A 5P 6M 7M&quot;</span>,<span class="hljs-string">&quot;lydian&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;mixolydian&quot;</span>,<span class="hljs-string">&quot;dominant&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4P 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;phrygian&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4P 5d 6m 7m&quot;</span>,<span class="hljs-string">&quot;locrian&quot;</span>],[<span class="hljs-string">&quot;1P 3M 4P 5P 7M&quot;</span>,<span class="hljs-string">&quot;ionian pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 3M 4P 5P 7m&quot;</span>,<span class="hljs-string">&quot;mixolydian pentatonic&quot;</span>,<span class="hljs-string">&quot;indian&quot;</span>],[<span class="hljs-string">&quot;1P 2M 4P 5P 6M&quot;</span>,<span class="hljs-string">&quot;ritusen&quot;</span>],[<span class="hljs-string">&quot;1P 2M 4P 5P 7m&quot;</span>,<span class="hljs-string">&quot;egyptian&quot;</span>],[<span class="hljs-string">&quot;1P 3M 4P 5d 7m&quot;</span>,<span class="hljs-string">&quot;neopolitan major pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 5P 6m&quot;</span>,<span class="hljs-string">&quot;vietnamese 1&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 5P 6m&quot;</span>,<span class="hljs-string">&quot;pelog&quot;</span>],[<span class="hljs-string">&quot;1P 2m 4P 5P 6m&quot;</span>,<span class="hljs-string">&quot;kumoijoshi&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 5P 6m&quot;</span>,<span class="hljs-string">&quot;hirajoshi&quot;</span>],[<span class="hljs-string">&quot;1P 2m 4P 5d 7m&quot;</span>,<span class="hljs-string">&quot;iwato&quot;</span>],[<span class="hljs-string">&quot;1P 2m 4P 5P 7m&quot;</span>,<span class="hljs-string">&quot;in-sen&quot;</span>],[<span class="hljs-string">&quot;1P 3M 4A 5P 7M&quot;</span>,<span class="hljs-string">&quot;lydian pentatonic&quot;</span>,<span class="hljs-string">&quot;chinese&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 6m 7m&quot;</span>,<span class="hljs-string">&quot;malkos raga&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 5d 7m&quot;</span>,<span class="hljs-string">&quot;locrian pentatonic&quot;</span>,<span class="hljs-string">&quot;minor seven flat five pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 5P 7m&quot;</span>,<span class="hljs-string">&quot;minor pentatonic&quot;</span>,<span class="hljs-string">&quot;vietnamese 2&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 5P 6M&quot;</span>,<span class="hljs-string">&quot;minor six pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 5P 6M&quot;</span>,<span class="hljs-string">&quot;flat three pentatonic&quot;</span>,<span class="hljs-string">&quot;kumoi&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 5P 6m&quot;</span>,<span class="hljs-string">&quot;flat six pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 5P 6M&quot;</span>,<span class="hljs-string">&quot;scriabin&quot;</span>],[<span class="hljs-string">&quot;1P 3M 5d 6m 7m&quot;</span>,<span class="hljs-string">&quot;whole tone pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 3M 4A 5A 7M&quot;</span>,<span class="hljs-string">&quot;lydian #5P pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 3M 4A 5P 7m&quot;</span>,<span class="hljs-string">&quot;lydian dominant pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4P 5P 7M&quot;</span>,<span class="hljs-string">&quot;minor #7M pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 3m 4d 5d 7m&quot;</span>,<span class="hljs-string">&quot;super locrian pentatonic&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5P 7M&quot;</span>,<span class="hljs-string">&quot;minor hexatonic&quot;</span>],[<span class="hljs-string">&quot;1P 2A 3M 5P 5A 7M&quot;</span>,<span class="hljs-string">&quot;augmented&quot;</span>],[<span class="hljs-string">&quot;1P 2M 4P 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;piongio&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4A 6M 7m&quot;</span>,<span class="hljs-string">&quot;prometheus neopolitan&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4A 6M 7m&quot;</span>,<span class="hljs-string">&quot;prometheus&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 5d 6m 7m&quot;</span>,<span class="hljs-string">&quot;mystery #1&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4P 5A 6M&quot;</span>,<span class="hljs-string">&quot;six tone symmetric&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4A 5A 6A&quot;</span>,<span class="hljs-string">&quot;whole tone&quot;</span>,<span class="hljs-string">&quot;messiaen&#x27;s mode #1&quot;</span>],[<span class="hljs-string">&quot;1P 2m 4P 4A 5P 7M&quot;</span>,<span class="hljs-string">&quot;messiaen&#x27;s mode #5&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5d 6m 7m&quot;</span>,<span class="hljs-string">&quot;locrian major&quot;</span>,<span class="hljs-string">&quot;arabian&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4A 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;double harmonic lydian&quot;</span>],[<span class="hljs-string">&quot;1P 2m 2A 3M 4A 6m 7m&quot;</span>,<span class="hljs-string">&quot;altered&quot;</span>,<span class="hljs-string">&quot;super locrian&quot;</span>,<span class="hljs-string">&quot;diminished whole tone&quot;</span>,<span class="hljs-string">&quot;pomeroy&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5d 6m 7m&quot;</span>,<span class="hljs-string">&quot;locrian #2&quot;</span>,<span class="hljs-string">&quot;half-diminished&quot;</span>,<span class="hljs-string">&quot;aeolian b5&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;mixolydian b6&quot;</span>,<span class="hljs-string">&quot;melodic minor fifth mode&quot;</span>,<span class="hljs-string">&quot;hindu&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4A 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;lydian dominant&quot;</span>,<span class="hljs-string">&quot;lydian b7&quot;</span>,<span class="hljs-string">&quot;overtone&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4A 5A 6M 7M&quot;</span>,<span class="hljs-string">&quot;lydian augmented&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4P 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;dorian b2&quot;</span>,<span class="hljs-string">&quot;phrygian #6&quot;</span>,<span class="hljs-string">&quot;melodic minor second mode&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4d 5d 6m 7d&quot;</span>,<span class="hljs-string">&quot;ultralocrian&quot;</span>,<span class="hljs-string">&quot;superlocrian bb7&quot;</span>,<span class="hljs-string">&quot;superlocrian diminished&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4P 5d 6M 7m&quot;</span>,<span class="hljs-string">&quot;locrian 6&quot;</span>,<span class="hljs-string">&quot;locrian natural 6&quot;</span>,<span class="hljs-string">&quot;locrian sharp 6&quot;</span>],[<span class="hljs-string">&quot;1P 2A 3M 4P 5P 5A 7M&quot;</span>,<span class="hljs-string">&quot;augmented heptatonic&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4A 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;dorian #4&quot;</span>,<span class="hljs-string">&quot;ukrainian dorian&quot;</span>,<span class="hljs-string">&quot;romanian minor&quot;</span>,<span class="hljs-string">&quot;altered dorian&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4A 5P 6M 7M&quot;</span>,<span class="hljs-string">&quot;lydian diminished&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4A 5A 7m 7M&quot;</span>,<span class="hljs-string">&quot;leading whole tone&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4A 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;lydian minor&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4P 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;phrygian dominant&quot;</span>,<span class="hljs-string">&quot;spanish&quot;</span>,<span class="hljs-string">&quot;phrygian major&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4P 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;balinese&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4P 5P 6M 7M&quot;</span>,<span class="hljs-string">&quot;neopolitan major&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;harmonic major&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4P 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;double harmonic major&quot;</span>,<span class="hljs-string">&quot;gypsy&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4A 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;hungarian minor&quot;</span>],[<span class="hljs-string">&quot;1P 2A 3M 4A 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;hungarian major&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4P 5d 6M 7m&quot;</span>,<span class="hljs-string">&quot;oriental&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 3M 4A 5P 7m&quot;</span>,<span class="hljs-string">&quot;flamenco&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4A 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;todi raga&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4P 5d 6m 7M&quot;</span>,<span class="hljs-string">&quot;persian&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 5d 6m 7m 7M&quot;</span>,<span class="hljs-string">&quot;enigmatic&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5A 6M 7M&quot;</span>,<span class="hljs-string">&quot;major augmented&quot;</span>,<span class="hljs-string">&quot;major #5&quot;</span>,<span class="hljs-string">&quot;ionian augmented&quot;</span>,<span class="hljs-string">&quot;ionian #5&quot;</span>],[<span class="hljs-string">&quot;1P 2A 3M 4A 5P 6M 7M&quot;</span>,<span class="hljs-string">&quot;lydian #9&quot;</span>],[<span class="hljs-string">&quot;1P 2m 2M 4P 4A 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;messiaen&#x27;s mode #4&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3M 4P 4A 5P 6m 7M&quot;</span>,<span class="hljs-string">&quot;purvi raga&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 3M 4P 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;spanish heptatonic&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 3M 4P 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;bebop minor&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5P 5A 6M 7M&quot;</span>,<span class="hljs-string">&quot;bebop major&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 4P 5d 5P 6m 7m&quot;</span>,<span class="hljs-string">&quot;bebop locrian&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5P 6m 7m 7M&quot;</span>,<span class="hljs-string">&quot;minor bebop&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 5d 5P 6M 7M&quot;</span>,<span class="hljs-string">&quot;ichikosucho&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 4P 5P 6m 6M 7M&quot;</span>,<span class="hljs-string">&quot;minor six diminished&quot;</span>],[<span class="hljs-string">&quot;1P 2m 3m 3M 4A 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;half-whole diminished&quot;</span>,<span class="hljs-string">&quot;dominant diminished&quot;</span>,<span class="hljs-string">&quot;messiaen&#x27;s mode #2&quot;</span>],[<span class="hljs-string">&quot;1P 3m 3M 4P 5P 6M 7m 7M&quot;</span>,<span class="hljs-string">&quot;kafi raga&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3M 4P 4A 5A 6A 7M&quot;</span>,<span class="hljs-string">&quot;messiaen&#x27;s mode #6&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 3M 4P 5d 5P 6M 7m&quot;</span>,<span class="hljs-string">&quot;composite blues&quot;</span>],[<span class="hljs-string">&quot;1P 2M 3m 3M 4A 5P 6m 7m 7M&quot;</span>,<span class="hljs-string">&quot;messiaen&#x27;s mode #3&quot;</span>],[<span class="hljs-string">&quot;1P 2m 2M 3m 4P 4A 5P 6m 6M 7M&quot;</span>,<span class="hljs-string">&quot;messiaen&#x27;s mode #7&quot;</span>],[<span class="hljs-string">&quot;1P 2m 2M 3m 3M 4P 5d 5P 6m 6M 7m 7M&quot;</span>,<span class="hljs-string">&quot;chromatic&quot;</span>]],ya=va,<span class="hljs-title class_">Fe</span>={...x,<span class="hljs-attr">intervals</span>:[],<span class="hljs-attr">aliases</span>:[]},bt=[],H={};<span class="hljs-keyword">function</span> <span class="hljs-title function_">At</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> bt.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.<span class="hljs-property">name</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">K</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> H[t]||<span class="hljs-title class_">Fe</span>}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Oe</span>=K;<span class="hljs-keyword">function</span> <span class="hljs-title function_">w</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> bt.<span class="hljs-title function_">slice</span>()}<span class="hljs-keyword">var</span> $e=w;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ve</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(H)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ke</span>(<span class="hljs-params"></span>){bt=[],H={}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">en</span>(<span class="hljs-params">t,n,e=[]</span>){<span class="hljs-keyword">let</span> r={...<span class="hljs-title function_">v</span>(t),<span class="hljs-attr">name</span>:n,<span class="hljs-attr">intervals</span>:t,<span class="hljs-attr">aliases</span>:e};<span class="hljs-keyword">return</span> bt.<span class="hljs-title function_">push</span>(r),H[r.<span class="hljs-property">name</span>]=r,H[r.<span class="hljs-property">setNum</span>]=r,H[r.<span class="hljs-property">chroma</span>]=r,r.<span class="hljs-property">aliases</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span><span class="hljs-title function_">qe</span>(r,o)),r}<span class="hljs-keyword">function</span> <span class="hljs-title function_">qe</span>(<span class="hljs-params">t,n</span>){H[n]=t}ya.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[t,n,...e]</span>)=&gt;</span><span class="hljs-title function_">en</span>(t.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),n,e));<span class="hljs-keyword">var</span> ba={<span class="hljs-attr">names</span>:<span class="hljs-title class_">At</span>,<span class="hljs-attr">get</span>:K,<span class="hljs-attr">all</span>:w,<span class="hljs-attr">add</span>:en,<span class="hljs-attr">removeAll</span>:ke,<span class="hljs-attr">keys</span>:<span class="hljs-title class_">Ve</span>,<span class="hljs-attr">entries</span>:$e,<span class="hljs-attr">scaleType</span>:<span class="hljs-title class_">Oe</span>};<span class="hljs-keyword">var</span> <span class="hljs-title class_">Le</span>={<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">symbol</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">root</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">bass</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">rootDegree</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">tonic</span>:<span class="hljs-literal">null</span>,<span class="hljs-attr">setNum</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">quality</span>:<span class="hljs-string">&quot;Unknown&quot;</span>,<span class="hljs-attr">chroma</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">normalized</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">aliases</span>:[],<span class="hljs-attr">notes</span>:[],<span class="hljs-attr">intervals</span>:[]};<span class="hljs-keyword">function</span> <span class="hljs-title function_">Y</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>[n,e,r,o]=<span class="hljs-title function_">Q</span>(t);<span class="hljs-keyword">return</span> n===<span class="hljs-string">&quot;&quot;</span>?<span class="hljs-title function_">rn</span>(<span class="hljs-string">&quot;&quot;</span>,t):n===<span class="hljs-string">&quot;A&quot;</span>&amp;&amp;o===<span class="hljs-string">&quot;ug&quot;</span>?<span class="hljs-title function_">rn</span>(<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;aug&quot;</span>):<span class="hljs-title function_">rn</span>(n+e,r+o)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">rn</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=n.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;/&quot;</span>);<span class="hljs-keyword">if</span>(e.<span class="hljs-property">length</span>===<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span>[t,e[<span class="hljs-number">0</span>],<span class="hljs-string">&quot;&quot;</span>];<span class="hljs-keyword">let</span>[r,o,a,i]=<span class="hljs-title function_">Q</span>(e[<span class="hljs-number">1</span>]);<span class="hljs-keyword">return</span> r!==<span class="hljs-string">&quot;&quot;</span>&amp;&amp;a===<span class="hljs-string">&quot;&quot;</span>&amp;&amp;i===<span class="hljs-string">&quot;&quot;</span>?[t,e[<span class="hljs-number">0</span>],r+o]:[t,n,<span class="hljs-string">&quot;&quot;</span>]}<span class="hljs-keyword">function</span> <span class="hljs-title function_">R</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">if</span>(<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t))<span class="hljs-keyword">return</span> <span class="hljs-title function_">at</span>(t[<span class="hljs-number">1</span>]||<span class="hljs-string">&quot;&quot;</span>,t[<span class="hljs-number">0</span>],t[<span class="hljs-number">2</span>]);<span class="hljs-keyword">if</span>(t===<span class="hljs-string">&quot;&quot;</span>)<span class="hljs-keyword">return</span> <span class="hljs-title class_">Le</span>;{<span class="hljs-keyword">let</span>[n,e,r]=<span class="hljs-title function_">Y</span>(t),o=<span class="hljs-title function_">at</span>(e,n,r);<span class="hljs-keyword">return</span> o.<span class="hljs-property">empty</span>?<span class="hljs-title function_">at</span>(t):o}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">at</span>(<span class="hljs-params">t,n,e</span>){<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">ot</span>(t),o=<span class="hljs-title function_">s</span>(n||<span class="hljs-string">&quot;&quot;</span>),a=<span class="hljs-title function_">s</span>(e||<span class="hljs-string">&quot;&quot;</span>);<span class="hljs-keyword">if</span>(r.<span class="hljs-property">empty</span>||n&amp;&amp;o.<span class="hljs-property">empty</span>||e&amp;&amp;a.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span> <span class="hljs-title class_">Le</span>;<span class="hljs-keyword">let</span> i=<span class="hljs-title function_">A</span>(o.<span class="hljs-property">pc</span>,a.<span class="hljs-property">pc</span>),m=r.<span class="hljs-property">intervals</span>.<span class="hljs-title function_">indexOf</span>(i),c=m&gt;=<span class="hljs-number">0</span>,u=c?<span class="hljs-attr">a</span>:<span class="hljs-title function_">s</span>(<span class="hljs-string">&quot;&quot;</span>),M=m===-<span class="hljs-number">1</span>?<span class="hljs-title class_">NaN</span>:m+<span class="hljs-number">1</span>,y=a.<span class="hljs-property">pc</span>&amp;&amp;a.<span class="hljs-property">pc</span>!==o.<span class="hljs-property">pc</span>,l=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(r.<span class="hljs-property">intervals</span>);<span class="hljs-keyword">if</span>(c)<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> k=<span class="hljs-number">1</span>;k&lt;M;k++){<span class="hljs-keyword">let</span> po=l[<span class="hljs-number">0</span>][<span class="hljs-number">0</span>],<span class="hljs-title class_">Po</span>=l[<span class="hljs-number">0</span>][<span class="hljs-number">1</span>],<span class="hljs-title class_">Mo</span>=<span class="hljs-built_in">parseInt</span>(po,<span class="hljs-number">10</span>)+<span class="hljs-number">7</span>;l.<span class="hljs-title function_">push</span>(<span class="hljs-string">`<span class="hljs-subst">${Mo}</span><span class="hljs-subst">${Po}</span>`</span>),l.<span class="hljs-title function_">shift</span>()}<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(y){<span class="hljs-keyword">let</span> k=<span class="hljs-title function_">vt</span>(<span class="hljs-title function_">A</span>(o.<span class="hljs-property">pc</span>,a.<span class="hljs-property">pc</span>),<span class="hljs-string">&quot;8P&quot;</span>);k&amp;&amp;l.<span class="hljs-title function_">unshift</span>(k)}<span class="hljs-keyword">let</span> P=o.<span class="hljs-property">empty</span>?[]:l.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">k</span>=&gt;</span><span class="hljs-title function_">p</span>(o.<span class="hljs-property">pc</span>,k));t=r.<span class="hljs-property">aliases</span>.<span class="hljs-title function_">indexOf</span>(t)!==-<span class="hljs-number">1</span>?<span class="hljs-attr">t</span>:r.<span class="hljs-property">aliases</span>[<span class="hljs-number">0</span>];<span class="hljs-keyword">let</span> h=<span class="hljs-string">`<span class="hljs-subst">${o.empty?<span class="hljs-string">&quot;&quot;</span>:o.pc}</span><span class="hljs-subst">${t}</span><span class="hljs-subst">${c&amp;&amp;M&gt;<span class="hljs-number">1</span>?<span class="hljs-string">&quot;/&quot;</span>+u.pc:y?<span class="hljs-string">&quot;/&quot;</span>+a.pc:<span class="hljs-string">&quot;&quot;</span>}</span>`</span>,nt=<span class="hljs-string">`<span class="hljs-subst">${n?o.pc+<span class="hljs-string">&quot; &quot;</span>:<span class="hljs-string">&quot;&quot;</span>}</span><span class="hljs-subst">${r.name}</span><span class="hljs-subst">${c&amp;&amp;M&gt;<span class="hljs-number">1</span>?<span class="hljs-string">&quot; over &quot;</span>+u.pc:y?<span class="hljs-string">&quot; over &quot;</span>+a.pc:<span class="hljs-string">&quot;&quot;</span>}</span>`</span>;<span class="hljs-keyword">return</span>{...r,<span class="hljs-attr">name</span>:nt,<span class="hljs-attr">symbol</span>:h,<span class="hljs-attr">tonic</span>:o.<span class="hljs-property">pc</span>,<span class="hljs-attr">type</span>:r.<span class="hljs-property">name</span>,<span class="hljs-attr">root</span>:u.<span class="hljs-property">pc</span>,<span class="hljs-attr">bass</span>:y?a.<span class="hljs-property">pc</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">intervals</span>:l,<span class="hljs-attr">rootDegree</span>:M,<span class="hljs-attr">notes</span>:P}}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ge</span>=R;<span class="hljs-keyword">function</span> <span class="hljs-title function_">ze</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span>[e,r,o]=<span class="hljs-title function_">Y</span>(t);<span class="hljs-keyword">if</span>(!e)<span class="hljs-keyword">return</span> t;<span class="hljs-keyword">let</span> a=<span class="hljs-title function_">p</span>(o,n),i=a?<span class="hljs-string">&quot;/&quot;</span>+<span class="hljs-attr">a</span>:<span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">return</span> <span class="hljs-title function_">p</span>(e,n)+r+i}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Be</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">R</span>(t),e=<span class="hljs-title function_">z</span>(n.<span class="hljs-property">chroma</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">w</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span><span class="hljs-title function_">e</span>(r.<span class="hljs-property">chroma</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>r.<span class="hljs-property">name</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">He</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">R</span>(t),e=<span class="hljs-title function_">z</span>(n.<span class="hljs-property">chroma</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">D</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span><span class="hljs-title function_">e</span>(r.<span class="hljs-property">chroma</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>n.<span class="hljs-property">tonic</span>+r.<span class="hljs-property">aliases</span>[<span class="hljs-number">0</span>])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ke</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">R</span>(t),e=<span class="hljs-title function_">G</span>(n.<span class="hljs-property">chroma</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">D</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span><span class="hljs-title function_">e</span>(r.<span class="hljs-property">chroma</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>n.<span class="hljs-property">tonic</span>+r.<span class="hljs-property">aliases</span>[<span class="hljs-number">0</span>])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ue</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">R</span>(t),r=n||e.<span class="hljs-property">tonic</span>;<span class="hljs-keyword">return</span>!r||e.<span class="hljs-property">empty</span>?[]:e.<span class="hljs-property">intervals</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span><span class="hljs-title function_">p</span>(r,o))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Xe</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">R</span>(t),r=n||e.<span class="hljs-property">tonic</span>,o=<span class="hljs-title function_">O</span>(e.<span class="hljs-property">intervals</span>,r);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>a?<span class="hljs-title function_">o</span>(a&gt;<span class="hljs-number">0</span>?a-<span class="hljs-number">1</span>:a):<span class="hljs-string">&quot;&quot;</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Qe</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">R</span>(t),r=n||e.<span class="hljs-property">tonic</span>;<span class="hljs-keyword">return</span> <span class="hljs-title function_">O</span>(e.<span class="hljs-property">intervals</span>,r)}<span class="hljs-keyword">var</span> it={<span class="hljs-attr">getChord</span>:at,<span class="hljs-attr">get</span>:R,<span class="hljs-attr">detect</span>:pt,<span class="hljs-attr">chordScales</span>:<span class="hljs-title class_">Be</span>,<span class="hljs-attr">extended</span>:<span class="hljs-title class_">He</span>,<span class="hljs-attr">reduced</span>:<span class="hljs-title class_">Ke</span>,<span class="hljs-attr">tokenize</span>:Y,<span class="hljs-attr">transpose</span>:ze,<span class="hljs-attr">degrees</span>:<span class="hljs-title class_">Xe</span>,<span class="hljs-attr">steps</span>:<span class="hljs-title class_">Qe</span>,<span class="hljs-attr">notes</span>:<span class="hljs-title class_">Ue</span>,<span class="hljs-attr">chord</span>:<span class="hljs-title class_">Ge</span>};<span class="hljs-keyword">var</span> an={};<span class="hljs-title function_">d</span>(an,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>xa,<span class="hljs-attr">fraction</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ye</span>,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">St</span>,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Je</span>,<span class="hljs-attr">shorthands</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">We</span>,<span class="hljs-attr">value</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ze</span>});<span class="hljs-keyword">var</span> <span class="hljs-title class_">Aa</span>=[[<span class="hljs-number">.125</span>,<span class="hljs-string">&quot;dl&quot;</span>,[<span class="hljs-string">&quot;large&quot;</span>,<span class="hljs-string">&quot;duplex longa&quot;</span>,<span class="hljs-string">&quot;maxima&quot;</span>,<span class="hljs-string">&quot;octuple&quot;</span>,<span class="hljs-string">&quot;octuple whole&quot;</span>]],[<span class="hljs-number">.25</span>,<span class="hljs-string">&quot;l&quot;</span>,[<span class="hljs-string">&quot;long&quot;</span>,<span class="hljs-string">&quot;longa&quot;</span>]],[<span class="hljs-number">.5</span>,<span class="hljs-string">&quot;d&quot;</span>,[<span class="hljs-string">&quot;double whole&quot;</span>,<span class="hljs-string">&quot;double&quot;</span>,<span class="hljs-string">&quot;breve&quot;</span>]],[<span class="hljs-number">1</span>,<span class="hljs-string">&quot;w&quot;</span>,[<span class="hljs-string">&quot;whole&quot;</span>,<span class="hljs-string">&quot;semibreve&quot;</span>]],[<span class="hljs-number">2</span>,<span class="hljs-string">&quot;h&quot;</span>,[<span class="hljs-string">&quot;half&quot;</span>,<span class="hljs-string">&quot;minim&quot;</span>]],[<span class="hljs-number">4</span>,<span class="hljs-string">&quot;q&quot;</span>,[<span class="hljs-string">&quot;quarter&quot;</span>,<span class="hljs-string">&quot;crotchet&quot;</span>]],[<span class="hljs-number">8</span>,<span class="hljs-string">&quot;e&quot;</span>,[<span class="hljs-string">&quot;eighth&quot;</span>,<span class="hljs-string">&quot;quaver&quot;</span>]],[<span class="hljs-number">16</span>,<span class="hljs-string">&quot;s&quot;</span>,[<span class="hljs-string">&quot;sixteenth&quot;</span>,<span class="hljs-string">&quot;semiquaver&quot;</span>]],[<span class="hljs-number">32</span>,<span class="hljs-string">&quot;t&quot;</span>,[<span class="hljs-string">&quot;thirty-second&quot;</span>,<span class="hljs-string">&quot;demisemiquaver&quot;</span>]],[<span class="hljs-number">64</span>,<span class="hljs-string">&quot;sf&quot;</span>,[<span class="hljs-string">&quot;sixty-fourth&quot;</span>,<span class="hljs-string">&quot;hemidemisemiquaver&quot;</span>]],[<span class="hljs-number">128</span>,<span class="hljs-string">&quot;h&quot;</span>,[<span class="hljs-string">&quot;hundred twenty-eighth&quot;</span>]],[<span class="hljs-number">256</span>,<span class="hljs-string">&quot;th&quot;</span>,[<span class="hljs-string">&quot;two hundred fifty-sixth&quot;</span>]]],ga=<span class="hljs-title class_">Aa</span>,<span class="hljs-title class_">Nt</span>=[];ga.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">[t,n,e]</span>)=&gt;</span><span class="hljs-title class_">Ia</span>(t,n,e));<span class="hljs-keyword">var</span> <span class="hljs-title class_">Na</span>={<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">value</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">fraction</span>:[<span class="hljs-number">0</span>,<span class="hljs-number">0</span>],<span class="hljs-attr">shorthand</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">dots</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">names</span>:[]};<span class="hljs-keyword">function</span> <span class="hljs-title function_">Je</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Nt</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">t,n</span>)=&gt;</span>(n.<span class="hljs-property">names</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>t.<span class="hljs-title function_">push</span>(e)),t),[])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">We</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Nt</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.<span class="hljs-property">shorthand</span>)}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Sa</span>=<span class="hljs-regexp">/^([^.]+)(\.*)$/</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">St</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>[n,e,r]=<span class="hljs-title class_">Sa</span>.<span class="hljs-title function_">exec</span>(t)||[],o=<span class="hljs-title class_">Nt</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">m</span>=&gt;</span>m.<span class="hljs-property">shorthand</span>===e||m.<span class="hljs-property">names</span>.<span class="hljs-title function_">includes</span>(e));<span class="hljs-keyword">if</span>(!o)<span class="hljs-keyword">return</span> <span class="hljs-title class_">Na</span>;<span class="hljs-keyword">let</span> a=<span class="hljs-title function_">ja</span>(o.<span class="hljs-property">fraction</span>,r.<span class="hljs-property">length</span>),i=a[<span class="hljs-number">0</span>]/a[<span class="hljs-number">1</span>];<span class="hljs-keyword">return</span>{...o,<span class="hljs-attr">name</span>:t,<span class="hljs-attr">dots</span>:r,<span class="hljs-attr">value</span>:i,<span class="hljs-attr">fraction</span>:a}}<span class="hljs-keyword">var</span> <span class="hljs-title function_">Ze</span>=t=&gt;<span class="hljs-title class_">St</span>(t).<span class="hljs-property">value</span>,<span class="hljs-title class_">Ye</span>=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title class_">St</span>(t).<span class="hljs-property">fraction</span>,xa={<span class="hljs-attr">names</span>:<span class="hljs-title class_">Je</span>,<span class="hljs-attr">shorthands</span>:<span class="hljs-title class_">We</span>,<span class="hljs-attr">get</span>:<span class="hljs-title class_">St</span>,<span class="hljs-attr">value</span>:<span class="hljs-title class_">Ze</span>,<span class="hljs-attr">fraction</span>:<span class="hljs-title class_">Ye</span>};<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ia</span>(<span class="hljs-params">t,n,e</span>){<span class="hljs-title class_">Nt</span>.<span class="hljs-title function_">push</span>({<span class="hljs-attr">empty</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">dots</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">value</span>:<span class="hljs-number">1</span>/t,<span class="hljs-attr">fraction</span>:t&lt;<span class="hljs-number">1</span>?[<span class="hljs-number">1</span>/t,<span class="hljs-number">1</span>]:[<span class="hljs-number">1</span>,t],<span class="hljs-attr">shorthand</span>:n,<span class="hljs-attr">names</span>:e})}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ja</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>,n),r=t[<span class="hljs-number">0</span>]*e,o=t[<span class="hljs-number">1</span>]*e,a=r;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;n;i++)r+=a/<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>,i+<span class="hljs-number">1</span>);<span class="hljs-keyword">for</span>(;r%<span class="hljs-number">2</span>===<span class="hljs-number">0</span>&amp;&amp;o%<span class="hljs-number">2</span>===<span class="hljs-number">0</span>;)r/=<span class="hljs-number">2</span>,o/=<span class="hljs-number">2</span>;<span class="hljs-keyword">return</span>[r,o]}<span class="hljs-keyword">var</span> vn={};<span class="hljs-title function_">d</span>(vn,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Qa</span>,<span class="hljs-attr">majorKey</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Mn</span>,<span class="hljs-attr">majorKeyChords</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ua</span>,<span class="hljs-attr">majorTonicFromKeySignature</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Rr</span>,<span class="hljs-attr">minorKey</span>:<span class="hljs-function">()=&gt;</span>hn,<span class="hljs-attr">minorKeyChords</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Xa</span>});<span class="hljs-keyword">var</span> dn={};<span class="hljs-title function_">d</span>(dn,{<span class="hljs-attr">accidentals</span>:<span class="hljs-function">()=&gt;</span>sr,<span class="hljs-attr">ascending</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ct</span>,<span class="hljs-attr">chroma</span>:<span class="hljs-function">()=&gt;</span>fr,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>S,<span class="hljs-attr">descending</span>:<span class="hljs-function">()=&gt;</span>gr,<span class="hljs-attr">distance</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Mr</span>,<span class="hljs-attr">enharmonic</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Dt</span>,<span class="hljs-attr">freq</span>:<span class="hljs-function">()=&gt;</span>lr,<span class="hljs-attr">fromFreq</span>:<span class="hljs-function">()=&gt;</span>dr,<span class="hljs-attr">fromFreqSharps</span>:<span class="hljs-function">()=&gt;</span>pr,<span class="hljs-attr">fromMidi</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Tt</span>,<span class="hljs-attr">fromMidiSharps</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Pr</span>,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>N,<span class="hljs-attr">midi</span>:<span class="hljs-function">()=&gt;</span>ur,<span class="hljs-attr">name</span>:<span class="hljs-function">()=&gt;</span>ir,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span>ar,<span class="hljs-attr">octave</span>:<span class="hljs-function">()=&gt;</span>cr,<span class="hljs-attr">pitchClass</span>:<span class="hljs-function">()=&gt;</span>mr,<span class="hljs-attr">simplify</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Nr</span>,<span class="hljs-attr">sortedNames</span>:<span class="hljs-function">()=&gt;</span>fn,<span class="hljs-attr">sortedUniqNames</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Et</span>,<span class="hljs-attr">tr</span>:<span class="hljs-function">()=&gt;</span>hr,<span class="hljs-attr">trBy</span>:<span class="hljs-function">()=&gt;</span>vr,<span class="hljs-attr">trFifths</span>:<span class="hljs-function">()=&gt;</span>br,<span class="hljs-attr">trFrom</span>:<span class="hljs-function">()=&gt;</span>yr,<span class="hljs-attr">transpose</span>:<span class="hljs-function">()=&gt;</span>g,<span class="hljs-attr">transposeBy</span>:<span class="hljs-function">()=&gt;</span>un,<span class="hljs-attr">transposeFifths</span>:<span class="hljs-function">()=&gt;</span>tt,<span class="hljs-attr">transposeFrom</span>:<span class="hljs-function">()=&gt;</span>ln,<span class="hljs-attr">transposeOctaves</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ar</span>});<span class="hljs-keyword">var</span> cn={};<span class="hljs-title function_">d</span>(cn,{<span class="hljs-attr">chroma</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">It</span>,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>_a,<span class="hljs-attr">freqToMidi</span>:<span class="hljs-function">()=&gt;</span>mt,<span class="hljs-attr">isMidi</span>:<span class="hljs-function">()=&gt;</span>mn,<span class="hljs-attr">midiToFreq</span>:<span class="hljs-function">()=&gt;</span>tr,<span class="hljs-attr">midiToNoteName</span>:<span class="hljs-function">()=&gt;</span>I,<span class="hljs-attr">pcset</span>:<span class="hljs-function">()=&gt;</span>jt,<span class="hljs-attr">pcsetDegrees</span>:<span class="hljs-function">()=&gt;</span>er,<span class="hljs-attr">pcsetNearest</span>:<span class="hljs-function">()=&gt;</span>nr,<span class="hljs-attr">pcsetSteps</span>:<span class="hljs-function">()=&gt;</span>sn,<span class="hljs-attr">toMidi</span>:<span class="hljs-function">()=&gt;</span>xt});<span class="hljs-keyword">function</span> <span class="hljs-title function_">mn</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span>+t&gt;=<span class="hljs-number">0</span>&amp;&amp;+t&lt;=<span class="hljs-number">127</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">xt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">if</span>(<span class="hljs-title function_">mn</span>(t))<span class="hljs-keyword">return</span>+t;<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">s</span>(t);<span class="hljs-keyword">return</span> n.<span class="hljs-property">empty</span>?<span class="hljs-attr">null</span>:n.<span class="hljs-property">midi</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">tr</span>(<span class="hljs-params">t,n=<span class="hljs-number">440</span></span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">pow</span>(<span class="hljs-number">2</span>,(t-<span class="hljs-number">69</span>)/<span class="hljs-number">12</span>)*n}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ta</span>=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>),<span class="hljs-title class_">Ca</span>=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">440</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">mt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-number">12</span>*(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(t)-<span class="hljs-title class_">Ca</span>)/<span class="hljs-title class_">Ta</span>+<span class="hljs-number">69</span>;<span class="hljs-keyword">return</span> <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(n*<span class="hljs-number">100</span>)/<span class="hljs-number">100</span>}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ea</span>=<span class="hljs-string">&quot;C C# D D# E F F# G G# A A# B&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-title class_">Da</span>=<span class="hljs-string">&quot;C Db D Eb E F Gb G Ab A Bb B&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">I</span>(<span class="hljs-params">t,n={}</span>){<span class="hljs-keyword">if</span>(<span class="hljs-built_in">isNaN</span>(t)||t===-<span class="hljs-number">1</span>/<span class="hljs-number">0</span>||t===<span class="hljs-number">1</span>/<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;t=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(t);<span class="hljs-keyword">let</span> r=(n.<span class="hljs-property">sharps</span>===!<span class="hljs-number">0</span>?<span class="hljs-title class_">Ea</span>:<span class="hljs-title class_">Da</span>)[t%<span class="hljs-number">12</span>];<span class="hljs-keyword">if</span>(n.<span class="hljs-property">pitchClass</span>)<span class="hljs-keyword">return</span> r;<span class="hljs-keyword">let</span> o=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(t/<span class="hljs-number">12</span>)-<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span> r+o}<span class="hljs-keyword">function</span> <span class="hljs-title function_">It</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t%<span class="hljs-number">12</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">wa</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">n,e,r</span>)=&gt;</span>(r&lt;<span class="hljs-number">12</span>&amp;&amp;e===<span class="hljs-string">&quot;1&quot;</span>&amp;&amp;n.<span class="hljs-title function_">push</span>(r),n),[])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ra</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">map</span>(<span class="hljs-title class_">It</span>).<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">n,e</span>)=&gt;</span>n-e).<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">n,e,r</span>)=&gt;</span>e===<span class="hljs-number">0</span>||n!==r[e-<span class="hljs-number">1</span>])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">jt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?<span class="hljs-title class_">Ra</span>(t):<span class="hljs-title function_">wa</span>(t)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">nr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">jt</span>(t);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span> r=<span class="hljs-title class_">It</span>(e);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> o=<span class="hljs-number">0</span>;o&lt;<span class="hljs-number">12</span>;o++){<span class="hljs-keyword">if</span>(n.<span class="hljs-title function_">includes</span>(r+o))<span class="hljs-keyword">return</span> e+o;<span class="hljs-keyword">if</span>(n.<span class="hljs-title function_">includes</span>(r-o))<span class="hljs-keyword">return</span> e-o}}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">sn</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">jt</span>(t),r=e.<span class="hljs-property">length</span>;<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>{<span class="hljs-keyword">let</span> a=o&lt;<span class="hljs-number">0</span>?(r- -o%r)%<span class="hljs-attr">r</span>:o%r,i=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(o/r);<span class="hljs-keyword">return</span> e[a]+i*<span class="hljs-number">12</span>+n}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">er</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">sn</span>(t,n);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>{<span class="hljs-keyword">if</span>(r!==<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> <span class="hljs-title function_">e</span>(r&gt;<span class="hljs-number">0</span>?r-<span class="hljs-number">1</span>:r)}}<span class="hljs-keyword">var</span> _a={<span class="hljs-attr">chroma</span>:<span class="hljs-title class_">It</span>,<span class="hljs-attr">freqToMidi</span>:mt,<span class="hljs-attr">isMidi</span>:mn,<span class="hljs-attr">midiToFreq</span>:tr,<span class="hljs-attr">midiToNoteName</span>:I,<span class="hljs-attr">pcsetNearest</span>:nr,<span class="hljs-attr">pcset</span>:jt,<span class="hljs-attr">pcsetDegrees</span>:er,<span class="hljs-attr">pcsetSteps</span>:sn,<span class="hljs-attr">toMidi</span>:xt};<span class="hljs-keyword">var</span> <span class="hljs-title class_">Fa</span>=[<span class="hljs-string">&quot;C&quot;</span>,<span class="hljs-string">&quot;D&quot;</span>,<span class="hljs-string">&quot;E&quot;</span>,<span class="hljs-string">&quot;F&quot;</span>,<span class="hljs-string">&quot;G&quot;</span>,<span class="hljs-string">&quot;A&quot;</span>,<span class="hljs-string">&quot;B&quot;</span>],rr=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.<span class="hljs-property">name</span>,or=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.<span class="hljs-title function_">map</span>(s).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span>!n.<span class="hljs-property">empty</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">ar</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> t===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>?<span class="hljs-title class_">Fa</span>.<span class="hljs-title function_">slice</span>():<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?<span class="hljs-title function_">or</span>(t).<span class="hljs-title function_">map</span>(rr):[]}<span class="hljs-keyword">var</span> N=s,ir=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">N</span>(t).<span class="hljs-property">name</span>,mr=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">N</span>(t).<span class="hljs-property">pc</span>,sr=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">N</span>(t).<span class="hljs-property">acc</span>,cr=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">N</span>(t).<span class="hljs-property">oct</span>,ur=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">N</span>(t).<span class="hljs-property">midi</span>,lr=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">N</span>(t).<span class="hljs-property">freq</span>,fr=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title function_">N</span>(t).<span class="hljs-property">chroma</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Tt</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">I</span>(t)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">dr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">I</span>(<span class="hljs-title function_">mt</span>(t))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">pr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">I</span>(<span class="hljs-title function_">mt</span>(t),{<span class="hljs-attr">sharps</span>:!<span class="hljs-number">0</span>})}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Pr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">I</span>(t,{<span class="hljs-attr">sharps</span>:!<span class="hljs-number">0</span>})}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Mr</span>=A,g=p,hr=p,un=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span><span class="hljs-title function_">g</span>(n,t),vr=un,ln=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span><span class="hljs-title function_">g</span>(t,n),yr=ln;<span class="hljs-keyword">function</span> <span class="hljs-title function_">tt</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">g</span>(t,[n,<span class="hljs-number">0</span>])}<span class="hljs-keyword">var</span> br=tt;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ar</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">g</span>(t,[<span class="hljs-number">0</span>,n])}<span class="hljs-keyword">var</span> <span class="hljs-title function_">Ct</span>=(<span class="hljs-params">t,n</span>)=&gt;t.<span class="hljs-property">height</span>-n.<span class="hljs-property">height</span>,gr=<span class="hljs-function">(<span class="hljs-params">t,n</span>)=&gt;</span>n.<span class="hljs-property">height</span>-t.<span class="hljs-property">height</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> n=n||<span class="hljs-title class_">Ct</span>,<span class="hljs-title function_">or</span>(t).<span class="hljs-title function_">sort</span>(n).<span class="hljs-title function_">map</span>(rr)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Et</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">fn</span>(t,<span class="hljs-title class_">Ct</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">n,e,r</span>)=&gt;</span>e===<span class="hljs-number">0</span>||n!==r[e-<span class="hljs-number">1</span>])}<span class="hljs-keyword">var</span> <span class="hljs-title function_">Nr</span>=t=&gt;{<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">N</span>(t);<span class="hljs-keyword">return</span> n.<span class="hljs-property">empty</span>?<span class="hljs-string">&quot;&quot;</span>:<span class="hljs-title function_">I</span>(n.<span class="hljs-property">midi</span>||n.<span class="hljs-property">chroma</span>,{<span class="hljs-attr">sharps</span>:n.<span class="hljs-property">alt</span>&gt;<span class="hljs-number">0</span>,<span class="hljs-attr">pitchClass</span>:n.<span class="hljs-property">midi</span>===<span class="hljs-literal">null</span>})};<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dt</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">N</span>(t);<span class="hljs-keyword">if</span>(e.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">N</span>(n||<span class="hljs-title function_">I</span>(e.<span class="hljs-property">midi</span>||e.<span class="hljs-property">chroma</span>,{<span class="hljs-attr">sharps</span>:e.<span class="hljs-property">alt</span>&lt;<span class="hljs-number">0</span>,<span class="hljs-attr">pitchClass</span>:!<span class="hljs-number">0</span>}));<span class="hljs-keyword">if</span>(r.<span class="hljs-property">empty</span>||r.<span class="hljs-property">chroma</span>!==e.<span class="hljs-property">chroma</span>)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">if</span>(e.<span class="hljs-property">oct</span>===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> r.<span class="hljs-property">pc</span>;<span class="hljs-keyword">let</span> o=e.<span class="hljs-property">chroma</span>-e.<span class="hljs-property">alt</span>,a=r.<span class="hljs-property">chroma</span>-r.<span class="hljs-property">alt</span>,i=o&gt;<span class="hljs-number">11</span>||a&lt;<span class="hljs-number">0</span>?-<span class="hljs-number">1</span>:o&lt;<span class="hljs-number">0</span>||a&gt;<span class="hljs-number">11</span>?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>,m=e.<span class="hljs-property">oct</span>+i;<span class="hljs-keyword">return</span> r.<span class="hljs-property">pc</span>+m}<span class="hljs-keyword">var</span> S={<span class="hljs-attr">names</span>:ar,<span class="hljs-attr">get</span>:N,<span class="hljs-attr">name</span>:ir,<span class="hljs-attr">pitchClass</span>:mr,<span class="hljs-attr">accidentals</span>:sr,<span class="hljs-attr">octave</span>:cr,<span class="hljs-attr">midi</span>:ur,<span class="hljs-attr">ascending</span>:<span class="hljs-title class_">Ct</span>,<span class="hljs-attr">descending</span>:gr,<span class="hljs-attr">distance</span>:<span class="hljs-title class_">Mr</span>,<span class="hljs-attr">sortedNames</span>:fn,<span class="hljs-attr">sortedUniqNames</span>:<span class="hljs-title class_">Et</span>,<span class="hljs-attr">fromMidi</span>:<span class="hljs-title class_">Tt</span>,<span class="hljs-attr">fromMidiSharps</span>:<span class="hljs-title class_">Pr</span>,<span class="hljs-attr">freq</span>:lr,<span class="hljs-attr">fromFreq</span>:dr,<span class="hljs-attr">fromFreqSharps</span>:pr,<span class="hljs-attr">chroma</span>:fr,<span class="hljs-attr">transpose</span>:g,<span class="hljs-attr">tr</span>:hr,<span class="hljs-attr">transposeBy</span>:un,<span class="hljs-attr">trBy</span>:vr,<span class="hljs-attr">transposeFrom</span>:ln,<span class="hljs-attr">trFrom</span>:yr,<span class="hljs-attr">transposeFifths</span>:tt,<span class="hljs-attr">transposeOctaves</span>:<span class="hljs-title class_">Ar</span>,<span class="hljs-attr">trFifths</span>:br,<span class="hljs-attr">simplify</span>:<span class="hljs-title class_">Nr</span>,<span class="hljs-attr">enharmonic</span>:<span class="hljs-title class_">Dt</span>};<span class="hljs-keyword">var</span> pn={};<span class="hljs-title function_">d</span>(pn,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>qa,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>j,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span>jr,<span class="hljs-attr">romanNumeral</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ir</span>,<span class="hljs-attr">tokenize</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Tr</span>});<span class="hljs-keyword">var</span> xr={<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">chordType</span>:<span class="hljs-string">&quot;&quot;</span>},<span class="hljs-title class_">Sr</span>={};<span class="hljs-keyword">function</span> <span class="hljs-title function_">j</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;string&quot;</span>?<span class="hljs-title class_">Sr</span>[t]||(<span class="hljs-title class_">Sr</span>[t]=<span class="hljs-title function_">ka</span>(t)):<span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;number&quot;</span>?<span class="hljs-title function_">j</span>(wt[t]||<span class="hljs-string">&quot;&quot;</span>):<span class="hljs-title function_">_</span>(t)?<span class="hljs-title class_">Oa</span>(t):<span class="hljs-title function_">C</span>(t)?<span class="hljs-title function_">j</span>(t.<span class="hljs-property">name</span>):xr}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ir</span>=j;<span class="hljs-keyword">function</span> <span class="hljs-title function_">jr</span>(<span class="hljs-params">t=!<span class="hljs-number">0</span></span>){<span class="hljs-keyword">return</span>(t?<span class="hljs-attr">wt</span>:<span class="hljs-title class_">Va</span>).<span class="hljs-title function_">slice</span>()}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Oa</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">j</span>(<span class="hljs-title function_">F</span>(t.<span class="hljs-property">alt</span>)+wt[t.<span class="hljs-property">step</span>])}<span class="hljs-keyword">var</span> $a=<span class="hljs-regexp">/^(#{1,}|b{1,}|x{1,}|)(IV|I{1,3}|VI{0,2}|iv|i{1,3}|vi{0,2})([^IViv]*)$/</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Tr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> $a.<span class="hljs-title function_">exec</span>(t)||[<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>]}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Cr</span>=<span class="hljs-string">&quot;I II III IV V VI VII&quot;</span>,wt=<span class="hljs-title class_">Cr</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-title class_">Va</span>=<span class="hljs-title class_">Cr</span>.<span class="hljs-title function_">toLowerCase</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">ka</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>[n,e,r,o]=<span class="hljs-title class_">Tr</span>(t);<span class="hljs-keyword">if</span>(!r)<span class="hljs-keyword">return</span> xr;<span class="hljs-keyword">let</span> a=r.<span class="hljs-title function_">toUpperCase</span>(),i=wt.<span class="hljs-title function_">indexOf</span>(a),m=<span class="hljs-title function_">L</span>(e),c=<span class="hljs-number">1</span>;<span class="hljs-keyword">return</span>{<span class="hljs-attr">empty</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">name</span>:n,<span class="hljs-attr">roman</span>:r,<span class="hljs-attr">interval</span>:<span class="hljs-title function_">f</span>({<span class="hljs-attr">step</span>:i,<span class="hljs-attr">alt</span>:m,<span class="hljs-attr">dir</span>:c}).<span class="hljs-property">name</span>,<span class="hljs-attr">acc</span>:e,<span class="hljs-attr">chordType</span>:o,<span class="hljs-attr">alt</span>:m,<span class="hljs-attr">step</span>:i,<span class="hljs-attr">major</span>:r===a,<span class="hljs-attr">oct</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">dir</span>:c}}<span class="hljs-keyword">var</span> qa={<span class="hljs-attr">names</span>:jr,<span class="hljs-attr">get</span>:j,<span class="hljs-attr">romanNumeral</span>:<span class="hljs-title class_">Ir</span>};<span class="hljs-keyword">var</span> b=<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">freeze</span>([]),<span class="hljs-title class_">Dr</span>={<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;major&quot;</span>,<span class="hljs-attr">tonic</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">alteration</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">keySignature</span>:<span class="hljs-string">&quot;&quot;</span>},<span class="hljs-title class_">Rt</span>={<span class="hljs-attr">tonic</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">grades</span>:b,<span class="hljs-attr">intervals</span>:b,<span class="hljs-attr">scale</span>:b,<span class="hljs-attr">triads</span>:b,<span class="hljs-attr">chords</span>:b,<span class="hljs-attr">chordsHarmonicFunction</span>:b,<span class="hljs-attr">chordScales</span>:b,<span class="hljs-attr">secondaryDominants</span>:b,<span class="hljs-attr">secondaryDominantSupertonics</span>:b,<span class="hljs-attr">substituteDominantsMinorRelative</span>:b,<span class="hljs-attr">substituteDominants</span>:b,<span class="hljs-attr">substituteDominantSupertonics</span>:b,<span class="hljs-attr">secondaryDominantsMinorRelative</span>:b},<span class="hljs-title class_">La</span>={...<span class="hljs-title class_">Dr</span>,...<span class="hljs-title class_">Rt</span>,<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;major&quot;</span>,<span class="hljs-attr">minorRelative</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">scale</span>:b,<span class="hljs-attr">substituteDominants</span>:b,<span class="hljs-attr">secondaryDominantSupertonics</span>:b,<span class="hljs-attr">substituteDominantsMinorRelative</span>:b},<span class="hljs-title class_">Ga</span>={...<span class="hljs-title class_">Dr</span>,<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;minor&quot;</span>,<span class="hljs-attr">relativeMajor</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">natural</span>:<span class="hljs-title class_">Rt</span>,<span class="hljs-attr">harmonic</span>:<span class="hljs-title class_">Rt</span>,<span class="hljs-attr">melodic</span>:<span class="hljs-title class_">Rt</span>},<span class="hljs-title class_">Pn</span>=<span class="hljs-function">(<span class="hljs-params">t,n,e=<span class="hljs-string">&quot;&quot;</span></span>)=&gt;</span>n.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span><span class="hljs-string">`<span class="hljs-subst">${t[o]}</span><span class="hljs-subst">${e}</span><span class="hljs-subst">${r}</span>`</span>);<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ft</span>(<span class="hljs-params">t,n,e,r,o</span>){<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>{<span class="hljs-keyword">let</span> i=t.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">P</span>=&gt;</span><span class="hljs-title function_">j</span>(P).<span class="hljs-property">interval</span>||<span class="hljs-string">&quot;&quot;</span>),m=i.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">P</span>=&gt;</span><span class="hljs-title function_">g</span>(a,P)),c=<span class="hljs-title class_">Pn</span>(m,e),u=m.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">P</span>=&gt;</span><span class="hljs-title function_">g</span>(P,<span class="hljs-string">&quot;5P&quot;</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">P</span>=&gt;</span>m.<span class="hljs-title function_">includes</span>(P)&amp;&amp;!c.<span class="hljs-title function_">includes</span>(P+<span class="hljs-string">&quot;7&quot;</span>)?P+<span class="hljs-string">&quot;7&quot;</span>:<span class="hljs-string">&quot;&quot;</span>),M=<span class="hljs-title class_">Er</span>(u,n),y=u.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">P</span>=&gt;</span>{<span class="hljs-keyword">if</span>(!P)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> h=P.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">g</span>(h,<span class="hljs-string">&quot;5d&quot;</span>)+<span class="hljs-string">&quot;7&quot;</span>}),l=<span class="hljs-title class_">Er</span>(y,n);<span class="hljs-keyword">return</span>{<span class="hljs-attr">tonic</span>:a,<span class="hljs-attr">grades</span>:t,<span class="hljs-attr">intervals</span>:i,<span class="hljs-attr">scale</span>:m,<span class="hljs-attr">triads</span>:<span class="hljs-title class_">Pn</span>(m,n),<span class="hljs-attr">chords</span>:c,<span class="hljs-attr">chordsHarmonicFunction</span>:r.<span class="hljs-title function_">slice</span>(),<span class="hljs-attr">chordScales</span>:<span class="hljs-title class_">Pn</span>(m,o,<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-attr">secondaryDominants</span>:u,<span class="hljs-attr">secondaryDominantSupertonics</span>:M,<span class="hljs-attr">substituteDominants</span>:y,<span class="hljs-attr">substituteDominantSupertonics</span>:l,<span class="hljs-attr">secondaryDominantsMinorRelative</span>:M,<span class="hljs-attr">substituteDominantsMinorRelative</span>:l}}}<span class="hljs-keyword">var</span> <span class="hljs-title function_">Er</span>=(<span class="hljs-params">t,n</span>)=&gt;t.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">e,r</span>)=&gt;</span>{<span class="hljs-keyword">if</span>(!e)<span class="hljs-keyword">return</span><span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">let</span> o=e.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,-<span class="hljs-number">1</span>),a=<span class="hljs-title function_">g</span>(o,<span class="hljs-string">&quot;5P&quot;</span>);<span class="hljs-keyword">return</span> n[r].<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&quot;m&quot;</span>)?a+<span class="hljs-string">&quot;m7&quot;</span>:a+<span class="hljs-string">&quot;m7b5&quot;</span>}),wr=<span class="hljs-function">(<span class="hljs-params">t,n</span>)=&gt;</span>{<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">s</span>(t),r=<span class="hljs-title function_">s</span>(n);<span class="hljs-keyword">return</span> e.<span class="hljs-property">empty</span>||r.<span class="hljs-property">empty</span>?<span class="hljs-number">0</span>:r.<span class="hljs-property">coord</span>[<span class="hljs-number">0</span>]-e.<span class="hljs-property">coord</span>[<span class="hljs-number">0</span>]},za=<span class="hljs-title class_">Ft</span>(<span class="hljs-string">&quot;I II III IV V VI VII&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot; m m   m dim&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;maj7 m7 m7 maj7 7 m7 m7b5&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;T SD T SD D T D&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;major,dorian,phrygian,lydian,mixolydian,minor,locrian&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>)),<span class="hljs-title class_">Ba</span>=<span class="hljs-title class_">Ft</span>(<span class="hljs-string">&quot;I II bIII IV V bVI bVII&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;m dim  m m  &quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;m7 m7b5 maj7 m7 m7 maj7 7&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;T SD T SD D SD SD&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;minor,locrian,major,dorian,phrygian,lydian,mixolydian&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>)),<span class="hljs-title class_">Ha</span>=<span class="hljs-title class_">Ft</span>(<span class="hljs-string">&quot;I II bIII IV V bVI VII&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;m dim aug m   dim&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;mMaj7 m7b5 +maj7 m7 7 maj7 o7&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;T SD T SD D SD D&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;harmonic minor,locrian 6,major augmented,lydian diminished,phrygian dominant,lydian #9,ultralocrian&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>)),<span class="hljs-title class_">Ka</span>=<span class="hljs-title class_">Ft</span>(<span class="hljs-string">&quot;I II bIII IV V VI VII&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;m m aug   dim dim&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;m6 m7 +maj7 7 7 m7b5 m7b5&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;T SD T SD D  &quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>),<span class="hljs-string">&quot;melodic minor,dorian b2,lydian augmented,lydian dominant,mixolydian b6,locrian #2,altered&quot;</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;,&quot;</span>));<span class="hljs-keyword">function</span> <span class="hljs-title function_">Mn</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">s</span>(t).<span class="hljs-property">pc</span>;<span class="hljs-keyword">if</span>(!n)<span class="hljs-keyword">return</span> <span class="hljs-title class_">La</span>;<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">za</span>(n),r=<span class="hljs-title function_">wr</span>(<span class="hljs-string">&quot;C&quot;</span>,n);<span class="hljs-keyword">return</span>{...e,<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;major&quot;</span>,<span class="hljs-attr">minorRelative</span>:<span class="hljs-title function_">g</span>(n,<span class="hljs-string">&quot;-3m&quot;</span>),<span class="hljs-attr">alteration</span>:r,<span class="hljs-attr">keySignature</span>:<span class="hljs-title function_">F</span>(r)}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ua</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">Mn</span>(t),e=[];<span class="hljs-keyword">return</span> <span class="hljs-title function_">_t</span>(n,e),e}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Xa</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">hn</span>(t),e=[];<span class="hljs-keyword">return</span> <span class="hljs-title function_">_t</span>(n.<span class="hljs-property">natural</span>,e),<span class="hljs-title function_">_t</span>(n.<span class="hljs-property">harmonic</span>,e),<span class="hljs-title function_">_t</span>(n.<span class="hljs-property">melodic</span>,e),e}<span class="hljs-keyword">function</span> <span class="hljs-title function_">_t</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> <span class="hljs-title function_">e</span>=(<span class="hljs-params">r,o</span>)=&gt;{<span class="hljs-keyword">if</span>(!r)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> a=n.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">i</span>=&gt;</span>i.<span class="hljs-property">name</span>===r);a||(a={<span class="hljs-attr">name</span>:r,<span class="hljs-attr">roles</span>:[]},n.<span class="hljs-title function_">push</span>(a)),o&amp;&amp;!a.<span class="hljs-property">roles</span>.<span class="hljs-title function_">includes</span>(o)&amp;&amp;a.<span class="hljs-property">roles</span>.<span class="hljs-title function_">push</span>(o)};t.<span class="hljs-property">chords</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span><span class="hljs-title function_">e</span>(r,t.<span class="hljs-property">chordsHarmonicFunction</span>[o])),t.<span class="hljs-property">secondaryDominants</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span><span class="hljs-title function_">e</span>(r,<span class="hljs-string">`V/<span class="hljs-subst">${t.grades[o]}</span>`</span>)),t.<span class="hljs-property">secondaryDominantSupertonics</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span><span class="hljs-title function_">e</span>(r,<span class="hljs-string">`ii/<span class="hljs-subst">${t.grades[o]}</span>`</span>)),t.<span class="hljs-property">substituteDominants</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span><span class="hljs-title function_">e</span>(r,<span class="hljs-string">`subV/<span class="hljs-subst">${t.grades[o]}</span>`</span>)),t.<span class="hljs-property">substituteDominantSupertonics</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span><span class="hljs-title function_">e</span>(r,<span class="hljs-string">`subii/<span class="hljs-subst">${t.grades[o]}</span>`</span>))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">hn</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">s</span>(t).<span class="hljs-property">pc</span>;<span class="hljs-keyword">if</span>(!n)<span class="hljs-keyword">return</span> <span class="hljs-title class_">Ga</span>;<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">wr</span>(<span class="hljs-string">&quot;C&quot;</span>,n)-<span class="hljs-number">3</span>;<span class="hljs-keyword">return</span>{<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;minor&quot;</span>,<span class="hljs-attr">tonic</span>:n,<span class="hljs-attr">relativeMajor</span>:<span class="hljs-title function_">g</span>(n,<span class="hljs-string">&quot;3m&quot;</span>),<span class="hljs-attr">alteration</span>:e,<span class="hljs-attr">keySignature</span>:<span class="hljs-title function_">F</span>(e),<span class="hljs-attr">natural</span>:<span class="hljs-title class_">Ba</span>(n),<span class="hljs-attr">harmonic</span>:<span class="hljs-title class_">Ha</span>(n),<span class="hljs-attr">melodic</span>:<span class="hljs-title class_">Ka</span>(n)}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Rr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;number&quot;</span>?<span class="hljs-title function_">tt</span>(<span class="hljs-string">&quot;C&quot;</span>,t):<span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;string&quot;</span>&amp;&amp;<span class="hljs-regexp">/^b+|#+$/</span>.<span class="hljs-title function_">test</span>(t)?<span class="hljs-title function_">tt</span>(<span class="hljs-string">&quot;C&quot;</span>,<span class="hljs-title function_">L</span>(t)):<span class="hljs-literal">null</span>}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Qa</span>={<span class="hljs-attr">majorKey</span>:<span class="hljs-title class_">Mn</span>,<span class="hljs-attr">majorTonicFromKeySignature</span>:<span class="hljs-title class_">Rr</span>,<span class="hljs-attr">minorKey</span>:hn};<span class="hljs-keyword">var</span> <span class="hljs-title class_">Sn</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">Sn</span>,{<span class="hljs-attr">all</span>:<span class="hljs-function">()=&gt;</span>gn,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Wa</span>,<span class="hljs-attr">distance</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Nn</span>,<span class="hljs-attr">entries</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Or</span>,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>V,<span class="hljs-attr">mode</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Fr</span>,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span>$r,<span class="hljs-attr">notes</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Vr</span>,<span class="hljs-attr">relativeTonic</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Gr</span>,<span class="hljs-attr">seventhChords</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Lr</span>,<span class="hljs-attr">triads</span>:<span class="hljs-function">()=&gt;</span>qr});<span class="hljs-keyword">var</span> bn=[[<span class="hljs-number">0</span>,<span class="hljs-number">2773</span>,<span class="hljs-number">0</span>,<span class="hljs-string">&quot;ionian&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;Maj7&quot;</span>,<span class="hljs-string">&quot;major&quot;</span>],[<span class="hljs-number">1</span>,<span class="hljs-number">2902</span>,<span class="hljs-number">2</span>,<span class="hljs-string">&quot;dorian&quot;</span>,<span class="hljs-string">&quot;m&quot;</span>,<span class="hljs-string">&quot;m7&quot;</span>],[<span class="hljs-number">2</span>,<span class="hljs-number">3418</span>,<span class="hljs-number">4</span>,<span class="hljs-string">&quot;phrygian&quot;</span>,<span class="hljs-string">&quot;m&quot;</span>,<span class="hljs-string">&quot;m7&quot;</span>],[<span class="hljs-number">3</span>,<span class="hljs-number">2741</span>,-<span class="hljs-number">1</span>,<span class="hljs-string">&quot;lydian&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;Maj7&quot;</span>],[<span class="hljs-number">4</span>,<span class="hljs-number">2774</span>,<span class="hljs-number">1</span>,<span class="hljs-string">&quot;mixolydian&quot;</span>,<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;7&quot;</span>],[<span class="hljs-number">5</span>,<span class="hljs-number">2906</span>,<span class="hljs-number">3</span>,<span class="hljs-string">&quot;aeolian&quot;</span>,<span class="hljs-string">&quot;m&quot;</span>,<span class="hljs-string">&quot;m7&quot;</span>,<span class="hljs-string">&quot;minor&quot;</span>],[<span class="hljs-number">6</span>,<span class="hljs-number">3434</span>,<span class="hljs-number">5</span>,<span class="hljs-string">&quot;locrian&quot;</span>,<span class="hljs-string">&quot;dim&quot;</span>,<span class="hljs-string">&quot;m7b5&quot;</span>]],_r={...x,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">alt</span>:<span class="hljs-number">0</span>,<span class="hljs-attr">modeNum</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">triad</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">seventh</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">aliases</span>:[]},<span class="hljs-title class_">An</span>=bn.<span class="hljs-title function_">map</span>(<span class="hljs-title class_">Ja</span>),yn={};<span class="hljs-title class_">An</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>{yn[t.<span class="hljs-property">name</span>]=t,t.<span class="hljs-property">aliases</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">n</span>=&gt;</span>{yn[n]=t})});<span class="hljs-keyword">function</span> <span class="hljs-title function_">V</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span> <span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;string&quot;</span>?yn[t.<span class="hljs-title function_">toLowerCase</span>()]||<span class="hljs-attr">_r</span>:t&amp;&amp;t.<span class="hljs-property">name</span>?<span class="hljs-title function_">V</span>(t.<span class="hljs-property">name</span>):_r}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Fr</span>=V;<span class="hljs-keyword">function</span> <span class="hljs-title function_">gn</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">An</span>.<span class="hljs-title function_">slice</span>()}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Or</span>=gn;<span class="hljs-keyword">function</span> <span class="hljs-title function_">$r</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">An</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t.<span class="hljs-property">name</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ja</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>[n,e,r,o,a,i,m]=t,c=m?[m]:[],u=<span class="hljs-title class_">Number</span>(e).<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>);<span class="hljs-keyword">return</span>{<span class="hljs-attr">empty</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">intervals</span>:<span class="hljs-title function_">K</span>(o).<span class="hljs-property">intervals</span>,<span class="hljs-attr">modeNum</span>:n,<span class="hljs-attr">chroma</span>:u,<span class="hljs-attr">normalized</span>:u,<span class="hljs-attr">name</span>:o,<span class="hljs-attr">setNum</span>:e,<span class="hljs-attr">alt</span>:r,<span class="hljs-attr">triad</span>:a,<span class="hljs-attr">seventh</span>:i,<span class="hljs-attr">aliases</span>:c}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Vr</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">V</span>(t).<span class="hljs-property">intervals</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-title function_">p</span>(n,e))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">kr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">return</span><span class="hljs-function">(<span class="hljs-params">n,e</span>)=&gt;</span>{<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">V</span>(n);<span class="hljs-keyword">if</span>(r.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span>[];<span class="hljs-keyword">let</span> o=<span class="hljs-title function_">E</span>(r.<span class="hljs-property">modeNum</span>,t),a=r.<span class="hljs-property">intervals</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">i</span>=&gt;</span><span class="hljs-title function_">p</span>(e,i));<span class="hljs-keyword">return</span> o.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">i,m</span>)=&gt;</span>a[m]+i)}}<span class="hljs-keyword">var</span> qr=<span class="hljs-title function_">kr</span>(bn.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t[<span class="hljs-number">4</span>])),<span class="hljs-title class_">Lr</span>=<span class="hljs-title function_">kr</span>(bn.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span>t[<span class="hljs-number">5</span>]));<span class="hljs-keyword">function</span> <span class="hljs-title function_">Nn</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">V</span>(n),r=<span class="hljs-title function_">V</span>(t);<span class="hljs-keyword">return</span> e.<span class="hljs-property">empty</span>||r.<span class="hljs-property">empty</span>?<span class="hljs-string">&quot;&quot;</span>:<span class="hljs-title function_">ht</span>(<span class="hljs-title function_">yt</span>(<span class="hljs-string">&quot;1P&quot;</span>,r.<span class="hljs-property">alt</span>-e.<span class="hljs-property">alt</span>))}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Gr</span>(<span class="hljs-params">t,n,e</span>){<span class="hljs-keyword">return</span> <span class="hljs-title function_">p</span>(e,<span class="hljs-title class_">Nn</span>(t,n))}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Wa</span>={<span class="hljs-attr">get</span>:V,<span class="hljs-attr">names</span>:$r,<span class="hljs-attr">all</span>:gn,<span class="hljs-attr">distance</span>:<span class="hljs-title class_">Nn</span>,<span class="hljs-attr">relativeTonic</span>:<span class="hljs-title class_">Gr</span>,<span class="hljs-attr">notes</span>:<span class="hljs-title class_">Vr</span>,<span class="hljs-attr">triads</span>:qr,<span class="hljs-attr">seventhChords</span>:<span class="hljs-title class_">Lr</span>,<span class="hljs-attr">entries</span>:<span class="hljs-title class_">Or</span>,<span class="hljs-attr">mode</span>:<span class="hljs-title class_">Fr</span>};<span class="hljs-keyword">var</span> xn={};<span class="hljs-title function_">d</span>(xn,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Za</span>,<span class="hljs-attr">fromRomanNumerals</span>:<span class="hljs-function">()=&gt;</span>zr,<span class="hljs-attr">toRomanNumerals</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Br</span>});<span class="hljs-keyword">function</span> <span class="hljs-title function_">zr</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> n.<span class="hljs-title function_">map</span>(j).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span><span class="hljs-title function_">p</span>(t,<span class="hljs-title function_">f</span>(r))+r.<span class="hljs-property">chordType</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Br</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> n.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>{<span class="hljs-keyword">let</span>[r,o]=<span class="hljs-title function_">Y</span>(e),a=<span class="hljs-title function_">A</span>(t,r);<span class="hljs-keyword">return</span> <span class="hljs-title function_">j</span>(<span class="hljs-title function_">f</span>(a)).<span class="hljs-property">name</span>+o})}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Za</span>={<span class="hljs-attr">fromRomanNumerals</span>:zr,<span class="hljs-attr">toRomanNumerals</span>:<span class="hljs-title class_">Br</span>};<span class="hljs-keyword">var</span> <span class="hljs-title class_">Tn</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">Tn</span>,{<span class="hljs-attr">chromatic</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Hr</span>,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>jn,<span class="hljs-attr">numeric</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">In</span>});<span class="hljs-keyword">function</span> <span class="hljs-title function_">In</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">J</span>(t.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-keyword">typeof</span> e==<span class="hljs-string">&quot;number&quot;</span>?<span class="hljs-attr">e</span>:<span class="hljs-title function_">xt</span>(e)));<span class="hljs-keyword">return</span>!t.<span class="hljs-property">length</span>||n.<span class="hljs-property">length</span>!==t.<span class="hljs-property">length</span>?[]:n.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">e,r</span>)=&gt;</span>{<span class="hljs-keyword">let</span> o=e[e.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>];<span class="hljs-keyword">return</span> e.<span class="hljs-title function_">concat</span>($(o,r).<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>))},[n[<span class="hljs-number">0</span>]])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Hr</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">return</span> <span class="hljs-title class_">In</span>(t).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-title function_">I</span>(e,n))}<span class="hljs-keyword">var</span> jn={<span class="hljs-attr">numeric</span>:<span class="hljs-title class_">In</span>,<span class="hljs-attr">chromatic</span>:<span class="hljs-title class_">Hr</span>};<span class="hljs-keyword">var</span> <span class="hljs-title class_">Cn</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">Cn</span>,{<span class="hljs-attr">binary</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ya</span>,<span class="hljs-attr">euclid</span>:<span class="hljs-function">()=&gt;</span>ai,<span class="hljs-attr">hex</span>:<span class="hljs-function">()=&gt;</span>ti,<span class="hljs-attr">onsets</span>:<span class="hljs-function">()=&gt;</span>ni,<span class="hljs-attr">probability</span>:<span class="hljs-function">()=&gt;</span>ri,<span class="hljs-attr">random</span>:<span class="hljs-function">()=&gt;</span>ei,<span class="hljs-attr">rotate</span>:<span class="hljs-function">()=&gt;</span>oi});<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ya</span>(<span class="hljs-params">...t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">n,e</span>)=&gt;</span>(e.<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>{n.<span class="hljs-title function_">push</span>(<span class="hljs-built_in">parseInt</span>(r))}),n),[])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ti</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> e=<span class="hljs-number">0</span>;e&lt;t.<span class="hljs-property">length</span>;e++){<span class="hljs-keyword">let</span> r=<span class="hljs-built_in">parseInt</span>(<span class="hljs-string">&quot;0x&quot;</span>+t[e]);(<span class="hljs-built_in">isNaN</span>(r)?<span class="hljs-string">&quot;0000&quot;</span>:r.<span class="hljs-title function_">toString</span>(<span class="hljs-number">2</span>).<span class="hljs-title function_">padStart</span>(<span class="hljs-number">4</span>,<span class="hljs-string">&quot;0&quot;</span>)).<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>{n.<span class="hljs-title function_">push</span>(a===<span class="hljs-string">&quot;1&quot;</span>?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>)})}<span class="hljs-keyword">return</span> n}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ni</span>(<span class="hljs-params">...t</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">n,e</span>)=&gt;</span>{n.<span class="hljs-title function_">push</span>(<span class="hljs-number">1</span>);<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> r=<span class="hljs-number">0</span>;r&lt;e;r++)n.<span class="hljs-title function_">push</span>(<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span> n},[])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ei</span>(<span class="hljs-params">t,n=<span class="hljs-number">.5</span>,e=<span class="hljs-built_in">Math</span>.random</span>){<span class="hljs-keyword">let</span> r=[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> o=<span class="hljs-number">0</span>;o&lt;t;o++)r.<span class="hljs-title function_">push</span>(<span class="hljs-title function_">e</span>()&gt;=n?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>);<span class="hljs-keyword">return</span> r}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ri</span>(<span class="hljs-params">t,n=<span class="hljs-built_in">Math</span>.random</span>){<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-title function_">n</span>()&lt;=e?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">oi</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=t.<span class="hljs-property">length</span>,r=[];<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> o=<span class="hljs-number">0</span>;o&lt;e;o++){<span class="hljs-keyword">let</span> a=((o-n)%e+e)%e;r[o]=t[a]}<span class="hljs-keyword">return</span> r}<span class="hljs-keyword">function</span> <span class="hljs-title function_">ai</span>(<span class="hljs-params">t,n</span>){<span class="hljs-keyword">let</span> e=[],r=-<span class="hljs-number">1</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> o=<span class="hljs-number">0</span>;o&lt;t;o++){<span class="hljs-keyword">let</span> a=<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(o*(n/t));e[o]=a!==r?<span class="hljs-number">1</span>:<span class="hljs-number">0</span>,r=a}<span class="hljs-keyword">return</span> e}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Rn</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">Rn</span>,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>si,<span class="hljs-attr">degrees</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Yr</span>,<span class="hljs-attr">detect</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Xr</span>,<span class="hljs-attr">extended</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Dn</span>,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>T,<span class="hljs-attr">modeNames</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Wr</span>,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Kr</span>,<span class="hljs-attr">rangeOf</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Zr</span>,<span class="hljs-attr">reduced</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Jr</span>,<span class="hljs-attr">scale</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ur</span>,<span class="hljs-attr">scaleChords</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Qr</span>,<span class="hljs-attr">scaleNotes</span>:<span class="hljs-function">()=&gt;</span>wn,<span class="hljs-attr">steps</span>:<span class="hljs-function">()=&gt;</span>to,<span class="hljs-attr">tokenize</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">En</span>});<span class="hljs-keyword">var</span> ii={<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">type</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">tonic</span>:<span class="hljs-literal">null</span>,<span class="hljs-attr">setNum</span>:<span class="hljs-title class_">NaN</span>,<span class="hljs-attr">chroma</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">normalized</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">aliases</span>:[],<span class="hljs-attr">notes</span>:[],<span class="hljs-attr">intervals</span>:[]};<span class="hljs-keyword">function</span> <span class="hljs-title function_">En</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> t!=<span class="hljs-string">&quot;string&quot;</span>)<span class="hljs-keyword">return</span>[<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>];<span class="hljs-keyword">let</span> n=t.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&quot; &quot;</span>),e=<span class="hljs-title function_">s</span>(t.<span class="hljs-title function_">substring</span>(<span class="hljs-number">0</span>,n));<span class="hljs-keyword">if</span>(e.<span class="hljs-property">empty</span>){<span class="hljs-keyword">let</span> o=<span class="hljs-title function_">s</span>(t);<span class="hljs-keyword">return</span> o.<span class="hljs-property">empty</span>?[<span class="hljs-string">&quot;&quot;</span>,t.<span class="hljs-title function_">toLowerCase</span>()]:[o.<span class="hljs-property">name</span>,<span class="hljs-string">&quot;&quot;</span>]}<span class="hljs-keyword">let</span> r=t.<span class="hljs-title function_">substring</span>(e.<span class="hljs-property">name</span>.<span class="hljs-property">length</span>+<span class="hljs-number">1</span>).<span class="hljs-title function_">toLowerCase</span>();<span class="hljs-keyword">return</span>[e.<span class="hljs-property">name</span>,r.<span class="hljs-property">length</span>?<span class="hljs-attr">r</span>:<span class="hljs-string">&quot;&quot;</span>]}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Kr</span>=<span class="hljs-title class_">At</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">T</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?<span class="hljs-attr">t</span>:<span class="hljs-title class_">En</span>(t),e=<span class="hljs-title function_">s</span>(n[<span class="hljs-number">0</span>]).<span class="hljs-property">name</span>,r=<span class="hljs-title function_">K</span>(n[<span class="hljs-number">1</span>]);<span class="hljs-keyword">if</span>(r.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span> ii;<span class="hljs-keyword">let</span> o=r.<span class="hljs-property">name</span>,a=e?r.<span class="hljs-property">intervals</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">m</span>=&gt;</span><span class="hljs-title function_">p</span>(e,m)):[],i=e?e+<span class="hljs-string">&quot; &quot;</span>+<span class="hljs-attr">o</span>:o;<span class="hljs-keyword">return</span>{...r,<span class="hljs-attr">name</span>:i,<span class="hljs-attr">type</span>:o,<span class="hljs-attr">tonic</span>:e,<span class="hljs-attr">notes</span>:a}}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Ur</span>=T;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Xr</span>(<span class="hljs-params">t,n={}</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title function_">ut</span>(t),r=<span class="hljs-title function_">s</span>(n.<span class="hljs-property">tonic</span>??t[<span class="hljs-number">0</span>]??<span class="hljs-string">&quot;&quot;</span>),o=r.<span class="hljs-property">chroma</span>;<span class="hljs-keyword">if</span>(o===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>[];<span class="hljs-keyword">let</span> a=e.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>);a[o]=<span class="hljs-string">&quot;1&quot;</span>;<span class="hljs-keyword">let</span> i=<span class="hljs-title function_">E</span>(o,a).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>),m=<span class="hljs-title function_">w</span>().<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">u</span>=&gt;</span>u.<span class="hljs-property">chroma</span>===i),c=[];<span class="hljs-keyword">return</span> m&amp;&amp;c.<span class="hljs-title function_">push</span>(r.<span class="hljs-property">name</span>+<span class="hljs-string">&quot; &quot;</span>+m.<span class="hljs-property">name</span>),n.<span class="hljs-property">match</span>===<span class="hljs-string">&quot;exact&quot;</span>||<span class="hljs-title class_">Dn</span>(i).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">u</span>=&gt;</span>{c.<span class="hljs-title function_">push</span>(r.<span class="hljs-property">name</span>+<span class="hljs-string">&quot; &quot;</span>+u)}),c}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Qr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">T</span>(t),e=<span class="hljs-title function_">G</span>(n.<span class="hljs-property">chroma</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">D</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span><span class="hljs-title function_">e</span>(r.<span class="hljs-property">chroma</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>r.<span class="hljs-property">aliases</span>[<span class="hljs-number">0</span>])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Dn</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">rt</span>(t)?<span class="hljs-attr">t</span>:<span class="hljs-title function_">T</span>(t).<span class="hljs-property">chroma</span>,e=<span class="hljs-title function_">z</span>(n);<span class="hljs-keyword">return</span> <span class="hljs-title function_">w</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span><span class="hljs-title function_">e</span>(r.<span class="hljs-property">chroma</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>r.<span class="hljs-property">name</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Jr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">G</span>(<span class="hljs-title function_">T</span>(t).<span class="hljs-property">chroma</span>);<span class="hljs-keyword">return</span> <span class="hljs-title function_">w</span>().<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span><span class="hljs-title function_">n</span>(e.<span class="hljs-property">chroma</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>e.<span class="hljs-property">name</span>)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">wn</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=t.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span><span class="hljs-title function_">s</span>(o).<span class="hljs-property">pc</span>).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>o),e=n[<span class="hljs-number">0</span>],r=<span class="hljs-title class_">Et</span>(n);<span class="hljs-keyword">return</span> <span class="hljs-title function_">E</span>(r.<span class="hljs-title function_">indexOf</span>(e),r)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Wr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">T</span>(t);<span class="hljs-keyword">if</span>(n.<span class="hljs-property">empty</span>)<span class="hljs-keyword">return</span>[];<span class="hljs-keyword">let</span> e=n.<span class="hljs-property">tonic</span>?n.<span class="hljs-property">notes</span>:n.<span class="hljs-property">intervals</span>;<span class="hljs-keyword">return</span> <span class="hljs-title function_">W</span>(n.<span class="hljs-property">chroma</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">r,o</span>)=&gt;</span>{<span class="hljs-keyword">let</span> a=<span class="hljs-title function_">T</span>(r).<span class="hljs-property">name</span>;<span class="hljs-keyword">return</span> a?[e[o],a]:[<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;&quot;</span>]}).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>r[<span class="hljs-number">0</span>])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">mi</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?<span class="hljs-title function_">wn</span>(t):<span class="hljs-title function_">T</span>(t).<span class="hljs-property">notes</span>,e=n.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span><span class="hljs-title function_">s</span>(r).<span class="hljs-property">chroma</span>);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>{<span class="hljs-keyword">let</span> o=<span class="hljs-keyword">typeof</span> r==<span class="hljs-string">&quot;number&quot;</span>?<span class="hljs-title function_">s</span>(<span class="hljs-title class_">Tt</span>(r)):<span class="hljs-title function_">s</span>(r),a=o.<span class="hljs-property">height</span>;<span class="hljs-keyword">if</span>(a===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span>;<span class="hljs-keyword">let</span> i=a%<span class="hljs-number">12</span>,m=e.<span class="hljs-title function_">indexOf</span>(i);<span class="hljs-keyword">if</span>(m!==-<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> <span class="hljs-title class_">Dt</span>(o.<span class="hljs-property">name</span>,n[m])}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Zr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title function_">mi</span>(t);<span class="hljs-keyword">return</span><span class="hljs-function">(<span class="hljs-params">e,r</span>)=&gt;</span>{<span class="hljs-keyword">let</span> o=<span class="hljs-title function_">s</span>(e).<span class="hljs-property">height</span>,a=<span class="hljs-title function_">s</span>(r).<span class="hljs-property">height</span>;<span class="hljs-keyword">return</span> o===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>||a===<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>?[]:$(o,a).<span class="hljs-title function_">map</span>(n).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">i</span>=&gt;</span>i)}}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Yr</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>{<span class="hljs-attr">intervals</span>:n,<span class="hljs-attr">tonic</span>:e}=<span class="hljs-title function_">T</span>(t),r=<span class="hljs-title function_">O</span>(n,e);<span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>o?<span class="hljs-title function_">r</span>(o&gt;<span class="hljs-number">0</span>?o-<span class="hljs-number">1</span>:o):<span class="hljs-string">&quot;&quot;</span>}<span class="hljs-keyword">function</span> <span class="hljs-title function_">to</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span>{<span class="hljs-attr">intervals</span>:n,<span class="hljs-attr">tonic</span>:e}=<span class="hljs-title function_">T</span>(t);<span class="hljs-keyword">return</span> <span class="hljs-title function_">O</span>(n,e)}<span class="hljs-keyword">var</span> si={<span class="hljs-attr">degrees</span>:<span class="hljs-title class_">Yr</span>,<span class="hljs-attr">detect</span>:<span class="hljs-title class_">Xr</span>,<span class="hljs-attr">extended</span>:<span class="hljs-title class_">Dn</span>,<span class="hljs-attr">get</span>:T,<span class="hljs-attr">modeNames</span>:<span class="hljs-title class_">Wr</span>,<span class="hljs-attr">names</span>:<span class="hljs-title class_">Kr</span>,<span class="hljs-attr">rangeOf</span>:<span class="hljs-title class_">Zr</span>,<span class="hljs-attr">reduced</span>:<span class="hljs-title class_">Jr</span>,<span class="hljs-attr">scaleChords</span>:<span class="hljs-title class_">Qr</span>,<span class="hljs-attr">scaleNotes</span>:wn,<span class="hljs-attr">steps</span>:to,<span class="hljs-attr">tokenize</span>:<span class="hljs-title class_">En</span>,<span class="hljs-attr">scale</span>:<span class="hljs-title class_">Ur</span>};<span class="hljs-keyword">var</span> _n={};<span class="hljs-title function_">d</span>(_n,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>fi,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span>ro,<span class="hljs-attr">names</span>:<span class="hljs-function">()=&gt;</span>eo,<span class="hljs-attr">parse</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ot</span>});<span class="hljs-keyword">var</span> ci={<span class="hljs-attr">empty</span>:!<span class="hljs-number">0</span>,<span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-attr">upper</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">lower</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">type</span>:<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>,<span class="hljs-attr">additive</span>:[]},ui=[<span class="hljs-string">&quot;4/4&quot;</span>,<span class="hljs-string">&quot;3/4&quot;</span>,<span class="hljs-string">&quot;2/4&quot;</span>,<span class="hljs-string">&quot;2/2&quot;</span>,<span class="hljs-string">&quot;12/8&quot;</span>,<span class="hljs-string">&quot;9/8&quot;</span>,<span class="hljs-string">&quot;6/8&quot;</span>,<span class="hljs-string">&quot;3/8&quot;</span>];<span class="hljs-keyword">function</span> <span class="hljs-title function_">eo</span>(<span class="hljs-params"></span>){<span class="hljs-keyword">return</span> ui.<span class="hljs-title function_">slice</span>()}<span class="hljs-keyword">var</span> li=<span class="hljs-regexp">/^(\d*\d(?:\+\d)*)\/(\d+)$/</span>,no=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">ro</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">let</span> n=<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(t),e=no.<span class="hljs-title function_">get</span>(n);<span class="hljs-keyword">if</span>(e)<span class="hljs-keyword">return</span> e;<span class="hljs-keyword">let</span> r=<span class="hljs-title function_">pi</span>(<span class="hljs-title class_">Ot</span>(t));<span class="hljs-keyword">return</span> no.<span class="hljs-title function_">set</span>(n,r),r}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ot</span>(<span class="hljs-params">t</span>){<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> t==<span class="hljs-string">&quot;string&quot;</span>){<span class="hljs-keyword">let</span>[a,i,m]=li.<span class="hljs-title function_">exec</span>(t)||[];<span class="hljs-keyword">return</span> <span class="hljs-title class_">Ot</span>([i,m])}<span class="hljs-keyword">let</span>[n,e]=t,r=+e;<span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> n==<span class="hljs-string">&quot;number&quot;</span>)<span class="hljs-keyword">return</span>[n,r];<span class="hljs-keyword">let</span> o=n.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;+&quot;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">a</span>=&gt;</span>+a);<span class="hljs-keyword">return</span> o.<span class="hljs-property">length</span>===<span class="hljs-number">1</span>?[o[<span class="hljs-number">0</span>],r]:[o,r]}<span class="hljs-keyword">var</span> fi={<span class="hljs-attr">names</span>:eo,<span class="hljs-attr">parse</span>:<span class="hljs-title class_">Ot</span>,<span class="hljs-attr">get</span>:ro},di=<span class="hljs-function"><span class="hljs-params">t</span>=&gt;</span><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(t)/<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">2</span>)%<span class="hljs-number">1</span>===<span class="hljs-number">0</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">pi</span>(<span class="hljs-params">[t,n]</span>){<span class="hljs-keyword">let</span> e=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?t.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">m,c</span>)=&gt;</span>m+c,<span class="hljs-number">0</span>):t,r=n;<span class="hljs-keyword">if</span>(e===<span class="hljs-number">0</span>||r===<span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> ci;<span class="hljs-keyword">let</span> o=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?<span class="hljs-string">`<span class="hljs-subst">${t.join(<span class="hljs-string">&quot;+&quot;</span>)}</span>/<span class="hljs-subst">${n}</span>`</span>:<span class="hljs-string">`<span class="hljs-subst">${t}</span>/<span class="hljs-subst">${n}</span>`</span>,a=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(t)?<span class="hljs-attr">t</span>:[],i=r===<span class="hljs-number">4</span>||r===<span class="hljs-number">2</span>?<span class="hljs-string">&quot;simple&quot;</span>:r===<span class="hljs-number">8</span>&amp;&amp;e%<span class="hljs-number">3</span>===<span class="hljs-number">0</span>?<span class="hljs-string">&quot;compound&quot;</span>:<span class="hljs-title function_">di</span>(r)?<span class="hljs-string">&quot;irregular&quot;</span>:<span class="hljs-string">&quot;irrational&quot;</span>;<span class="hljs-keyword">return</span>{<span class="hljs-attr">empty</span>:!<span class="hljs-number">1</span>,<span class="hljs-attr">name</span>:o,<span class="hljs-attr">type</span>:i,<span class="hljs-attr">upper</span>:e,<span class="hljs-attr">lower</span>:r,<span class="hljs-attr">additive</span>:a}}<span class="hljs-keyword">var</span> <span class="hljs-title class_">On</span>={};<span class="hljs-title function_">d</span>(<span class="hljs-title class_">On</span>,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Fn</span>,<span class="hljs-attr">topNoteDiff</span>:<span class="hljs-function">()=&gt;</span>oo});<span class="hljs-keyword">var</span> <span class="hljs-title function_">oo</span>=(<span class="hljs-params">t,n</span>)=&gt;{<span class="hljs-keyword">if</span>(!n||!n.<span class="hljs-property">length</span>)<span class="hljs-keyword">return</span> t[<span class="hljs-number">0</span>];<span class="hljs-keyword">let</span> <span class="hljs-title function_">e</span>=o=&gt;S.<span class="hljs-title function_">midi</span>(o[o.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>])||<span class="hljs-number">0</span>,r=<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span><span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(<span class="hljs-title function_">e</span>(n)-<span class="hljs-title function_">e</span>(o));<span class="hljs-keyword">return</span> t.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">o,a</span>)=&gt;</span><span class="hljs-title function_">r</span>(o)-<span class="hljs-title function_">r</span>(a))[<span class="hljs-number">0</span>]},<span class="hljs-title class_">Fn</span>={<span class="hljs-attr">topNoteDiff</span>:oo};<span class="hljs-keyword">var</span> zn={};<span class="hljs-title function_">d</span>(zn,{<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Pi</span>,<span class="hljs-attr">get</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Ln</span>,<span class="hljs-attr">search</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Gn</span>,<span class="hljs-attr">sequence</span>:<span class="hljs-function">()=&gt;</span>uo});<span class="hljs-keyword">var</span> kn={};<span class="hljs-title function_">d</span>(kn,{<span class="hljs-attr">all</span>:<span class="hljs-function">()=&gt;</span>io,<span class="hljs-attr">default</span>:<span class="hljs-function">()=&gt;</span>st,<span class="hljs-attr">defaultDictionary</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Vn</span>,<span class="hljs-attr">lefthand</span>:<span class="hljs-function">()=&gt;</span>$n,<span class="hljs-attr">lookup</span>:<span class="hljs-function">()=&gt;</span>mo,<span class="hljs-attr">triads</span>:<span class="hljs-function">()=&gt;</span>ao});<span class="hljs-keyword">var</span> ao={<span class="hljs-attr">M</span>:[<span class="hljs-string">&quot;1P 3M 5P&quot;</span>,<span class="hljs-string">&quot;3M 5P 8P&quot;</span>,<span class="hljs-string">&quot;5P 8P 10M&quot;</span>],<span class="hljs-attr">m</span>:[<span class="hljs-string">&quot;1P 3m 5P&quot;</span>,<span class="hljs-string">&quot;3m 5P 8P&quot;</span>,<span class="hljs-string">&quot;5P 8P 10m&quot;</span>],<span class="hljs-attr">o</span>:[<span class="hljs-string">&quot;1P 3m 5d&quot;</span>,<span class="hljs-string">&quot;3m 5d 8P&quot;</span>,<span class="hljs-string">&quot;5d 8P 10m&quot;</span>],<span class="hljs-attr">aug</span>:[<span class="hljs-string">&quot;1P 3m 5A&quot;</span>,<span class="hljs-string">&quot;3m 5A 8P&quot;</span>,<span class="hljs-string">&quot;5A 8P 10m&quot;</span>]},$n={<span class="hljs-attr">m7</span>:[<span class="hljs-string">&quot;3m 5P 7m 9M&quot;</span>,<span class="hljs-string">&quot;7m 9M 10m 12P&quot;</span>],<span class="hljs-number">7</span>:[<span class="hljs-string">&quot;3M 6M 7m 9M&quot;</span>,<span class="hljs-string">&quot;7m 9M 10M 13M&quot;</span>],<span class="hljs-string">&quot;^7&quot;</span>:[<span class="hljs-string">&quot;3M 5P 7M 9M&quot;</span>,<span class="hljs-string">&quot;7M 9M 10M 12P&quot;</span>],<span class="hljs-number">69</span>:[<span class="hljs-string">&quot;3M 5P 6A 9M&quot;</span>],<span class="hljs-attr">m7b5</span>:[<span class="hljs-string">&quot;3m 5d 7m 8P&quot;</span>,<span class="hljs-string">&quot;7m 8P 10m 12d&quot;</span>],<span class="hljs-string">&quot;7b9&quot;</span>:[<span class="hljs-string">&quot;3M 6m 7m 9m&quot;</span>,<span class="hljs-string">&quot;7m 9m 10M 13m&quot;</span>],<span class="hljs-string">&quot;7b13&quot;</span>:[<span class="hljs-string">&quot;3M 6m 7m 9m&quot;</span>,<span class="hljs-string">&quot;7m 9m 10M 13m&quot;</span>],<span class="hljs-attr">o7</span>:[<span class="hljs-string">&quot;1P 3m 5d 6M&quot;</span>,<span class="hljs-string">&quot;5d 6M 8P 10m&quot;</span>],<span class="hljs-string">&quot;7#11&quot;</span>:[<span class="hljs-string">&quot;7m 9M 11A 13A&quot;</span>],<span class="hljs-string">&quot;7#9&quot;</span>:[<span class="hljs-string">&quot;3M 7m 9A&quot;</span>],<span class="hljs-attr">mM7</span>:[<span class="hljs-string">&quot;3m 5P 7M 9M&quot;</span>,<span class="hljs-string">&quot;7M 9M 10m 12P&quot;</span>],<span class="hljs-attr">m6</span>:[<span class="hljs-string">&quot;3m 5P 6M 9M&quot;</span>,<span class="hljs-string">&quot;6M 9M 10m 12P&quot;</span>]},io={<span class="hljs-attr">M</span>:[<span class="hljs-string">&quot;1P 3M 5P&quot;</span>,<span class="hljs-string">&quot;3M 5P 8P&quot;</span>,<span class="hljs-string">&quot;5P 8P 10M&quot;</span>],<span class="hljs-attr">m</span>:[<span class="hljs-string">&quot;1P 3m 5P&quot;</span>,<span class="hljs-string">&quot;3m 5P 8P&quot;</span>,<span class="hljs-string">&quot;5P 8P 10m&quot;</span>],<span class="hljs-attr">o</span>:[<span class="hljs-string">&quot;1P 3m 5d&quot;</span>,<span class="hljs-string">&quot;3m 5d 8P&quot;</span>,<span class="hljs-string">&quot;5d 8P 10m&quot;</span>],<span class="hljs-attr">aug</span>:[<span class="hljs-string">&quot;1P 3m 5A&quot;</span>,<span class="hljs-string">&quot;3m 5A 8P&quot;</span>,<span class="hljs-string">&quot;5A 8P 10m&quot;</span>],<span class="hljs-attr">m7</span>:[<span class="hljs-string">&quot;3m 5P 7m 9M&quot;</span>,<span class="hljs-string">&quot;7m 9M 10m 12P&quot;</span>],<span class="hljs-number">7</span>:[<span class="hljs-string">&quot;3M 6M 7m 9M&quot;</span>,<span class="hljs-string">&quot;7m 9M 10M 13M&quot;</span>],<span class="hljs-string">&quot;^7&quot;</span>:[<span class="hljs-string">&quot;3M 5P 7M 9M&quot;</span>,<span class="hljs-string">&quot;7M 9M 10M 12P&quot;</span>],<span class="hljs-number">69</span>:[<span class="hljs-string">&quot;3M 5P 6A 9M&quot;</span>],<span class="hljs-attr">m7b5</span>:[<span class="hljs-string">&quot;3m 5d 7m 8P&quot;</span>,<span class="hljs-string">&quot;7m 8P 10m 12d&quot;</span>],<span class="hljs-string">&quot;7b9&quot;</span>:[<span class="hljs-string">&quot;3M 6m 7m 9m&quot;</span>,<span class="hljs-string">&quot;7m 9m 10M 13m&quot;</span>],<span class="hljs-string">&quot;7b13&quot;</span>:[<span class="hljs-string">&quot;3M 6m 7m 9m&quot;</span>,<span class="hljs-string">&quot;7m 9m 10M 13m&quot;</span>],<span class="hljs-attr">o7</span>:[<span class="hljs-string">&quot;1P 3m 5d 6M&quot;</span>,<span class="hljs-string">&quot;5d 6M 8P 10m&quot;</span>],<span class="hljs-string">&quot;7#11&quot;</span>:[<span class="hljs-string">&quot;7m 9M 11A 13A&quot;</span>],<span class="hljs-string">&quot;7#9&quot;</span>:[<span class="hljs-string">&quot;3M 7m 9A&quot;</span>],<span class="hljs-attr">mM7</span>:[<span class="hljs-string">&quot;3m 5P 7M 9M&quot;</span>,<span class="hljs-string">&quot;7M 9M 10m 12P&quot;</span>],<span class="hljs-attr">m6</span>:[<span class="hljs-string">&quot;3m 5P 6M 9M&quot;</span>,<span class="hljs-string">&quot;6M 9M 10m 12P&quot;</span>]},<span class="hljs-title class_">Vn</span>=$n;<span class="hljs-keyword">function</span> <span class="hljs-title function_">mo</span>(<span class="hljs-params">t,n=Vn</span>){<span class="hljs-keyword">if</span>(n[t])<span class="hljs-keyword">return</span> n[t];<span class="hljs-keyword">let</span>{<span class="hljs-attr">aliases</span>:e}=it.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;C&quot;</span>+t),r=<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(n).<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">o</span>=&gt;</span>e.<span class="hljs-title function_">includes</span>(o))||<span class="hljs-string">&quot;&quot;</span>;<span class="hljs-keyword">if</span>(r!==<span class="hljs-keyword">void</span> <span class="hljs-number">0</span>)<span class="hljs-keyword">return</span> n[r]}<span class="hljs-keyword">var</span> st={<span class="hljs-attr">lookup</span>:mo,<span class="hljs-attr">lefthand</span>:$n,<span class="hljs-attr">triads</span>:ao,<span class="hljs-attr">all</span>:io,<span class="hljs-attr">defaultDictionary</span>:<span class="hljs-title class_">Vn</span>};<span class="hljs-keyword">var</span> qn=[<span class="hljs-string">&quot;C3&quot;</span>,<span class="hljs-string">&quot;C5&quot;</span>],so=st.<span class="hljs-property">all</span>,co=<span class="hljs-title class_">Fn</span>.<span class="hljs-property">topNoteDiff</span>;<span class="hljs-keyword">function</span> <span class="hljs-title function_">Ln</span>(<span class="hljs-params">t,n=qn,e=so,r=co,o</span>){<span class="hljs-keyword">let</span> a=<span class="hljs-title class_">Gn</span>(t,n,e);<span class="hljs-keyword">return</span>!o||!o.<span class="hljs-property">length</span>?a[<span class="hljs-number">0</span>]:<span class="hljs-title function_">r</span>(a,o)}<span class="hljs-keyword">function</span> <span class="hljs-title function_">Gn</span>(<span class="hljs-params">t,n=qn,e=st.triads</span>){<span class="hljs-keyword">let</span>[r,o]=it.<span class="hljs-title function_">tokenize</span>(t),a=st.<span class="hljs-title function_">lookup</span>(o,e);<span class="hljs-keyword">if</span>(!a)<span class="hljs-keyword">return</span>[];<span class="hljs-keyword">let</span> i=a.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">c</span>=&gt;</span>c.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>)),m=jn.<span class="hljs-title function_">chromatic</span>(n);<span class="hljs-keyword">return</span> i.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">c,u</span>)=&gt;</span>{<span class="hljs-keyword">let</span> M=u.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">h</span>=&gt;</span>tn.<span class="hljs-title function_">subtract</span>(h,u[<span class="hljs-number">0</span>])||<span class="hljs-string">&quot;&quot;</span>),y=S.<span class="hljs-title function_">transpose</span>(r,u[<span class="hljs-number">0</span>]),P=m.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">h</span>=&gt;</span>S.<span class="hljs-title function_">chroma</span>(h)===S.<span class="hljs-title function_">chroma</span>(y)).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">h</span>=&gt;</span>(S.<span class="hljs-title function_">midi</span>(S.<span class="hljs-title function_">transpose</span>(h,M[M.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>]))||<span class="hljs-number">0</span>)&lt;=(S.<span class="hljs-title function_">midi</span>(n[<span class="hljs-number">1</span>])||<span class="hljs-number">0</span>)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">h</span>=&gt;</span>S.<span class="hljs-title function_">enharmonic</span>(h,y)).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">h</span>=&gt;</span>M.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">nt</span>=&gt;</span>S.<span class="hljs-title function_">transpose</span>(h,nt)));<span class="hljs-keyword">return</span> c.<span class="hljs-title function_">concat</span>(P)},[])}<span class="hljs-keyword">function</span> <span class="hljs-title function_">uo</span>(<span class="hljs-params">t,n=qn,e=so,r=co,o</span>){<span class="hljs-keyword">let</span>{<span class="hljs-attr">voicings</span>:a}=t.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">{voicings:i,lastVoicing:m},c</span>)=&gt;</span>{<span class="hljs-keyword">let</span> u=<span class="hljs-title class_">Ln</span>(c,n,e,r,m);<span class="hljs-keyword">return</span> m=u,i.<span class="hljs-title function_">push</span>(u),{<span class="hljs-attr">voicings</span>:i,<span class="hljs-attr">lastVoicing</span>:m}},{<span class="hljs-attr">voicings</span>:[],<span class="hljs-attr">lastVoicing</span>:o});<span class="hljs-keyword">return</span> a}<span class="hljs-keyword">var</span> <span class="hljs-title class_">Pi</span>={<span class="hljs-attr">get</span>:<span class="hljs-title class_">Ln</span>,<span class="hljs-attr">search</span>:<span class="hljs-title class_">Gn</span>,<span class="hljs-attr">sequence</span>:uo};<span class="hljs-keyword">var</span> $t={};<span class="hljs-title function_">d</span>($t,{<span class="hljs-attr">accToAlt</span>:<span class="hljs-function">()=&gt;</span>L,<span class="hljs-attr">altToAcc</span>:<span class="hljs-function">()=&gt;</span>F,<span class="hljs-attr">chroma</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Kn</span>,<span class="hljs-attr">coordToInterval</span>:<span class="hljs-function">()=&gt;</span>q,<span class="hljs-attr">coordToNote</span>:<span class="hljs-function">()=&gt;</span>ct,<span class="hljs-attr">coordinates</span>:<span class="hljs-function">()=&gt;</span>U,<span class="hljs-attr">deprecate</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Bn</span>,<span class="hljs-attr">distance</span>:<span class="hljs-function">()=&gt;</span>A,<span class="hljs-attr">fillStr</span>:<span class="hljs-function">()=&gt;</span>lo,<span class="hljs-attr">height</span>:<span class="hljs-function">()=&gt;</span>kt,<span class="hljs-attr">interval</span>:<span class="hljs-function">()=&gt;</span>f,<span class="hljs-attr">isNamed</span>:<span class="hljs-function">()=&gt;</span>fo,<span class="hljs-attr">isNamedPitch</span>:<span class="hljs-function">()=&gt;</span>C,<span class="hljs-attr">isPitch</span>:<span class="hljs-function">()=&gt;</span>_,<span class="hljs-attr">midi</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Un</span>,<span class="hljs-attr">note</span>:<span class="hljs-function">()=&gt;</span>s,<span class="hljs-attr">pitch</span>:<span class="hljs-function">()=&gt;</span>X,<span class="hljs-attr">stepToLetter</span>:<span class="hljs-function">()=&gt;</span>zt,<span class="hljs-attr">tokenizeInterval</span>:<span class="hljs-function">()=&gt;</span><span class="hljs-title class_">Lt</span>,<span class="hljs-attr">tokenizeNote</span>:<span class="hljs-function">()=&gt;</span>Q,<span class="hljs-attr">tonicIntervalsTransposer</span>:<span class="hljs-function">()=&gt;</span>O,<span class="hljs-attr">transpose</span>:<span class="hljs-function">()=&gt;</span>p});<span class="hljs-keyword">var</span> <span class="hljs-title function_">lo</span>=(<span class="hljs-params">t,n</span>)=&gt;<span class="hljs-title class_">Array</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">abs</span>(n)+<span class="hljs-number">1</span>).<span class="hljs-title function_">join</span>(t);<span class="hljs-keyword">function</span> <span class="hljs-title function_">Bn</span>(<span class="hljs-params">t,n,e</span>){<span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span>(<span class="hljs-params">...r</span>){<span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">warn</span>(<span class="hljs-string">`<span class="hljs-subst">${t}</span> is deprecated. Use <span class="hljs-subst">${n}</span>.`</span>),e.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>,r)}}<span class="hljs-keyword">var</span> fo=<span class="hljs-title class_">Bn</span>(<span class="hljs-string">&quot;isNamed&quot;</span>,<span class="hljs-string">&quot;isNamedPitch&quot;</span>,C);<span class="hljs-keyword">var</span> <span class="hljs-title class_">Mi</span>=$t,hi=ft,vi=dt,yi=gt;<span class="hljs-keyword">return</span> <span class="hljs-title class_">Ao</span>(bi);})();
<span class="hljs-comment">//# sourceMappingURL=tonal.min.js.map</span>
</div></div></div></main></body></html>